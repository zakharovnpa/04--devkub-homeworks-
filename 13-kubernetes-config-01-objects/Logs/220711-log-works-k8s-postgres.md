## –õ–æ–≥–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ 220711

```
maestro@PC-Ubuntu:~/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª$ 
maestro@PC-Ubuntu:~/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª$ ls -lha
–∏—Ç–æ–≥–æ 204K
drwxr-xr-x  3 maestro maestro 4,0K –∏—é–Ω 16 07:08  .
drwxr-xr-x 35 maestro maestro 4,0K –∏—é–ª  4 10:58  ..
lrwxrwxrwx  1 root    root      40 —è–Ω–≤ 17 17:33  goland.sh -> /usr/local/GoLand-2021.3.2/bin/goland.sh
-rw-rw-r--  1 maestro maestro    0 —è–Ω–≤ 14 12:12  Log-Learning-Git-branch.txt
-rw-------  1 maestro maestro    0 —è–Ω–≤ 14 12:12  .Log-Learning-Git-branch.txt.swp
lrwxrwxrwx  1 root    root      12 –∏—é–Ω 16 07:08  PyCharm -> ./pycharm.sh
lrwxrwxrwx  1 root    root      42 —è–Ω–≤ 17 17:33  pycharm.sh -> /snap/pycharm-community/265/bin/pycharm.sh
drwxrwxr-x  2 maestro maestro 4,0K –∞–ø—Ä 25 21:28  TMP
-rw-rw-r--  1 maestro maestro 191K –¥–µ–∫  9  2021 '–ë–µ–∑ –∏–º–µ–Ω–∏ 1'
maestro@PC-Ubuntu:~/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª$ 
maestro@PC-Ubuntu:~/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª$ cd
maestro@PC-Ubuntu:~$ 
maestro@PC-Ubuntu:~$ ls -lha
–∏—Ç–æ–≥–æ 24M
drwxr-xr-x 35 maestro maestro 4,0K –∏—é–ª  4 10:58  .
drwxr-xr-x  5 root    root    4,0K –∏—é–Ω  8 20:45  ..
drwxr-xr-x  2 root    root    4,0K –∏—é–Ω  8 20:37  157
-rw-rw-r--  1 maestro maestro  24M –∏—é–Ω 28 14:44 '2022-06-28 14-27-28.mkv'
-rw-------  1 maestro maestro  22K –∏—é–Ω 22 05:56  .bash_history
-rw-r--r--  1 maestro maestro  220 –¥–µ–∫  5  2021  .bash_logout
-rw-r--r--  1 maestro maestro 3,9K –∏—é–Ω 25 21:47  .bashrc
drwx------ 28 maestro maestro 4,0K –º–∞—è 18 21:15  .cache
drwx------ 32 maestro maestro 4,0K –∏—é–Ω 27 11:17  .config
drwxrwxr-x  6 maestro maestro 4,0K –º–∞—Ä 21 21:53  DevOps-–∏–Ω–∂–µ–Ω–µ—Ä
drwxrwxr-x  2 maestro maestro 4,0K —è–Ω–≤ 18 14:35  Downloads
-rw-rw-r--  1 maestro maestro   54 –º–∞—è  2 12:50  .gitconfig
drwx------  3 maestro maestro 4,0K –¥–µ–∫  6  2021  .gnome
drwx------  3 maestro maestro 4,0K –∏—é–Ω 27 11:17  .gnupg
drwxrwxr-x  5 maestro maestro 4,0K —è–Ω–≤ 17 16:24  IT-—Å–∏—Å—Ç–µ–º—ã-–∏-Linux
drwxrwxr-x  4 maestro maestro 4,0K –¥–µ–∫ 10  2021  .java
drwxr-xr-x  6 maestro maestro 4,0K –∏—é–ª  4 10:58  .kube
drwx------  3 maestro maestro 4,0K —Ñ–µ–≤ 17 15:21  .launchpadlib
drwxrwxr-x  3 maestro maestro 4,0K –∏—é–Ω 28 10:17  learning-kubernetes
drwxr-xr-x  3 maestro maestro 4,0K –¥–µ–∫  5  2021  .local
drwxr-xr-x 11 maestro maestro 4,0K –∏—é–Ω 10 21:25  .minikube
drwx------  5 maestro maestro 4,0K –¥–µ–∫  5  2021  .mozilla
drwx------  3 maestro maestro 4,0K –¥–µ–∫  6  2021  .pki
-rw-r--r--  1 maestro maestro  807 –¥–µ–∫  5  2021  .profile
drwx------  3 maestro maestro 4,0K –¥–µ–∫  8  2021  .putty
drwxrwxr-x  5 maestro maestro 4,0K –∞–ø—Ä 30 22:03  PycharmProjects
lrwxrwxrwx  1 maestro maestro   10 –¥–µ–∫ 10  2021  pycharm.sh -> pycharm.sh
-rw-rw-r--  1 maestro maestro   72 –¥–µ–∫ 29  2021  .selected_editor
drwx------  8 maestro maestro 4,0K –∏—é–Ω  7 16:20  snap
drwx------  2 maestro maestro 4,0K –º–∞—è  3 17:43  .ssh
-rw-r--r--  1 maestro maestro    0 –¥–µ–∫  5  2021  .sudo_as_admin_successful
drwxr-xr-x  2 maestro maestro 4,0K –¥–µ–∫ 19  2021  .terraform.d
drwx------  6 maestro maestro 4,0K –¥–µ–∫ 31  2021  .thunderbird
drwxrwxr-x  7 maestro maestro 4,0K –¥–µ–∫  5  2021  .vagrant.d
drwxr-xr-x  4 root    root    4,0K –¥–µ–∫  5  2021  Vagrant-project
-rw-------  1 maestro maestro  65K –∏—é–ª  4 10:58  .viminfo
drwxr-xr-x  2 maestro maestro 4,0K –¥–µ–∫  5  2021  –í–∏–¥–µ–æ
drwxr-xr-x  4 maestro maestro 4,0K –º–∞—è  6 23:27  –î–æ–∫—É–º–µ–Ω—Ç—ã
drwxr-xr-x 13 maestro maestro  16K –∏—é–ª  1 15:11  –ó–∞–≥—Ä—É–∑–∫–∏
drwxr-xr-x  2 maestro maestro  20K –∏—é–Ω 20 19:01  –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
drwxr-xr-x  2 maestro maestro 4,0K –¥–µ–∫  5  2021  –ú—É–∑—ã–∫–∞
drwxr-xr-x  2 maestro maestro 4,0K –¥–µ–∫  5  2021  –û–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ
drwxrwxr-x  5 maestro maestro 4,0K –¥–µ–∫ 19  2021  –û—Å–Ω–æ–≤—ã-—è–∑—ã–∫–∞-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è-Python
drwxr-xr-x  3 maestro maestro 4,0K –∏—é–Ω 16 07:08 '–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª'
drwxr-xr-x  2 maestro maestro 4,0K –¥–µ–∫  5  2021  –®–∞–±–ª–æ–Ω—ã
maestro@PC-Ubuntu:~$ 
maestro@PC-Ubuntu:~$ cd learning-kubernetes/
maestro@PC-Ubuntu:~/learning-kubernetes$ 
maestro@PC-Ubuntu:~/learning-kubernetes$ mkdir -p Delta
maestro@PC-Ubuntu:~/learning-kubernetes$ 
maestro@PC-Ubuntu:~/learning-kubernetes$ cd Delta/
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ ls -lha
–∏—Ç–æ–≥–æ 8,0K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  4 13:05 .
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  4 13:05 ..
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ git status
fatal: –Ω–µ –Ω–∞–π–¥–µ–Ω git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ –æ–¥–∏–Ω –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤): .git
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ sudo -i
[sudo] –ø–∞—Ä–æ–ª—å –¥–ª—è maestro: 
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.
[sudo] –ø–∞—Ä–æ–ª—å –¥–ª—è maestro: 
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# ls -lha
–∏—Ç–æ–≥–æ 317M
drwx------ 39 root    root    4,0K –∏—é–ª  4 10:03  .
drwxr-xr-x 20 root    root    4,0K –∏—é–ª  3 21:22  ..
-rw-r--r--  1 tcpdump tcpdump 1,2K —è–Ω–≤ 15 14:04  001.pcap
-rw-r--r--  1 tcpdump tcpdump  48K —è–Ω–≤ 15 14:05  002.pcap
-rw-r--r--  1 root    root    431K –º–∞—è 14 17:50  220514-1750-test-disk.txt
drwxr-xr-x  6 root    root    4,0K —Ñ–µ–≤ 20 20:38  .ansible
drwxr-xr-x  5 root    root    4,0K –º–∞—è 14 16:06  ansible-learning
drwxr-xr-x  2 root    root    4,0K —è–Ω–≤  4 11:00  .aws
-rw-------  1 root    root     40K –∏—é–Ω 29 07:28  .bash_history
-rw-r--r--  1 root    root    3,9K —Ñ–µ–≤  5 17:16  .bashrc
drwx------ 13 root    root    4,0K –∏—é–Ω 22 05:58  .cache
drwx------ 13 root    root    4,0K –∞–ø—Ä 14 16:59  .config
drwx------  3 root    root    4,0K —è–Ω–≤  3 18:03  .dbus
drwxr-xr-x  3 root    root    4,0K —è–Ω–≤ 13 17:30  devops-netology
drwx------  2 root    root    4,0K –∏—é–Ω  5 22:48  .docker
drwx------  3 root    root    4,0K –º–∞—Ä 13 20:27  Downloads
-rwxr-xr-x  1 root    root     19K –∞–ø—Ä 13 18:52  get-docker.sh
-rw-r--r--  1 root    root      62 –¥–µ–∫  9  2021  .gitconfig
drwx------  2 root    root    4,0K –∞–ø—Ä 27 17:56  .gnupg
drwxr-xr-x  3 root    root    4,0K —è–Ω–≤ 13 22:39  go
drwxr-xr-x  4 root    root    4,0K —è–Ω–≤ 13 21:31  .java
drwxr-xr-x  2 root    root    4,0K –∏—é–Ω 19 17:21  .kube
drwxr-xr-x  6 root    root    4,0K –∏—é–Ω 27 10:08  learning-kubernetis
drwxr-xr-x  6 root    root    4,0K –∞–ø—Ä 13 19:02  learning-monitoring
drwxr-xr-x  3 root    root    4,0K –∞–ø—Ä 30 11:56  learning-python
-rw-------  1 root    root     131 —Ñ–µ–≤ 26 17:56  .lesshst
drwx------  3 root    root    4,0K –¥–µ–∫  5  2021  .local
drwxr-xr-x  2 root    root    4,0K –¥–µ–∫ 23  2021  log
drwxr-xr-x  3 root    root    4,0K –º–∞—Ä 14 10:39  .m2
drwxr-xr-x 10 root    root    4,0K –º–∞—è 31 22:50  .minikube
-rwxr-xr-x  1 root    root     70M –º–∞—è 31 22:45  minikube
-rw-rw-r--  1 maestro maestro 1,7K —è–Ω–≤  5 12:21  my-key.pem
drwxr-xr-x 17 root    root    4,0K –º–∞—è 14 13:34  netology-project
-rw-r--r--  1 root    root    190M –º–∞—Ä 13 22:10  openjdk-14_linux-x64_bin.tar.gz
drwx------  3 root    root    4,0K –º–∞—è 12 19:01  .pki
-rw-r--r--  1 root    root     161 –¥–µ–∫  5  2019  .profile
-rw-rw-r--  1 maestro maestro 9,7K –∞–ø—Ä 13 18:50  profile-10.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –º–∞—è 17 09:40  profile-11.ovpn
-rw-rw-r--  1 maestro maestro 9,9K –º–∞—Ä 26 21:12  profile-3.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –º–∞—Ä 27 10:15  profile-4.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –º–∞—Ä 28 18:37  profile-5.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –º–∞—Ä 28 18:44  profile-6.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –º–∞—Ä 29 21:48  profile-7.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –∞–ø—Ä  8 09:02  profile-8.ovpn
-rw-rw-r--  1 maestro maestro 9,7K –∞–ø—Ä 13 17:25  profile-9.ovpn
drwxr-xr-x  4 root    root    4,0K –∞–ø—Ä 27 20:44  PycharmProjects
-rw-------  1 root    root    2,4K –¥–µ–∫ 25  2021  .python_history
drwxr-xr-x  8 root    root    4,0K –∞–ø—Ä 25 21:40  scripts
-rw-r--r--  1 root    root      72 –¥–µ–∫  9  2021  .selected_editor
drwxr-xr-x  6 root    root    4,0K –∞–ø—Ä 26 08:33  snap
drwxr-xr-x  4 root    root    4,0K –º–∞—Ä 13 18:54  .sonar
drwx------  2 root    root    4,0K –º–∞—Ä 16 21:13  .ssh
drwxr-xr-x 16 root    root    4,0K –º–∞—Ä 14 11:29  TEMP
-rwxrwxr-x  1 root    root     44M –º–∞—è 23  2019  terraform
-rw-r--r--  1 root    root     15M –¥–µ–∫ 19  2021  terraform_0.12.0_linux_amd64.zip
drwxr-xr-x  2 root    root    4,0K –º–∞—è  2 10:14  .terraform.d
drwxr-xr-x  3 root    root    4,0K —è–Ω–≤ 21 20:44  terraform-provider-aws
-rwxr-xr-x  1 root    root    2,5K –¥–µ–∫ 25  2021  test-services-2
drwxr-xr-x  3 root    root    4,0K —è–Ω–≤ 15 12:29  testssl
drwxr-xr-x  7 root    root    4,0K –∏—é–Ω  6 10:34  .vagrant.d
drwxr-xr-x  6 root    root    4,0K –º–∞—Ä  3 22:42  vagrant-project
drwxr-xr-x  2 root    root    4,0K –∞–ø—Ä 13 21:45  .vim
-rw-------  1 root    root     34K –∏—é–ª  4 10:03  .viminfo
drwx------  3 root    root    4,0K –º–∞—è 17 07:31 'VirtualBox VMs'
-rw-r--r--  1 root    root     173 –¥–µ–∫  5  2021  .wget-hsts
drwxr-xr-x  4 root    root    4,0K –¥–µ–∫  6  2021  .wine
drwxr-xr-x  4 root    root    4,0K –¥–µ–∫  9  2021  yandex-cloud
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# cd learning-kubernetis/
root@PC-Ubuntu:~/learning-kubernetis# 
root@PC-Ubuntu:~/learning-kubernetis# ls -lha
–∏—Ç–æ–≥–æ 28K
drwxr-xr-x  6 root root 4,0K –∏—é–Ω 27 10:08 .
drwx------ 39 root root 4,0K –∏—é–ª  4 10:03 ..
drwxr-xr-x  5 root root 4,0K –∏—é–ª  2 10:30 Alfa
drwxr-xr-x  2 root root 4,0K –∏—é–ª  4 10:03 Betta
drwxr-xr-x 21 root root 4,0K –∏—é–Ω  4 09:15 kubernetes-for-beginners
drwxr-xr-x 16 root root 4,0K –∏—é–Ω 13 22:15 kubespray
-rw-r--r--  1 root root  690 –∏—é–Ω 17 08:56 README.md
root@PC-Ubuntu:~/learning-kubernetis# 
root@PC-Ubuntu:~/learning-kubernetis# mc

root@PC-Ubuntu:~/learning-kubernetis# cd 
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# cd netology-project/
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# ls -lha
–∏—Ç–æ–≥–æ 68K
drwxr-xr-x 17 root root 4,0K –º–∞—è 14 13:34 .
drwx------ 39 root root 4,0K –∏—é–ª  4 10:03 ..
drwxr-xr-x  3 root root 4,0K —è–Ω–≤ 13 17:27 01-devops-admin
drwxr-xr-x  3 root root 4,0K –¥–µ–∫  9  2021 02-virt-admin
drwxr-xr-x  4 root root 4,0K —Ñ–µ–≤  5 11:03 03-mnt-homeworks
drwxr-xr-x 14 root root 4,0K –¥–µ–∫ 20  2021 2-virt-admin
drwxr-xr-x  4 root root 4,0K —è–Ω–≤  3 19:23 brikman
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 20  2021 devops-terraform
drwxr-xr-x  4 root root 4,0K –¥–µ–∫  9  2021 Docker-Compose
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 15  2021 Docker-Compose-Hard
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 11  2021 Docker-Compose-Swarm
drwxr-xr-x  6 root root 4,0K –º–∞—è  7 21:00 example-teamcity
drwxr-xr-x  4 root root 4,0K –¥–µ–∫ 21  2021 learning-terraform
drwxr-xr-x  4 root root 4,0K —Ñ–µ–≤  4 17:03 mnt-homeworks-1
drwxr-xr-x  4 root root 4,0K –º–∞—è 14 13:35 mnt-homeworks-mnt13
drwxr-xr-x  4 root root 4,0K –¥–µ–∫ 20  2021 terraform-02-syntax
drwxr-xr-x 21 root root 4,0K –¥–µ–∫ 11  2021 virt-homeworks-1
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# git status
fatal: –Ω–µ –Ω–∞–π–¥–µ–Ω git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ –æ–¥–∏–Ω –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤): .git
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# git log https://github.com/netology-code/devkub-homeworks.git
fatal: –Ω–µ –Ω–∞–π–¥–µ–Ω git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ –æ–¥–∏–Ω –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤): .git
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# git clone https://github.com/netology-code/devkub-homeworks.git
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ¬´devkub-homeworks¬ª‚Ä¶
remote: Enumerating objects: 327, done.
remote: Counting objects: 100% (90/90), done.
remote: Compressing objects: 100% (37/37), done.
remote: Total 327 (delta 76), reused 53 (delta 53), pack-reused 237
–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤: 100% (327/327), 218.95 –ö–∏–ë | 1.11 –ú–∏–ë/—Å, –≥–æ—Ç–æ–≤–æ.
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 100% (150/150), –≥–æ—Ç–æ–≤–æ.
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# ls -lha
–∏—Ç–æ–≥–æ 72K
drwxr-xr-x 18 root root 4,0K –∏—é–ª  4 13:09 .
drwx------ 39 root root 4,0K –∏—é–ª  4 10:03 ..
drwxr-xr-x  3 root root 4,0K —è–Ω–≤ 13 17:27 01-devops-admin
drwxr-xr-x  3 root root 4,0K –¥–µ–∫  9  2021 02-virt-admin
drwxr-xr-x  4 root root 4,0K —Ñ–µ–≤  5 11:03 03-mnt-homeworks
drwxr-xr-x 14 root root 4,0K –¥–µ–∫ 20  2021 2-virt-admin
drwxr-xr-x  4 root root 4,0K —è–Ω–≤  3 19:23 brikman
drwxr-xr-x  5 root root 4,0K –∏—é–ª  4 13:09 devkub-homeworks
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 20  2021 devops-terraform
drwxr-xr-x  4 root root 4,0K –¥–µ–∫  9  2021 Docker-Compose
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 15  2021 Docker-Compose-Hard
drwxr-xr-x  3 root root 4,0K –¥–µ–∫ 11  2021 Docker-Compose-Swarm
drwxr-xr-x  6 root root 4,0K –º–∞—è  7 21:00 example-teamcity
drwxr-xr-x  4 root root 4,0K –¥–µ–∫ 21  2021 learning-terraform
drwxr-xr-x  4 root root 4,0K —Ñ–µ–≤  4 17:03 mnt-homeworks-1
drwxr-xr-x  4 root root 4,0K –º–∞—è 14 13:35 mnt-homeworks-mnt13
drwxr-xr-x  4 root root 4,0K –¥–µ–∫ 20  2021 terraform-02-syntax
drwxr-xr-x 21 root root 4,0K –¥–µ–∫ 11  2021 virt-homeworks-1
root@PC-Ubuntu:~/netology-project# 
root@PC-Ubuntu:~/netology-project# cd devkub-homeworks/
root@PC-Ubuntu:~/netology-project/devkub-homeworks# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks# ls -lha
–∏—Ç–æ–≥–æ 92K
drwxr-xr-x  5 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 18 root root 4,0K –∏—é–ª  4 13:09 ..
-rw-r--r--  1 root root 1,2K –∏—é–ª  4 13:09 11-microservices-01-intro.md
drwxr-xr-x  5 root root 4,0K –∏—é–ª  4 13:09 11-microservices-02-principles
-rw-r--r--  1 root root 5,7K –∏—é–ª  4 13:09 11-microservices-02-principles.md
-rw-r--r--  1 root root 7,1K –∏—é–ª  4 13:09 11-microservices-03-approaches.md
-rw-r--r--  1 root root 2,8K –∏—é–ª  4 13:09 11-microservices-04-scaling.md
-rw-r--r--  1 root root 4,6K –∏—é–ª  4 13:09 12-kubernetes-01-intro.md
-rw-r--r--  1 root root 3,4K –∏—é–ª  4 13:09 12-kubernetes-02-commands.md
-rw-r--r--  1 root root 2,5K –∏—é–ª  4 13:09 12-kubernetes-03-install-part-1.md
-rw-r--r--  1 root root 1,7K –∏—é–ª  4 13:09 12-kubernetes-04-install-part-2.md
-rw-r--r--  1 root root 1,6K –∏—é–ª  4 13:09 12-kubernetes-05-cni.md
drwxr-xr-x  4 root root 4,0K –∏—é–ª  4 13:09 13-kubernetes-config
-rw-r--r--  1 root root 2,7K –∏—é–ª  4 13:09 13-kubernetes-config-01-objects.md
-rw-r--r--  1 root root 2,8K –∏—é–ª  4 13:09 13-kubernetes-config-02-mounts.md
-rw-r--r--  1 root root 1,4K –∏—é–ª  4 13:09 13-kubernetes-config-03-kubectl.md
-rw-r--r--  1 root root 2,0K –∏—é–ª  4 13:09 13-kubernetes-config-04-helm.md
-rw-r--r--  1 root root 1,2K –∏—é–ª  4 13:09 13-kubernetes-config-05-qbec.md
drwxr-xr-x  8 root root 4,0K –∏—é–ª  4 13:09 .git
-rw-r--r--  1 root root 3,9K –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks# cd 13-kubernetes-config/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd backend/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# ls -lha
–∏—Ç–æ–≥–æ 36K
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 ..
-rw-r--r-- 1 root root  261 –∏—é–ª  4 13:09 Dockerfile
-rw-r--r-- 1 root root   55 –∏—é–ª  4 13:09 .env.example
-rw-r--r-- 1 root root 2,3K –∏—é–ª  4 13:09 main.py
-rw-r--r-- 1 root root  280 –∏—é–ª  4 13:09 Pipfile
-rw-r--r-- 1 root root  12K –∏—é–ª  4 13:09 Pipfile.lock
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# cp .env.example .env
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# cd  ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd frontend/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# ls -lha
–∏—Ç–æ–≥–æ 412K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 build
-rw-r--r-- 1 root root  344 –∏—é–ª  4 13:09 demo.conf
-rw-r--r-- 1 root root  387 –∏—é–ª  4 13:09 Dockerfile
-rw-r--r-- 1 root root   30 –∏—é–ª  4 13:09 .env
-rw-r--r-- 1 root root   30 –∏—é–ª  4 13:09 .env.example
-rwxr-xr-x 1 root root    0 –∏—é–ª  4 13:09 index.html
-rwxr-xr-x 1 root root    0 –∏—é–ª  4 13:09 item.html
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 js
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 markup
-rw-r--r-- 1 root root 1,1K –∏—é–ª  4 13:09 package.json
-rw-r--r-- 1 root root 357K –∏—é–ª  4 13:09 package-lock.json
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 static
drwxr-xr-x 3 root root 4,0K –∏—é–ª  4 13:09 styles
-rw-r--r-- 1 root root 2,8K –∏—é–ª  4 13:09 webpack.config.js
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# docker-compose version
Docker Compose version v2.2.2
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat docker-compose.yml 
version: "3.7"

services:
  frontend:
    build: ./frontend
    ports:
      - 8000:80

  backend:
    build: ./backend
    links:
      - db
    ports:
      - 9000:9000

  db:
    image: postgres:13-alpine
    environment:
      POSTGRES_PASSWORD: postgres
      POSTGRES_USER: postgres
      POSTGRES_DB: news
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# nc
usage: nc [-46CDdFhklNnrStUuvZz] [-I length] [-i interval] [-M ttl]
	  [-m minttl] [-O length] [-P proxy_username] [-p source_port]
	  [-q seconds] [-s source] [-T keyword] [-V rtable] [-W recvlimit] [-w timeout]
	  [-X proxy_protocol] [-x proxy_address[:port]] 	  [destination] [port]
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose up --build .
no such service: .
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose --help

Usage:  docker compose [OPTIONS] COMMAND

Docker Compose

Options:
      --ansi string                Control when to print ANSI control characters ("never"|"always"|"auto") (default "auto")
      --compatibility              Run compose in backward compatibility mode
      --env-file string            Specify an alternate environment file.
  -f, --file stringArray           Compose configuration files
      --profile stringArray        Specify a profile to enable
      --project-directory string   Specify an alternate working directory
                                   (default: the path of the Compose file)
  -p, --project-name string        Project name

Commands:
  build       Build or rebuild services
  convert     Converts the compose file to platform's canonical format
  cp          Copy files/folders between a service container and the local filesystem
  create      Creates containers for a service.
  down        Stop and remove containers, networks
  events      Receive real time events from containers.
  exec        Execute a command in a running container.
  images      List images used by the created containers
  kill        Force stop service containers.
  logs        View output from containers
  ls          List running compose projects
  pause       Pause services
  port        Print the public port for a port binding.
  ps          List containers
  pull        Pull service images
  push        Push service images
  restart     Restart containers
  rm          Removes stopped service containers
  run         Run a one-off command on a service.
  start       Start services
  stop        Stop services
  top         Display the running processes
  unpause     Unpause services
  up          Create and start containers
  version     Show the Docker Compose version information

Run 'docker compose COMMAND --help' for more information on a command.
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build --help

Usage:  docker compose build [SERVICE...]

Build or rebuild services

Options:
      --build-arg stringArray   Set build-time variables for services.
      --no-cache                Do not use cache when building the image
      --progress string         Set type of progress output (auto, tty, plain, quiet) (default "auto")
      --pull                    Always attempt to pull a newer version of the image.
  -q, --quiet                   Don't print anything to STDOUT
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build
Sending build context to Docker daemon  112.2kB
Step 1/14 : FROM node:lts-buster as builder
lts-buster: Pulling from library/node
ea267e4631a9: Pull complete 
8a014c921489: Pull complete 
293ff1be7001: Pull complete 
4e42533e7311: Pull complete 
e56e70ed0dfb: Pull complete 
43ccf1ebdd00: Pull complete 
06925feb028d: Pull complete 
403a3da90881: Pull complete 
8aa2a751e29b: Pull complete 
Digest: sha256:a13d2d2aec7f0dae18a52ca4d38b592e45a45cc4456ffab82e5ff10d8a53d042
Status: Downloaded newer image for node:lts-buster
 ---> b9f398d30e45
Step 2/14 : RUN mkdir /app
 ---> Running in c89d25977e10
 ---> f16fcbd21ee6
Step 3/14 : WORKDIR /app
 ---> Running in 558b524fe484
 ---> 6812598cb3ad
Step 4/14 : ADD package.json /app/package.json
 ---> 6e4c1b5ae040
Step 5/14 : ADD package-lock.json /app/package-lock.json
 ---> ecef30491f9a
Step 6/14 : RUN npm i
 ---> Running in 06ff8b6e448b
npm WARN old lockfile 
npm WARN old lockfile The package-lock.json file was created with an old version of npm,
npm WARN old lockfile so supplemental metadata must be fetched from the registry.
npm WARN old lockfile 
npm WARN old lockfile This is a one-time fix-up, please be patient...
npm WARN old lockfile 
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
npm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility
npm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
npm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
npm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.
npm WARN deprecated @babel/polyfill@7.12.1: üö® This package has been deprecated in favor of separate inclusion of a polyfill and regenerator-runtime (when needed). See the @babel/polyfill docs (https://babeljs.io/docs/en/babel-polyfill) for more information.
npm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies
npm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies
npm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.

added 1013 packages, and audited 1014 packages in 50s

64 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (6 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New minor version of npm available! 8.11.0 -> 8.13.2
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.13.2>
npm notice Run `npm install -g npm@8.13.2` to update!
npm notice 
 ---> a154e3d6e8c3
Step 7/14 : ADD . /app
 ---> d34cfbeb458c
Step 8/14 : RUN npm run build && rm -rf /app/node_modules
 ---> Running in a155ec88c495

> devops-testapp@1.0.0 build
> cross-env NODE_ENV=production webpack --config webpack.config.js --mode production

‚Ñπ Compiling Production build progress
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
‚úî Production build progress: Compiled successfully in 2.56s
Hash: ec3f8bf57db6746b49f5
Version: webpack 4.46.0
Time: 2567ms
Built at: 07/04/2022 12:30:31 PM
   Asset      Size  Chunks             Chunk Names
main.css  2.46 KiB       0  [emitted]  main
 main.js  3.16 KiB       0  [emitted]  main
Entrypoint main = main.css main.js
[0] ./styles/index.less 39 bytes {0} [built]
[1] ./js/index.js + 1 modules 3.78 KiB {0} [built]
    | ./js/index.js 3.73 KiB [built]
    | ./js/config.js 43 bytes [built]
    + 2 hidden modules
Child mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/postcss-loader/src/index.js??ref--6-2!node_modules/group-css-media-queries-loader/lib/index.js!node_modules/less-loader/dist/cjs.js!styles/index.less:
    Entrypoint mini-css-extract-plugin = *
    [1] ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src??ref--6-2!./node_modules/group-css-media-queries-loader/lib!./node_modules/less-loader/dist/cjs.js!./styles/index.less 1.3 KiB {0} [built]
    [2] ./node_modules/css-loader/dist/cjs.js!./styles/normalize.css 6.59 KiB {0} [built]
        + 1 hidden module
 ---> d173cf56ce49
Step 9/14 : FROM nginx:latest
latest: Pulling from library/nginx
b85a868b505f: Pull complete 
f4407ba1f103: Pull complete 
4a7307612456: Pull complete 
935cecace2a0: Pull complete 
8f46223e4234: Pull complete 
fe0ef4c895f5: Pull complete 
Digest: sha256:10f14ffa93f8dedf1057897b745e5ac72ac5655c299dade0aa434c71557697ea
Status: Downloaded newer image for nginx:latest
 ---> 55f4b40fe486
Step 10/14 : RUN mkdir /app
 ---> Running in 33af72a5054d
 ---> eb2495b33cd2
Step 11/14 : WORKDIR /app
 ---> Running in d39b87253b2a
 ---> dd332f3a8cec
Step 12/14 : COPY --from=builder /app/ /app
 ---> 08637bdea5b3
Step 13/14 : RUN mv /app/markup/* /app && rm -rf /app/markup
 ---> Running in e51cd16c5a70
 ---> 9b657fa64ab2
Step 14/14 : ADD demo.conf /etc/nginx/conf.d/default.conf
 ---> 5438a0c5806b
Successfully built 5438a0c5806b
Successfully tagged 13-kubernetes-config_frontend:latest
Sending build context to Docker daemon  5.793kB
Step 1/8 : FROM python:3.9-buster
3.9-buster: Pulling from library/python
ea267e4631a9: Already exists 
8a014c921489: Already exists 
293ff1be7001: Already exists 
4e42533e7311: Already exists 
e56e70ed0dfb: Already exists 
1ae6d32f2fda: Pull complete 
cc870a2934f0: Pull complete 
6f1bab779019: Pull complete 
a17c142d18bb: Pull complete 
Digest: sha256:2018f2f7d166f370bd70d7d003c3672da718f2bca8161a2085ef0da550e47659
Status: Downloaded newer image for python:3.9-buster
 ---> 999912f2c071
Step 2/8 : RUN mkdir /app && python -m pip install pipenv
 ---> Running in 09694e8361b3
Collecting pipenv
  Downloading pipenv-2022.6.7-py2.py3-none-any.whl (3.9 MB)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 3.9/3.9 MB 7.3 MB/s eta 0:00:00
Requirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)
Collecting certifi
  Downloading certifi-2022.6.15-py3-none-any.whl (160 kB)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 160.2/160.2 KB 8.0 MB/s eta 0:00:00
Collecting virtualenv-clone>=0.2.5
  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)
Requirement already satisfied: pip>=22.0.4 in /usr/local/lib/python3.9/site-packages (from pipenv) (22.0.4)
Collecting virtualenv
  Downloading virtualenv-20.15.1-py2.py3-none-any.whl (10.1 MB)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 10.1/10.1 MB 9.3 MB/s eta 0:00:00
Collecting filelock<4,>=3.2
  Downloading filelock-3.7.1-py3-none-any.whl (10 kB)
Collecting distlib<1,>=0.3.1
  Downloading distlib-0.3.4-py2.py3-none-any.whl (461 kB)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 461.2/461.2 KB 8.9 MB/s eta 0:00:00
Collecting platformdirs<3,>=2
  Downloading platformdirs-2.5.2-py3-none-any.whl (14 kB)
Collecting six<2,>=1.9.0
  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
Installing collected packages: distlib, virtualenv-clone, six, platformdirs, filelock, certifi, virtualenv, pipenv
Successfully installed certifi-2022.6.15 distlib-0.3.4 filelock-3.7.1 pipenv-2022.6.7 platformdirs-2.5.2 six-1.16.0 virtualenv-20.15.1 virtualenv-clone-0.5.7
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
WARNING: You are using pip version 22.0.4; however, version 22.1.2 is available.
You should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.
 ---> 9d2f43cfe6c6
Step 3/8 : WORKDIR /app
 ---> Running in d7a9eac90dd0
 ---> c32c3aa2b2f7
Step 4/8 : ADD Pipfile /app/Pipfile
 ---> b7ea0062acb5
Step 5/8 : ADD Pipfile.lock /app/Pipfile.lock
 ---> ff051eb06a75
Step 6/8 : RUN pipenv install
 ---> Running in 70bfa6e9d73b
Creating a virtualenv for this project...
Pipfile: /app/Pipfile
Using /usr/local/bin/python3.9 (3.9.13) to create virtualenv...
‚†π Creating virtual environment...created virtual environment CPython3.9.13.final.0-64 in 820ms
  creator CPython3Posix(dest=/root/.local/share/virtualenvs/app-4PlAip0Q, clear=False, no_vcs_ignore=False, global=False)
  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)
    added seed packages: pip==22.1.2, setuptools==62.6.0, wheel==0.37.1
  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator

‚úî Successfully created virtual environment! 
Virtualenv location: /root/.local/share/virtualenvs/app-4PlAip0Q
Installing dependencies from Pipfile.lock (e9059d)...
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 11/11 ‚Äî 00:00:19
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
 ---> d8b4b490bb86
Step 7/8 : ADD main.py /app/main.py
 ---> 82eab8a2296b
Step 8/8 : CMD pipenv run uvicorn main:app --reload --host 0.0.0.0 --port 9000
 ---> Running in 3f26df1fdde9
 ---> bf58e470d5a5
Successfully built bf58e470d5a5
Successfully tagged 13-kubernetes-config_backend:latest

Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   8 minutes ago   1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   9 minutes ago   142MB
<none>                                                              <none>            d173cf56ce49   9 minutes ago   1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   11 days ago     907MB
nginx                                                               latest            55f4b40fe486   11 days ago     142MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   8 weeks ago     236MB
docker                                                              latest            da88b5cbcdd8   8 weeks ago     219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# type npm
-bash: type: npm: –Ω–µ –Ω–∞–π–¥–µ–Ω
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list --help

Usage:  docker image ls [OPTIONS] [REPOSITORY[:TAG]]

List images

Aliases:
  ls, list

Options:
  -a, --all             Show all images (default hides intermediate images)
      --digests         Show digests
  -f, --filter filter   Filter output based on conditions provided
      --format string   Pretty-print images using a Go template
      --no-trunc        Don't truncate output
  -q, --quiet           Only show image IDs
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list -a
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   2 hours ago     1.07GB
<none>                                                              <none>            82eab8a2296b   2 hours ago     1.07GB
<none>                                                              <none>            d8b4b490bb86   2 hours ago     1.07GB
<none>                                                              <none>            ff051eb06a75   2 hours ago     946MB
<none>                                                              <none>            b7ea0062acb5   2 hours ago     946MB
<none>                                                              <none>            c32c3aa2b2f7   2 hours ago     946MB
<none>                                                              <none>            9d2f43cfe6c6   2 hours ago     946MB
<none>                                                              <none>            9b657fa64ab2   2 hours ago     142MB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   2 hours ago     142MB
<none>                                                              <none>            dd332f3a8cec   2 hours ago     142MB
<none>                                                              <none>            08637bdea5b3   2 hours ago     142MB
<none>                                                              <none>            eb2495b33cd2   2 hours ago     142MB
<none>                                                              <none>            d173cf56ce49   2 hours ago     1.06GB
<none>                                                              <none>            d34cfbeb458c   2 hours ago     1.05GB
<none>                                                              <none>            a154e3d6e8c3   2 hours ago     1.05GB
<none>                                                              <none>            6812598cb3ad   2 hours ago     907MB
<none>                                                              <none>            ecef30491f9a   2 hours ago     908MB
<none>                                                              <none>            f16fcbd21ee6   2 hours ago     907MB
<none>                                                              <none>            6e4c1b5ae040   2 hours ago     907MB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   11 days ago     907MB
nginx                                                               latest            55f4b40fe486   11 days ago     142MB
<none>                                                              <none>            dc44ddc3dd2a   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
<none>                                                              <none>            bb7eaf408861   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
<none>                                                              <none>            0ff770e96d40   7 weeks ago     427MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
<none>                                                              <none>            19e88e862b52   7 weeks ago     427MB
<none>                                                              <none>            b9ee51a6e7ce   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
<none>                                                              <none>            e9b7ae1d1f9b   7 weeks ago     419MB
docker                                                              dind              c89d806adeb8   8 weeks ago     236MB
docker                                                              latest            da88b5cbcdd8   8 weeks ago     219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# df -h
–§–∞–π–ª.—Å–∏—Å—Ç–µ–º–∞   –†–∞–∑–º–µ—Ä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ  –î–æ—Å—Ç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ% C–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤
udev             7,8G            0  7,8G            0% /dev
tmpfs            1,6G         2,0M  1,6G            1% /run
/dev/sdb5        110G          84G   21G           81% /
tmpfs            7,8G         158M  7,7G            2% /dev/shm
tmpfs            5,0M         4,0K  5,0M            1% /run/lock
tmpfs            7,8G            0  7,8G            0% /sys/fs/cgroup
/dev/loop0       128K         128K     0          100% /snap/bare/5
/dev/loop1       112M         112M     0          100% /snap/core/13250
/dev/loop3        56M          56M     0          100% /snap/core18/2409
/dev/loop2       114M         114M     0          100% /snap/core/13308
/dev/loop5        72M          72M     0          100% /snap/fbreader/19
/dev/loop4       283M         283M     0          100% /snap/dbeaver-ce/196
/dev/loop6       165M         165M     0          100% /snap/gnome-3-28-1804/161
/dev/loop7       106M         106M     0          100% /snap/slack/62
/dev/loop8       106M         106M     0          100% /snap/slack/63
/dev/loop9        62M          62M     0          100% /snap/core20/1494
/dev/loop10      277M         277M     0          100% /snap/dbeaver-ce/194
/dev/loop11       55M          55M     0          100% /snap/snap-store/558
/dev/loop12       51M          51M     0          100% /snap/snap-store/547
/dev/loop13      219M         219M     0          100% /snap/gnome-3-34-1804/72
/dev/loop14      255M         255M     0          100% /snap/gnome-3-38-2004/106
/dev/loop15       56M          56M     0          100% /snap/core18/2344
/dev/loop16      219M         219M     0          100% /snap/gnome-3-34-1804/77
/dev/loop17       45M          45M     0          100% /snap/snapd/15904
/dev/loop18       92M          92M     0          100% /snap/gtk-common-themes/1535
/dev/loop19       47M          47M     0          100% /snap/snapd/16010
/dev/loop20       62M          62M     0          100% /snap/core20/1518
/dev/loop21      566M         566M     0          100% /snap/pycharm-community/286
/dev/loop22       82M          82M     0          100% /snap/gtk-common-themes/1534
/dev/loop23      9,3M         9,3M     0          100% /snap/k9s/151
/dev/loop24      566M         566M     0          100% /snap/pycharm-community/281
/dev/loop25      401M         401M     0          100% /snap/gnome-3-38-2004/112
overlay          110G          84G   21G           81% /var/lib/docker/overlay2/959cab60859010edc8a7735567d72e1da8addc95429431e98983ad625677cc85/merged
tmpfs            1,6G          60K  1,6G            1% /run/user/1000
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose up
[+] Running 9/9
 ‚†ø db Pulled                                                                                                                                                                                            20.5s
   ‚†ø 2408cc74d12b Already exists                                                                                                                                                                         0.0s
   ‚†ø cde4337df78d Pull complete                                                                                                                                                                          1.3s
   ‚†ø 55ba5f494780 Pull complete                                                                                                                                                                          1.4s
   ‚†ø 56f1718fcdf5 Pull complete                                                                                                                                                                         16.6s
   ‚†ø 728c5f526fa3 Pull complete                                                                                                                                                                         16.7s
   ‚†ø afa1a4a2aaab Pull complete                                                                                                                                                                         16.8s
   ‚†ø 30dca59672f8 Pull complete                                                                                                                                                                         16.9s
   ‚†ø a4fd8a42494f Pull complete                                                                                                                                                                         17.0s
[+] Running 4/4
 ‚†ø Network 13-kubernetes-config_default       Created                                                                                                                                                    0.1s
 ‚†ø Container 13-kubernetes-config-frontend-1  Created                                                                                                                                                    0.9s
 ‚†ø Container 13-kubernetes-config-db-1        Created                                                                                                                                                    0.9s
 ‚†ø Container 13-kubernetes-config-backend-1   Created                                                                                                                                                    0.0s
Attaching to 13-kubernetes-config-backend-1, 13-kubernetes-config-db-1, 13-kubernetes-config-frontend-1
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
13-kubernetes-config-frontend-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
13-kubernetes-config-db-1        | The files belonging to this database system will be owned by user "postgres".
13-kubernetes-config-db-1        | This user must also own the server process.
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | The database cluster will be initialized with locale "en_US.utf8".
13-kubernetes-config-db-1        | The default database encoding has accordingly been set to "UTF8".
13-kubernetes-config-db-1        | The default text search configuration will be set to "english".
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | Data page checksums are disabled.
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | fixing permissions on existing directory /var/lib/postgresql/data ... ok
13-kubernetes-config-frontend-1  | 10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
13-kubernetes-config-db-1        | creating subdirectories ... ok
13-kubernetes-config-db-1        | selecting dynamic shared memory implementation ... posix
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
13-kubernetes-config-frontend-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: using the "epoll" event method
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: nginx/1.23.0
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6) 
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: OS: Linux 5.13.0-52-generic
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker processes
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 30
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 31
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 32
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 33
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 34
13-kubernetes-config-frontend-1  | 2022/07/04 14:55:12 [notice] 1#1: start worker process 35
13-kubernetes-config-db-1        | selecting default max_connections ... 100
13-kubernetes-config-db-1        | selecting default shared_buffers ... 128MB
13-kubernetes-config-db-1        | selecting default time zone ... UTC
13-kubernetes-config-db-1        | creating configuration files ... ok
13-kubernetes-config-db-1        | running bootstrap script ... ok
13-kubernetes-config-db-1        | performing post-bootstrap initialization ... sh: locale: not found
13-kubernetes-config-db-1        | 2022-07-04 14:55:13.415 UTC [31] WARNING:  no usable system locales were found
13-kubernetes-config-db-1        | ok
13-kubernetes-config-db-1        | syncing data to disk ... ok
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | Success. You can now start the database server using:
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        |     pg_ctl -D /var/lib/postgresql/data -l logfile start
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | initdb: warning: enabling "trust" authentication for local connections
13-kubernetes-config-db-1        | You can change this by editing pg_hba.conf or using the option -A, or
13-kubernetes-config-db-1        | --auth-local and --auth-host, the next time you run initdb.
13-kubernetes-config-db-1        | waiting for server to start....2022-07-04 14:55:14.274 UTC [37] LOG:  starting PostgreSQL 13.7 on x86_64-pc-linux-musl, compiled by gcc (Alpine 11.2.1_git20220219) 11.2.1 20220219, 64-bit
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.276 UTC [37] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.279 UTC [38] LOG:  database system was shut down at 2022-07-04 14:55:14 UTC
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.284 UTC [37] LOG:  database system is ready to accept connections
13-kubernetes-config-backend-1   | INFO:     Uvicorn running on http://0.0.0.0:9000 (Press CTRL+C to quit)
13-kubernetes-config-backend-1   | INFO:     Started reloader process [7] using statreload
13-kubernetes-config-db-1        |  done
13-kubernetes-config-db-1        | server started
13-kubernetes-config-db-1        | CREATE DATABASE
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | waiting for server to shut down....2022-07-04 14:55:14.479 UTC [37] LOG:  received fast shutdown request
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.480 UTC [37] LOG:  aborting any active transactions
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.482 UTC [37] LOG:  background worker "logical replication launcher" (PID 44) exited with exit code 1
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.484 UTC [39] LOG:  shutting down
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.498 UTC [37] LOG:  database system is shut down
13-kubernetes-config-db-1        |  done
13-kubernetes-config-db-1        | server stopped
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | PostgreSQL init process complete; ready for start up.
13-kubernetes-config-db-1        | 
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.611 UTC [1] LOG:  starting PostgreSQL 13.7 on x86_64-pc-linux-musl, compiled by gcc (Alpine 11.2.1_git20220219) 11.2.1 20220219, 64-bit
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.611 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.611 UTC [1] LOG:  listening on IPv6 address "::", port 5432
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.613 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.616 UTC [51] LOG:  database system was shut down at 2022-07-04 14:55:14 UTC
13-kubernetes-config-db-1        | 2022-07-04 14:55:14.620 UTC [1] LOG:  database system is ready to accept connections
13-kubernetes-config-backend-1   | INFO:     Started server process [9]
13-kubernetes-config-backend-1   | INFO:     Waiting for application startup.
13-kubernetes-config-backend-1   | INFO:     Application startup complete.



^CGracefully stopping... (press Ctrl+C again to force)
[+] Running 3/3
 ‚†ø Container 13-kubernetes-config-frontend-1  Stopped                                                                                                                                                    0.3s
 ‚†ø Container 13-kubernetes-config-backend-1   Stopped                                                                                                                                                   10.4s
 ‚†ø Container 13-kubernetes-config-db-1        Stopped                                                                                                                                                    0.3s
canceled
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose up -d
[+] Running 3/3
 ‚†ø Container 13-kubernetes-config-db-1        Started                                                                                                                                                    0.7s
 ‚†ø Container 13-kubernetes-config-frontend-1  Started                                                                                                                                                    0.7s
 ‚†ø Container 13-kubernetes-config-backend-1   Started                                                                                                                                                    1.2s
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps -a
CONTAINER ID   IMAGE                                                     COMMAND                  CREATED          STATUS                     PORTS                                       NAMES
fb15dec28c02   13-kubernetes-config_backend                              "/bin/sh -c 'pipenv ‚Ä¶"   10 seconds ago   Up 9 seconds               0.0.0.0:9000->9000/tcp, :::9000->9000/tcp   13-kubernetes-config-backend-1
c63c6599c926   postgres:13-alpine                                        "docker-entrypoint.s‚Ä¶"   10 seconds ago   Up 10 seconds              5432/tcp                                    13-kubernetes-config-db-1
eea4effe3b25   13-kubernetes-config_frontend                             "/docker-entrypoint.‚Ä¶"   3 minutes ago    Up 10 seconds              0.0.0.0:8000->80/tcp, :::8000->80/tcp       13-kubernetes-config-frontend-1
3f26df1fdde9   82eab8a2296b                                              "/bin/sh -c '#(nop) ‚Ä¶"   2 hours ago      Created                                                                loving_snyder
70bfa6e9d73b   ff051eb06a75                                              "/bin/sh -c 'pipenv ‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 elated_nightingale
d7a9eac90dd0   9d2f43cfe6c6                                              "/bin/sh -c '#(nop) ‚Ä¶"   2 hours ago      Created                                                                objective_lewin
09694e8361b3   999912f2c071                                              "/bin/sh -c 'mkdir /‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 charming_bartik
e51cd16c5a70   08637bdea5b3                                              "/bin/sh -c 'mv /app‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 compassionate_colden
d39b87253b2a   eb2495b33cd2                                              "/docker-entrypoint.‚Ä¶"   2 hours ago      Created                                                                charming_goldberg
33af72a5054d   55f4b40fe486                                              "/bin/sh -c 'mkdir /‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 focused_fermi
a155ec88c495   d34cfbeb458c                                              "/bin/sh -c 'npm run‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 confident_chaplygin
06ff8b6e448b   ecef30491f9a                                              "/bin/sh -c 'npm i'"     2 hours ago      Exited (0) 2 hours ago                                                 musing_chebyshev
558b524fe484   f16fcbd21ee6                                              "docker-entrypoint.s‚Ä¶"   2 hours ago      Created                                                                gallant_goldstine
c89d25977e10   b9f398d30e45                                              "/bin/sh -c 'mkdir /‚Ä¶"   2 hours ago      Exited (0) 2 hours ago                                                 vibrant_greider
24fdc0cecef8   registry.gitlab.com/zakharovnpa/gitlablesson/python-api   "python3 /opt/api/py‚Ä¶"   7 weeks ago      Exited (255) 6 weeks ago   0.0.0.0:5290->5290/tcp, :::5290->5290/tcp   infallible_leavitt
fe30766a73b1   gitlab/gitlab-runner:latest                               "/usr/bin/dumb-init ‚Ä¶"   7 weeks ago      Up 31 hours                                                            gitlab-runner
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps
CONTAINER ID   IMAGE                           COMMAND                  CREATED          STATUS          PORTS                                       NAMES
fb15dec28c02   13-kubernetes-config_backend    "/bin/sh -c 'pipenv ‚Ä¶"   17 seconds ago   Up 16 seconds   0.0.0.0:9000->9000/tcp, :::9000->9000/tcp   13-kubernetes-config-backend-1
c63c6599c926   postgres:13-alpine              "docker-entrypoint.s‚Ä¶"   17 seconds ago   Up 16 seconds   5432/tcp                                    13-kubernetes-config-db-1
eea4effe3b25   13-kubernetes-config_frontend   "/docker-entrypoint.‚Ä¶"   3 minutes ago    Up 16 seconds   0.0.0.0:8000->80/tcp, :::8000->80/tcp       13-kubernetes-config-frontend-1
fe30766a73b1   gitlab/gitlab-runner:latest     "/usr/bin/dumb-init ‚Ä¶"   7 weeks ago      Up 31 hours                                                 gitlab-runner
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# curl http://127.1:8000
<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–°–ø–∏—Å–æ–∫</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/build/main.css" rel="stylesheet">
</head>
<body>
    <main class="b-page">
        <h1 class="b-page__title">–°–ø–∏—Å–æ–∫</h1>
        <div class="b-page__content b-items js-list"></div>
    </main>
    <script src="/build/main.js"></script>
</body>
</html>root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# curl http://127.1:9000
{"detail":"Not Found"}root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# curl 127.1:9000
{"detail":"Not Found"}root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps --help

Usage:  docker ps [OPTIONS]

List containers

Options:
  -a, --all             Show all containers (default shows just running)
  -f, --filter filter   Filter output based on conditions provided
      --format string   Pretty-print containers using a Go template
  -n, --last int        Show n last created containers (includes all states) (default -1)
  -l, --latest          Show the latest created container (includes all states)
      --no-trunc        Don't truncate output
  -q, --quiet           Only display container IDs
  -s, --size            Display total file sizes
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps -s
CONTAINER ID   IMAGE                           COMMAND                  CREATED             STATUS             PORTS                                       NAMES                             SIZE
fb15dec28c02   13-kubernetes-config_backend    "/bin/sh -c 'pipenv ‚Ä¶"   About an hour ago   Up About an hour   0.0.0.0:9000->9000/tcp, :::9000->9000/tcp   13-kubernetes-config-backend-1    0B (virtual 1.07GB)
c63c6599c926   postgres:13-alpine              "docker-entrypoint.s‚Ä¶"   About an hour ago   Up About an hour   5432/tcp                                    13-kubernetes-config-db-1         63B (virtual 213MB)
eea4effe3b25   13-kubernetes-config_frontend   "/docker-entrypoint.‚Ä¶"   About an hour ago   Up About an hour   0.0.0.0:8000->80/tcp, :::8000->80/tcp       13-kubernetes-config-frontend-1   346B (virtual 142MB)
fe30766a73b1   gitlab/gitlab-runner:latest     "/usr/bin/dumb-init ‚Ä¶"   7 weeks ago         Up 32 hours                                                    gitlab-runner                     151B (virtual 691MB)
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps -f --help
invalid argument "--help" for "-f, --filter" flag: bad format of filter (expected name=value)
See 'docker ps --help'.
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps -f
flag needs an argument: 'f' in -f
See 'docker ps --help'.
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps -f string
invalid argument "string" for "-f, --filter" flag: bad format of filter (expected name=value)
See 'docker ps --help'.
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps --format string
string
string
string
string
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# curl http://127.1:5432
curl: (7) Failed to connect to 127.1 port 5432: –í —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –æ—Ç–∫–∞–∑–∞–Ω–æ
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find -name title
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find --name title
find: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–µ–¥–∏–∫–∞—Ç ¬´--name¬ª
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find . -name title
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find /frontend -name title
find: ‚Äò/frontend‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend -name title
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend -name 'title'
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend -name --help
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend --help
Usage: find [-H] [-L] [-P] [-Olevel] [-D debugopts] [path...] [expression]

–ø—É—Ç—ë–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥; –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: -print
–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–µ—Å—Ç–æ–≤ –∏ –¥–µ–π—Å—Ç–≤–∏–π:
–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–≤ –ø–æ—Ä—è–¥–∫–µ —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞; -and –±–µ—Ä–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ –¥–∞–Ω–æ –¥—Ä—É–≥–∏—Ö):
      ( EXPR ) ! EXPR -not EXPR EXPR1 -a EXPR2 EXPR1 -and EXPR2
      EXPR1 -o EXPR2 EXPR1 -or EXPR2 EXPR1 , EXPR2
–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ–≥–¥–∞): -daystart -follow -regextype

–æ–±—ã—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–∞–Ω—å—à–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π):
      -depth --help -maxdepth LEVELS -mindepth LEVELS -mount -noleaf
      --version -xdev -ignore_readdir_race -noignore_readdir_race
tests (N –º–æ–≥—É—Ç –±—ã—Ç—å +N –∏–ª–∏ -N –∏–ª–∏ N): -amin N -anewer –§–ê–ô–õ -atime N -cmin N
      -cnewer –§–ê–ô–õ -ctime N -empty -false -fstype –¢–ò–ü -gid N -group –ò–ú–Ø
      -ilname –®–ê–ë–õ–û–ù -iname –®–ê–ë–õ–û–ù -inum N -ipath –®–ê–ë–õ–û–ù -iregex –®–ê–ë–õ–û–ù
      -links N -lname –®–ê–ë–õ–û–ù -mmin N -mtime N -name –®–ê–ë–õ–û–ù -newer –§–ê–ô–õ
      -nouser -nogroup -path PATTERN -perm [-/]MODE -regex PATTERN
      -readable -writable -executable
      -wholename PATTERN -size N[bcwkMG] -true -type [bcdpflsD] -uid N
      -used N -user NAME -xtype [bcdpfls]      -context –ö–û–ù–¢–ï–ö–°–¢

actions: -delete -print0 -printf FORMAT -fprintf FILE FORMAT -print 
      -fprint0 FILE -fprint FILE -ls -fls FILE -prune -quit
      -exec COMMAND ; -exec COMMAND {} + -ok COMMAND ;
      -execdir COMMAND ; -execdir COMMAND {} + -okdir COMMAND ;

Valid arguments for -D:
exec, opt, rates, search, stat, time, tree, all, help
Use '-D help' for a description of the options, or see find(1)

Please see also the documentation at http://www.gnu.org/software/findutils/.
You can report (and track progress on fixing) bugs in the "find"
program via the GNU findutils bug-reporting page at
https://savannah.gnu.org/bugs/?group=findutils or, if
you have no web access, by sending email to <bug-findutils@gnu.org>.
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find title
find: ‚Äòtitle‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend title
frontend
frontend/Dockerfile
frontend/webpack.config.js
frontend/markup
frontend/markup/item.html
frontend/markup/index.html
frontend/markup/list.json
frontend/item.html
frontend/package.json
frontend/build
frontend/build/main.js
frontend/build/main.css
frontend/index.html
frontend/.env.example
frontend/js
frontend/js/index.js
frontend/js/config.js
frontend/static
frontend/static/image.png
frontend/styles
frontend/styles/index.less
frontend/styles/normalize.css
frontend/styles/bem
frontend/styles/bem/b-preview.less
frontend/styles/bem/b-items.less
frontend/styles/bem/b-page.less
frontend/package-lock.json
frontend/.env
frontend/demo.conf
find: ‚Äòtitle‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend title 0
frontend
frontend/Dockerfile
frontend/webpack.config.js
frontend/markup
frontend/markup/item.html
frontend/markup/index.html
frontend/markup/list.json
frontend/item.html
frontend/package.json
frontend/build
frontend/build/main.js
frontend/build/main.css
frontend/index.html
frontend/.env.example
frontend/js
frontend/js/index.js
frontend/js/config.js
frontend/static
frontend/static/image.png
frontend/styles
frontend/styles/index.less
frontend/styles/normalize.css
frontend/styles/bem
frontend/styles/bem/b-preview.less
frontend/styles/bem/b-items.less
frontend/styles/bem/b-page.less
frontend/package-lock.json
frontend/.env
frontend/demo.conf
find: ‚Äòtitle‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
find: ‚Äò0‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend –°–ø–∏—Å–æ–∫
frontend
frontend/Dockerfile
frontend/webpack.config.js
frontend/markup
frontend/markup/item.html
frontend/markup/index.html
frontend/markup/list.json
frontend/item.html
frontend/package.json
frontend/build
frontend/build/main.js
frontend/build/main.css
frontend/index.html
frontend/.env.example
frontend/js
frontend/js/index.js
frontend/js/config.js
frontend/static
frontend/static/image.png
frontend/styles
frontend/styles/index.less
frontend/styles/normalize.css
frontend/styles/bem
frontend/styles/bem/b-preview.less
frontend/styles/bem/b-items.less
frontend/styles/bem/b-page.less
frontend/package-lock.json
frontend/.env
frontend/demo.conf
find: ‚Äò–°–ø–∏—Å–æ–∫‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# find frontend title
frontend
frontend/Dockerfile
frontend/webpack.config.js
frontend/markup
frontend/markup/item.html
frontend/markup/index.html
frontend/markup/list.json
frontend/item.html
frontend/package.json
frontend/build
frontend/build/main.js
frontend/build/main.css
frontend/index.html
frontend/.env.example
frontend/js
frontend/js/index.js
frontend/js/config.js
frontend/static
frontend/static/image.png
frontend/styles
frontend/styles/index.less
frontend/styles/normalize.css
frontend/styles/bem
frontend/styles/bem/b-preview.less
frontend/styles/bem/b-items.less
frontend/styles/bem/b-page.less
frontend/package-lock.json
frontend/.env
frontend/demo.conf
find: ‚Äòtitle‚Äô: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# kubectl get rs
The connection to the server localhost:8080 was refused - did you specify the right host or port?
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat backend/Dockerfile 
FROM python:3.9-buster

RUN mkdir /app && python -m pip install pipenv

WORKDIR /app

ADD Pipfile /app/Pipfile
ADD Pipfile.lock /app/Pipfile.lock

RUN pipenv install

ADD main.py /app/main.py

CMD pipenv run uvicorn main:app --reload --host 0.0.0.0 --port 9000
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat frontend/Dockerfile 
FROM node:lts-buster as builder

RUN mkdir /app

WORKDIR /app

ADD package.json /app/package.json
ADD package-lock.json /app/package-lock.json

RUN npm i

ADD . /app

RUN npm run build && rm -rf /app/node_modules

FROM nginx:latest

RUN mkdir /app
WORKDIR /app
COPY --from=builder /app/ /app

RUN mv /app/markup/* /app && rm -rf /app/markup

ADD demo.conf /etc/nginx/conf.d/default.conf
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   5 hours ago     1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   5 hours ago     142MB
<none>                                                              <none>            d173cf56ce49   5 hours ago     1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   11 days ago     907MB
nginx                                                               latest            55f4b40fe486   11 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   12 days ago     213MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   8 weeks ago     236MB
docker                                                              latest            da88b5cbcdd8   8 weeks ago     219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps
CONTAINER ID   IMAGE                           COMMAND                  CREATED       STATUS        PORTS                                       NAMES
fb15dec28c02   13-kubernetes-config_backend    "/bin/sh -c 'pipenv ‚Ä¶"   3 hours ago   Up 3 hours    0.0.0.0:9000->9000/tcp, :::9000->9000/tcp   13-kubernetes-config-backend-1
c63c6599c926   postgres:13-alpine              "docker-entrypoint.s‚Ä¶"   3 hours ago   Up 3 hours    5432/tcp                                    13-kubernetes-config-db-1
eea4effe3b25   13-kubernetes-config_frontend   "/docker-entrypoint.‚Ä¶"   3 hours ago   Up 3 hours    0.0.0.0:8000->80/tcp, :::8000->80/tcp       13-kubernetes-config-frontend-1
fe30766a73b1   gitlab/gitlab-runner:latest     "/usr/bin/dumb-init ‚Ä¶"   7 weeks ago   Up 34 hours                                               gitlab-runner
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker stop fb15dec28c02 c63c6599c926 eea4effe3b25
fb15dec28c02
c63c6599c926
eea4effe3b25
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker rm fb15dec28c02 c63c6599c926 eea4effe3b25
fb15dec28c02
c63c6599c926
eea4effe3b25
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker ps
CONTAINER ID   IMAGE                         COMMAND                  CREATED       STATUS        PORTS     NAMES
fe30766a73b1   gitlab/gitlab-runner:latest   "/usr/bin/dumb-init ‚Ä¶"   7 weeks ago   Up 34 hours             gitlab-runner
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 24K
drwxr-xr-x 4 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
-rw-r--r-- 1 root root  313 –∏—é–ª  4 13:09 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mkdir -p TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cp docker-compose.yml TMP-040722/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha TMP-040722/
–∏—Ç–æ–≥–æ 12K
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 22:55 ..
-rw-r--r-- 1 root root  313 –∏—é–ª  4 22:55 docker-compose.yml
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# vim docker-compose.yml 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat docker-compose.yml 
version: "3.7"

services:
  frontend:
    build: ./frontend
    ports:
      - 8000:80

#  backend:
#    build: ./backend
#    links:
#      - db
#    ports:
#      - 9000:9000

#  db:
#    image: postgres:13-alpine
#    environment:
#      POSTGRES_PASSWORD: postgres
#      POSTGRES_USER: postgres
#      POSTGRES_DB: news
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build -t zakharovnpa/k8s-frontend:05.07.22
unknown shorthand flag: 't' in -t
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build --help

Usage:  docker compose build [SERVICE...]

Build or rebuild services

Options:
      --build-arg stringArray   Set build-time variables for services.
      --no-cache                Do not use cache when building the image
      --progress string         Set type of progress output (auto, tty, plain, quiet) (default "auto")
      --pull                    Always attempt to pull a newer version of the image.
  -q, --quiet                   Don't print anything to STDOUT
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build zakharovnpa/k8s-frontend:05.07.22
no such service: zakharovnpa/k8s-frontend:05.07.22
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# vim docker-compose.yml 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker-compose build zakharovnpa/k8s-frontend:05.07.22
services Additional property zakharovnpa/k8s-frontend is not allowed
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# vim docker-compose.yml 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 28K
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 23:05 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd frontend/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# ls -lha
–∏—Ç–æ–≥–æ 412K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 23:05 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 build
-rw-r--r-- 1 root root  344 –∏—é–ª  4 13:09 demo.conf
-rw-r--r-- 1 root root  387 –∏—é–ª  4 13:09 Dockerfile
-rw-r--r-- 1 root root   30 –∏—é–ª  4 13:09 .env
-rw-r--r-- 1 root root   30 –∏—é–ª  4 13:09 .env.example
-rwxr-xr-x 1 root root    0 –∏—é–ª  4 13:09 index.html
-rwxr-xr-x 1 root root    0 –∏—é–ª  4 13:09 item.html
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 js
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 markup
-rw-r--r-- 1 root root 1,1K –∏—é–ª  4 13:09 package.json
-rw-r--r-- 1 root root 357K –∏—é–ª  4 13:09 package-lock.json
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:09 static
drwxr-xr-x 3 root root 4,0K –∏—é–ª  4 13:09 styles
-rw-r--r-- 1 root root 2,8K –∏—é–ª  4 13:09 webpack.config.js
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# cat Dockerfile 
FROM node:lts-buster as builder

RUN mkdir /app

WORKDIR /app

ADD package.json /app/package.json
ADD package-lock.json /app/package-lock.json

RUN npm i

ADD . /app

RUN npm run build && rm -rf /app/node_modules

FROM nginx:latest

RUN mkdir /app
WORKDIR /app
COPY --from=builder /app/ /app

RUN mv /app/markup/* /app && rm -rf /app/markup

ADD demo.conf /etc/nginx/conf.d/default.conf
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# docker build -t zakharovnpa/k8s-frontend:05.07.22
"docker build" requires exactly 1 argument.
See 'docker build --help'.

Usage:  docker build [OPTIONS] PATH | URL | -

Build an image from a Dockerfile
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# docker build -t zakharovnpa/k8s-frontend:05.07.22 .
Sending build context to Docker daemon  430.6kB
Step 1/14 : FROM node:lts-buster as builder
 ---> b9f398d30e45
Step 2/14 : RUN mkdir /app
 ---> Using cache
 ---> f16fcbd21ee6
Step 3/14 : WORKDIR /app
 ---> Using cache
 ---> 6812598cb3ad
Step 4/14 : ADD package.json /app/package.json
 ---> Using cache
 ---> 6e4c1b5ae040
Step 5/14 : ADD package-lock.json /app/package-lock.json
 ---> Using cache
 ---> ecef30491f9a
Step 6/14 : RUN npm i
 ---> Using cache
 ---> a154e3d6e8c3
Step 7/14 : ADD . /app
 ---> Using cache
 ---> d34cfbeb458c
Step 8/14 : RUN npm run build && rm -rf /app/node_modules
 ---> Using cache
 ---> d173cf56ce49
Step 9/14 : FROM nginx:latest
 ---> 55f4b40fe486
Step 10/14 : RUN mkdir /app
 ---> Using cache
 ---> eb2495b33cd2
Step 11/14 : WORKDIR /app
 ---> Using cache
 ---> dd332f3a8cec
Step 12/14 : COPY --from=builder /app/ /app
 ---> Using cache
 ---> 08637bdea5b3
Step 13/14 : RUN mv /app/markup/* /app && rm -rf /app/markup
 ---> Using cache
 ---> 9b657fa64ab2
Step 14/14 : ADD demo.conf /etc/nginx/conf.d/default.conf
 ---> Using cache
 ---> 5438a0c5806b
Successfully built 5438a0c5806b
Successfully tagged zakharovnpa/k8s-frontend:05.07.22
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   7 hours ago     1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   7 hours ago     142MB
zakharovnpa/k8s-frontend                                            05.07.22          5438a0c5806b   7 hours ago     142MB
<none>                                                              <none>            d173cf56ce49   7 hours ago     1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   11 days ago     907MB
nginx                                                               latest            55f4b40fe486   11 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   12 days ago     213MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   8 weeks ago     236MB
docker                                                              latest            da88b5cbcdd8   8 weeks ago     219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd backend/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# cat Dockerfile 
FROM python:3.9-buster

RUN mkdir /app && python -m pip install pipenv

WORKDIR /app

ADD Pipfile /app/Pipfile
ADD Pipfile.lock /app/Pipfile.lock

RUN pipenv install

ADD main.py /app/main.py

CMD pipenv run uvicorn main:app --reload --host 0.0.0.0 --port 9000
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# docker build -t zakharovnpa/k8s-backend:05.07.22 .
Sending build context to Docker daemon  20.48kB
Step 1/8 : FROM python:3.9-buster
 ---> 999912f2c071
Step 2/8 : RUN mkdir /app && python -m pip install pipenv
 ---> Using cache
 ---> 9d2f43cfe6c6
Step 3/8 : WORKDIR /app
 ---> Using cache
 ---> c32c3aa2b2f7
Step 4/8 : ADD Pipfile /app/Pipfile
 ---> Using cache
 ---> b7ea0062acb5
Step 5/8 : ADD Pipfile.lock /app/Pipfile.lock
 ---> Using cache
 ---> ff051eb06a75
Step 6/8 : RUN pipenv install
 ---> Using cache
 ---> d8b4b490bb86
Step 7/8 : ADD main.py /app/main.py
 ---> Using cache
 ---> 82eab8a2296b
Step 8/8 : CMD pipenv run uvicorn main:app --reload --host 0.0.0.0 --port 9000
 ---> Using cache
 ---> bf58e470d5a5
Successfully built bf58e470d5a5
Successfully tagged zakharovnpa/k8s-backend:05.07.22
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   7 hours ago     1.07GB
zakharovnpa/k8s-backend                                             05.07.22          bf58e470d5a5   7 hours ago     1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   7 hours ago     142MB
zakharovnpa/k8s-frontend                                            05.07.22          5438a0c5806b   7 hours ago     142MB
<none>                                                              <none>            d173cf56ce49   7 hours ago     1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   11 days ago     907MB
nginx                                                               latest            55f4b40fe486   11 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   12 days ago     213MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   8 weeks ago     236MB
docker                                                              latest            da88b5cbcdd8   8 weeks ago     219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/backend# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker push zakharovnpa/k8s-frontend:05.07.22
The push refers to repository [docker.io/zakharovnpa/k8s-frontend]
352d627bd336: Pushed 
a5b05b1f6d07: Pushed 
cf2af7b6ae79: Pushed 
649f9ccbcc97: Pushed 
e7344f8a29a3: Mounted from library/nginx 
44193d3f4ea2: Mounted from library/nginx 
41451f050aa8: Mounted from library/nginx 
b2f82de68e0d: Mounted from library/nginx 
d5b40e80384b: Mounted from library/nginx 
08249ce7456a: Mounted from library/nginx 
05.07.22: digest: sha256:e33314ba8661fcee936716a673d5a7e10837d9349971a6b91b5483ec9677a45a size: 2401
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker push zakharovnpa/k8s-backend:05.07.22
The push refers to repository [docker.io/zakharovnpa/k8s-backend]
59283fad6e30: Pushed 
c4bf1e206190: Pushed 
fbd3193641ee: Pushed 
de4ab17faf49: Pushed 
a4023f1effb2: Pushed 
843f990feb92: Mounted from library/python 
70dce5ebf427: Mounted from library/python 
aba5ac262080: Mounted from library/python 
2df8715307ad: Mounted from library/python 
e6fd4ebbaaab: Mounted from library/python 
261e5d6450d3: Mounted from library/python 
65d22717bade: Mounted from library/python 
3abde9518332: Mounted from library/python 
0c8724a82628: Mounted from library/python 
05.07.22: digest: sha256:68669891074cd1b4bf4f6a4492b9ef1b9b94460ad094d01f70522a345107a78f size: 3264
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat docker-compose.yml 
version: "3.7"

services:
  zakharovnpa/k8s-frontend:
    build: ./frontend
    ports:
      - 8000:80

#  backend:
#    build: ./backend
#    links:
#      - db
#    ports:
#      - 9000:9000

#  db:
#    image: postgres:13-alpine
#    environment:
#      POSTGRES_PASSWORD: postgres
#      POSTGRES_USER: postgres
#      POSTGRES_DB: news
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat TMP-040722/docker-compose.yml 
version: "3.7"

services:
  frontend:
    build: ./frontend
    ports:
      - 8000:80

  backend:
    build: ./backend
    links:
      - db
    ports:
      - 9000:9000

  db:
    image: postgres:13-alpine
    environment:
      POSTGRES_PASSWORD: postgres
      POSTGRES_USER: postgres
      POSTGRES_DB: news
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat backend/Dockerfile 
FROM python:3.9-buster

RUN mkdir /app && python -m pip install pipenv

WORKDIR /app

ADD Pipfile /app/Pipfile
ADD Pipfile.lock /app/Pipfile.lock

RUN pipenv install

ADD main.py /app/main.py

CMD pipenv run uvicorn main:app --reload --host 0.0.0.0 --port 9000
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cat frontend/Dockerfile 
FROM node:lts-buster as builder

RUN mkdir /app

WORKDIR /app

ADD package.json /app/package.json
ADD package-lock.json /app/package-lock.json

RUN npm i

ADD . /app

RUN npm run build && rm -rf /app/node_modules

FROM nginx:latest

RUN mkdir /app
WORKDIR /app
COPY --from=builder /app/ /app

RUN mv /app/markup/* /app && rm -rf /app/markup

ADD demo.conf /etc/nginx/conf.d/default.conf
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   17 hours ago    1.07GB
zakharovnpa/k8s-backend                                             05.07.22          bf58e470d5a5   17 hours ago    1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   17 hours ago    142MB
zakharovnpa/k8s-frontend                                            05.07.22          5438a0c5806b   17 hours ago    142MB
<none>                                                              <none>            d173cf56ce49   17 hours ago    1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   12 days ago     907MB
nginx                                                               latest            55f4b40fe486   12 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   13 days ago     213MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   2 months ago    236MB
docker                                                              latest            da88b5cbcdd8   2 months ago    219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# history | less
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker --help

Usage:  docker [OPTIONS] COMMAND

A self-sufficient runtime for containers

Options:
      --config string      Location of client config files (default "/root/.docker")
  -c, --context string     Name of the context to use to connect to the daemon (overrides DOCKER_HOST env var and default context set with "docker context use")
  -D, --debug              Enable debug mode
  -H, --host list          Daemon socket(s) to connect to
  -l, --log-level string   Set the logging level ("debug"|"info"|"warn"|"error"|"fatal") (default "info")
      --tls                Use TLS; implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA (default "/root/.docker/ca.pem")
      --tlscert string     Path to TLS certificate file (default "/root/.docker/cert.pem")
      --tlskey string      Path to TLS key file (default "/root/.docker/key.pem")
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Management Commands:
  app*        Docker App (Docker Inc., v0.9.1-beta3)
  builder     Manage builds
  buildx*     Docker Buildx (Docker Inc., v0.8.1-docker)
  config      Manage Docker configs
  container   Manage containers
  context     Manage contexts
  image       Manage images
  manifest    Manage Docker image manifests and manifest lists
  network     Manage networks
  node        Manage Swarm nodes
  plugin      Manage plugins
  scan*       Docker Scan (Docker Inc., v0.17.0)
  secret      Manage Docker secrets
  service     Manage services
  stack       Manage Docker stacks
  swarm       Manage Swarm
  system      Manage Docker
  trust       Manage trust on Docker images
  volume      Manage volumes

Commands:
  attach      Attach local standard input, output, and error streams to a running container
  build       Build an image from a Dockerfile
  commit      Create a new image from a container's changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container's filesystem
  events      Get real time events from the server
  exec        Run a command in a running container
  export      Export a container's filesystem as a tar archive
  history     Show the history of an image
  images      List images
  import      Import the contents from a tarball to create a filesystem image
  info        Display system-wide information
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  login       Log in to a Docker registry
  logout      Log out from a Docker registry
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image or a repository from a registry
  push        Push an image or a repository to a registry
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  run         Run a command in a new container
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  search      Search the Docker Hub for images
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  version     Show the Docker version information
  wait        Block until one or more containers stop, then print their exit codes

Run 'docker COMMAND --help' for more information on a command.

To get more help with docker, check out our guides at https://docs.docker.com/go/guides/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   18 hours ago    1.07GB
zakharovnpa/k8s-backend                                             05.07.22          bf58e470d5a5   18 hours ago    1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   18 hours ago    142MB
zakharovnpa/k8s-frontend                                            05.07.22          5438a0c5806b   18 hours ago    142MB
<none>                                                              <none>            d173cf56ce49   18 hours ago    1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   12 days ago     907MB
nginx                                                               latest            55f4b40fe486   12 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   13 days ago     213MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   2 months ago    236MB
docker                                                              latest            da88b5cbcdd8   2 months ago    219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker rename postgres:13-alpine zakharovnpa/k8s-basedata:05.07.22
Error response from daemon: No such container: postgres:13-alpine
Error: failed to rename container named postgres:13-alpine
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mkdir -p database
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# touch database/Dockerfile
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# docker search postgres
NAME                                        DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
postgres                                    The PostgreSQL object-relational database sy‚Ä¶   11154     [OK]       
bitnami/postgresql                          Bitnami PostgreSQL Docker Image                 146                  [OK]
circleci/postgres                           The PostgreSQL object-relational database sy‚Ä¶   29                   
bitnami/postgresql-repmgr                                                                   18                   
ubuntu/postgres                             PostgreSQL is an open source object-relation‚Ä¶   17                   
rapidfort/postgresql                        RapidFort optimized, hardened image for Post‚Ä¶   15                   
bitnami/postgres-exporter                                                                   7                    
clearlinux/postgres                         PostgreSQL object-relational database system‚Ä¶   2                    
cimg/postgres                                                                               1                    
ibmcom/postgresql-s390x                                                                     1                    
vmware/postgresql-photon                                                                    0                    
ibmcom/postgresql                                                                           0                    
vmware/postgresql                                                                           0                    
circleci/postgres-script-enhance            Postgres with one change: Run all scripts un‚Ä¶   0                    
pachyderm/postgresql                                                                        0                    
objectscale/postgresql-repmgr                                                               0                    
circleci/postgres-upgrade                   This image is for internal use                  0                    
drud/postgres                                                                               0                    
cockroachdb/postgres-test                   An environment to run the CockroachDB accept‚Ä¶   0                    [OK]
aggipp/postgres-ssh                                                                         0                    
silintl/postgresql-backup-restore           PostgreSQL backup/restore container             0                    [OK]
airbyte/postgres-singer-source-abprotocol                                                   0                    
ibmcom/postgresql-amd64                                                                     0                    
ibmcom/postgresql-ppc64le                                                                   0                    
drud/postgres_exporter                                                                      0                    
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 32K
drwxr-xr-x 6 root root 4,0K –∏—é–ª  5 10:05 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 10:05 database
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mkdir -p manifest
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# vim manifest/statefulset-bd.yml
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# vim manifest/statefulset-bd.yml
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 36K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 10:05 database
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  4 13:09 frontend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:09 manifest
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd database/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# ls -lha
–∏—Ç–æ–≥–æ 8,0K
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 10:05 .
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 ..
-rw-r--r-- 1 root root    0 –∏—é–ª  5 10:05 Dockerfile
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# vim .env
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# vim Dockerfile 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# vim .env
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd frontend/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# vim .env
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/frontend# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd database/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# docker build -t zakharovnpa/k8s-database:05.07.22 .
Sending build context to Docker daemon  3.072kB
Step 1/1 : FROM postgres:13-alpine
 ---> 2bb8cea1e0bb
Successfully built 2bb8cea1e0bb
Successfully tagged zakharovnpa/k8s-database:05.07.22
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# docker image list
REPOSITORY                                                          TAG               IMAGE ID       CREATED         SIZE
13-kubernetes-config_backend                                        latest            bf58e470d5a5   19 hours ago    1.07GB
zakharovnpa/k8s-backend                                             05.07.22          bf58e470d5a5   19 hours ago    1.07GB
13-kubernetes-config_frontend                                       latest            5438a0c5806b   19 hours ago    142MB
zakharovnpa/k8s-frontend                                            05.07.22          5438a0c5806b   19 hours ago    142MB
<none>                                                              <none>            d173cf56ce49   19 hours ago    1.06GB
python                                                              3.9-buster        999912f2c071   11 days ago     889MB
node                                                                lts-buster        b9f398d30e45   12 days ago     907MB
nginx                                                               latest            55f4b40fe486   12 days ago     142MB
postgres                                                            13-alpine         2bb8cea1e0bb   13 days ago     213MB
zakharovnpa/k8s-database                                            05.07.22          2bb8cea1e0bb   13 days ago     213MB
zakharovnpa/k8s-hello-world                                         05.06.22          ce35230a77b3   4 weeks ago     660MB
node/hellow-world                                                   1.0               ce35230a77b3   4 weeks ago     660MB
registry                                                            latest            773dbf02e42e   5 weeks ago     24.1MB
some_docker_build                                                   latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             latest            b79a8a0840b1   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson                        latest            e87a0e154f99   7 weeks ago     427MB
registry.gitlab.com/zakharovnpa/gitlablesson/python-api             <none>            e87a0e154f99   7 weeks ago     427MB
docker                                                              dind              c89d806adeb8   2 months ago    236MB
docker                                                              latest            da88b5cbcdd8   2 months ago    219MB
gitlab/gitlab-runner                                                latest            89944ac4ab2c   2 months ago    691MB
registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper   x86_64-f761588f   257667c17e33   2 months ago    66.9MB
centos                                                              7                 eeb6ee3f44bd   9 months ago    204MB
docker                                                              20.10.5-dind      0a9822c8848d   15 months ago   258MB
docker                                                              20.10.5           1588477122de   15 months ago   241MB
node                                                                6.14.2            00165cd5d0c0   4 years ago     660MB
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# docker push zakharovnpa/k8s-database:05.07.22
The push refers to repository [docker.io/zakharovnpa/k8s-database]
0bc5f2edb483: Mounted from library/postgres 
c703c3dc0dd0: Mounted from library/postgres 
16da13de1326: Mounted from library/postgres 
adc529f3f318: Mounted from library/postgres 
ffa3969dfaf6: Mounted from library/postgres 
14f83c4d2ba1: Mounted from library/postgres 
2acf3ef23fe4: Mounted from library/postgres 
24302eb7d908: Mounted from library/postgres 
05.07.22: digest: sha256:f58e501e198aed05774e84dc82048c61b48039afa69e73bc614ee66628a916b5 size: 1985
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 36K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:13 database
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 11:14 frontend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:09 manifest
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd manifest/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/manifest# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/manifest# ls -lha
–∏—Ç–æ–≥–æ 12K
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:09 .
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 ..
-rw-r--r-- 1 root root  808 –∏—é–ª  5 11:09 statefulset-bd.yml
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/manifest# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/manifest# cat statefulset-bd.yml 
# Config PostgreSQL StatefulSet
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: k8s-database
spec:
  serviceName: k8s-database-svc
  selector:
    matchLabels:
      app: k8s-database
  replicas: 1
  template:
    metadata:
      labels:
        app: k8s-database
    spec:
      containers:
        - name: k8s-database
          image: postgres:13-alpine
          env:
            - name: POSTGRES_PASSWORD
              value: postgres
            - name: POSTGRES_USER
              value: postgres
            - name: POSTGRES_DB
              value: news    
              
---
# Config PostgreSQL StatefulSet Service
apiVersion: v1
kind: Service
metadata:
  name: k8s-database-svc
spec:
  selector:
    app: k8s-database
  type: LoadBalancer
  ports:
    - port: 5432
      targetPort: 5432

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/manifest# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd database/
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# cat Dockerfile 
FROM postgres:13-alpine


root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# ^C
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# cat .env 
POSTGRES_PASSWORD=postgres
POSTGRES_USER=postgres
POSTGRES_DB=news
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config/database# cd ..
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 36K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:13 database
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 11:14 frontend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:09 manifest
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# ls -lha
–∏—Ç–æ–≥–æ 36K
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 10:40 .
drwxr-xr-x 5 root root 4,0K –∏—é–ª  4 13:09 ..
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 13:12 backend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:13 database
-rw-r--r-- 1 root root  341 –∏—é–ª  4 23:03 docker-compose.yml
drwxr-xr-x 7 root root 4,0K –∏—é–ª  5 11:14 frontend
drwxr-xr-x 2 root root 4,0K –∏—é–ª  5 11:09 manifest
-rw-r--r-- 1 root root  807 –∏—é–ª  4 13:09 README.md
drwxr-xr-x 2 root root 4,0K –∏—é–ª  4 22:55 TMP-040722
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# mc

root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# 
root@PC-Ubuntu:~/netology-project/devkub-homeworks/13-kubernetes-config# cd
root@PC-Ubuntu:~# 
root@PC-Ubuntu:~# cd learning-kubernetis/Betta/
root@PC-Ubuntu:~/learning-kubernetis/Betta# 
root@PC-Ubuntu:~/learning-kubernetis/Betta# mc

root@PC-Ubuntu:~/learning-kubernetis/Betta# exit
–≤—ã—Ö–æ–¥
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Delta$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes$ 
maestro@PC-Ubuntu:~/learning-kubernetes$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x  4 maestro maestro 4,0K –∏—é–ª  4 13:05 .
drwxr-xr-x 35 maestro maestro 4,0K –∏—é–ª 10 13:07 ..
drwxrwxr-x  6 maestro maestro 4,0K –∏—é–ª  7 17:51 Betta
drwxrwxr-x  2 maestro maestro 4,0K –∏—é–ª  4 13:05 Delta
maestro@PC-Ubuntu:~/learning-kubernetes$ 
maestro@PC-Ubuntu:~/learning-kubernetes$ cd Betta/manifest/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª  7 19:54 .
drwxrwxr-x 6 maestro maestro 4,0K –∏—é–ª  7 17:51 ..
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  5 15:24 main
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:15 postgres
drwxr-xr-x 2 root    root    4,0K –∏—é–ª  9 12:28 template
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ cd postgres/stage/multitool/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 12K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 08:08 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 multitool.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 14:38 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  206 –∏—é–ª  7 07:47 db-svc.yaml
-rw-r--r-- 1 maestro maestro  184 –∏—é–ª  7 20:17 endpoint-template.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 multitool.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mv multitool.yaml deployment-multitool.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 14:40 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  206 –∏—é–ª  7 07:47 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 deployment-multitool.yaml
-rw-r--r-- 1 maestro maestro  184 –∏—é–ª  7 20:17 endpoint-template.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mv db-svc.yaml clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mv endpoint-template.yml endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod
NAME                         READY   STATUS    RESTARTS   AGE
multitool-86dd874c4c-9snbd   2/2     Running   0          91m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   115m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc -n default
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   115m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -n default
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   115m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   115m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 14:45 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  177 –∏—é–ª 10 14:45 clasterip-db.yaml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 deployment-multitool.yaml
-rw-r--r-- 1 maestro maestro  161 –∏—é–ª 10 14:45 endpoint-db.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -n default
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    116m
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   3s

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   116m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -n default
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    116m
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   8s

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   116m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod
NAME                         READY   STATUS    RESTARTS   AGE
multitool-86dd874c4c-9snbd   2/2     Running   0          94m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f endpoint-db.yml 
endpoints/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -n default
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    118m
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   2m14s

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   118m
endpoints/multitool    10.128.0.8:5432    3s
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get ep multitool -o wide
NAME        ENDPOINTS         AGE
multitool   10.128.0.8:5432   83s
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get ep multitool -o yaml
apiVersion: v1
kind: Endpoints
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Endpoints","metadata":{"annotations":{},"name":"multitool","namespace":"default"},"subsets":[{"addresses":[{"ip":"10.128.0.8"}],"ports":[{"port":5432}]}]}
  creationTimestamp: "2022-07-10T10:49:01Z"
  name: multitool
  namespace: default
  resourceVersion: "12901"
  uid: fc4c772b-aca3-45f0-aef0-04cf7a12a1fa
subsets:
- addresses:
  - ip: 10.128.0.8
  ports:
  - port: 5432
    protocol: TCP
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc multitool -o yaml
apiVersion: v1
kind: Service
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"name":"multitool","namespace":"default"},"spec":{"ports":[{"port":5432,"targetPort":5432}]}}
  creationTimestamp: "2022-07-10T10:46:50Z"
  name: multitool
  namespace: default
  resourceVersion: "12681"
  uid: 82dbfdfd-356d-4730-8eb0-dd18593dafcb
spec:
  clusterIP: 10.233.63.9
  clusterIPs:
  - 10.233.63.9
  internalTrafficPolicy: Cluster
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - port: 5432
    protocol: TCP
    targetPort: 5432
  sessionAffinity: None
  type: ClusterIP
status:
  loadBalancer: {}
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod
NAME                         READY   STATUS    RESTARTS   AGE
multitool-86dd874c4c-9snbd   2/2     Running   0          103m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod multitool-86dd874c4c-9snbd -o yaml
apiVersion: v1
kind: Pod
metadata:
  annotations:
    cni.projectcalico.org/containerID: 3f885a9d1978297035f852c6c0ca8421634cee0ad7ec20dc47eb6f49e5680283
    cni.projectcalico.org/podIP: 10.233.96.1/32
    cni.projectcalico.org/podIPs: 10.233.96.1/32
  creationTimestamp: "2022-07-10T09:13:10Z"
  generateName: multitool-86dd874c4c-
  labels:
    app: multitool
    pod-template-hash: 86dd874c4c
  name: multitool-86dd874c4c-9snbd
  namespace: default
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: multitool-86dd874c4c
    uid: 66542898-55bf-4c39-b8fb-2c381517300f
  resourceVersion: "3233"
  uid: faf97b11-7e1f-4851-8ed7-b3f5187657ad
spec:
  containers:
  - image: nginx:1.20
    imagePullPolicy: IfNotPresent
    name: nginx
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-n69kf
      readOnly: true
  - env:
    - name: HTTP_PORT
      value: "8080"
    image: praqma/network-multitool:alpine-extra
    imagePullPolicy: IfNotPresent
    name: multitool
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-n69kf
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  nodeName: node2
  preemptionPolicy: PreemptLowerPriority
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - name: kube-api-access-n69kf
    projected:
      defaultMode: 420
      sources:
      - serviceAccountToken:
          expirationSeconds: 3607
          path: token
      - configMap:
          items:
          - key: ca.crt
            path: ca.crt
          name: kube-root-ca.crt
      - downwardAPI:
          items:
          - fieldRef:
              apiVersion: v1
              fieldPath: metadata.namespace
            path: namespace
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2022-07-10T09:13:10Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2022-07-10T09:13:28Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2022-07-10T09:13:28Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2022-07-10T09:13:10Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: containerd://e6a72038b76f36dda003b0ddd0d4b1590c4415b7c70e5f19b38fecddde4a9034
    image: docker.io/praqma/network-multitool:alpine-extra
    imageID: docker.io/praqma/network-multitool@sha256:5662f8284f0dc5f5e5c966e054d094cbb6d0774e422ad9031690826bc43753e5
    lastState: {}
    name: multitool
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2022-07-10T09:13:28Z"
  - containerID: containerd://83f1f2350161c744203e8371b6b7a57375c14ec601d253a97c1434d8ced00016
    image: docker.io/library/nginx:1.20
    imageID: docker.io/library/nginx@sha256:38f8c1d9613f3f42e7969c3b1dd5c3277e635d4576713e6453c6193e66270a6d
    lastState: {}
    name: nginx
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2022-07-10T09:13:20Z"
  hostIP: 10.128.0.23
  phase: Running
  podIP: 10.233.96.1
  podIPs:
  - ip: 10.233.96.1
  qosClass: BestEffort
  startTime: "2022-07-10T09:13:10Z"
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl e
edit     exec     explain  expose   
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain endpoint
the server doesn't have a resource type "endpoint"
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain --help
List the fields for supported resources.

 This command describes the fields associated with each supported API resource. Fields are identified via a simple
JSONPath identifier:

  <type>.<fieldName>[.<fieldName>]
  
 Add the --recursive flag to display all of the fields at once without descriptions. Information about each field is
retrieved from the server in OpenAPI format.

Use "kubectl api-resources" for a complete list of supported resources.

Examples:
  # Get the documentation of the resource and its fields
  kubectl explain pods
  
  # Get the documentation of a specific field of a resource
  kubectl explain pods.spec.containers

Options:
    --api-version='':
	Get different explanations for particular API version (API group/version)

    --recursive=false:
	Print the fields of fields (Currently only 1 level deep)

Usage:
  kubectl explain RESOURCE [options]

Use "kubectl options" for a list of global command-line options (applies to all commands).
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain servic
the server doesn't have a resource type "servic"
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc
KIND:     Service
VERSION:  v1

DESCRIPTION:
     Service is a named abstraction of software service (for example, mysql)
     consisting of local port (for example 3306) that the proxy listens on, and
     the selector that determines which pods will answer requests sent through
     the proxy.

FIELDS:
   apiVersion	<string>
     APIVersion defines the versioned schema of this representation of an
     object. Servers should convert recognized schemas to the latest internal
     value, and may reject unrecognized values. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources

   kind	<string>
     Kind is a string value representing the REST resource this object
     represents. Servers may infer this from the endpoint the client submits
     requests to. Cannot be updated. In CamelCase. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds

   metadata	<Object>
     Standard object's metadata. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata

   spec	<Object>
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

   status	<Object>
     Most recently observed status of the service. Populated by the system.
     Read-only. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain ep.
KIND:     Endpoints
VERSION:  v1

DESCRIPTION:
     Endpoints is a collection of endpoints that implement the actual service.
     Example: Name: "mysvc", Subsets: [
         {
           Addresses: [{"ip": "10.10.1.1"}, {"ip": "10.10.2.2"}],
           Ports: [{"name": "a", "port": 8675}, {"name": "b", "port": 309}]
         },
         {
           Addresses: [{"ip": "10.10.3.3"}],
           Ports: [{"name": "a", "port": 93}, {"name": "b", "port": 76}]
         },
     ]

FIELDS:
   apiVersion	<string>
     APIVersion defines the versioned schema of this representation of an
     object. Servers should convert recognized schemas to the latest internal
     value, and may reject unrecognized values. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources

   kind	<string>
     Kind is a string value representing the REST resource this object
     represents. Servers may infer this from the endpoint the client submits
     requests to. Cannot be updated. In CamelCase. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds

   metadata	<Object>
     Standard object's metadata. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata

   subsets	<[]Object>
     The set of all endpoints is the union of all subsets. Addresses are placed
     into subsets according to the IPs they share. A single address with
     multiple ports, some of which are ready and some of which are not (because
     they come from different containers) will result in the address being
     displayed in different subsets for the different ports. No address will
     appear in both Addresses and NotReadyAddresses in the same subset. Sets of
     addresses and ports that comprise a service.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain ep.subsets
KIND:     Endpoints
VERSION:  v1

RESOURCE: subsets <[]Object>

DESCRIPTION:
     The set of all endpoints is the union of all subsets. Addresses are placed
     into subsets according to the IPs they share. A single address with
     multiple ports, some of which are ready and some of which are not (because
     they come from different containers) will result in the address being
     displayed in different subsets for the different ports. No address will
     appear in both Addresses and NotReadyAddresses in the same subset. Sets of
     addresses and ports that comprise a service.

     EndpointSubset is a group of addresses with a common set of ports. The
     expanded set of endpoints is the Cartesian product of Addresses x Ports.
     For example, given:
     {
         Addresses: [{"ip": "10.10.1.1"}, {"ip": "10.10.2.2"}],
         Ports:     [{"name": "a", "port": 8675}, {"name": "b", "port": 309}]
     } The resulting set of endpoints can be viewed as:
         a: [ 10.10.1.1:8675, 10.10.2.2:8675 ],
         b: [ 10.10.1.1:309, 10.10.2.2:309 ]

FIELDS:
   addresses	<[]Object>
     IP addresses which offer the related ports that are marked as ready. These
     endpoints should be considered safe for load balancers and clients to
     utilize.

   notReadyAddresses	<[]Object>
     IP addresses which offer the related ports but are not currently marked as
     ready because they have not yet finished starting, have recently failed a
     readiness check, or have recently failed a liveness check.

   ports	<[]Object>
     Port numbers available on the related IP addresses.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -o wide
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    136m   <none>
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   20m    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   136m
endpoints/multitool    10.128.0.8:5432    18m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.
KIND:     Service
VERSION:  v1

DESCRIPTION:
     Service is a named abstraction of software service (for example, mysql)
     consisting of local port (for example 3306) that the proxy listens on, and
     the selector that determines which pods will answer requests sent through
     the proxy.

FIELDS:
   apiVersion	<string>
     APIVersion defines the versioned schema of this representation of an
     object. Servers should convert recognized schemas to the latest internal
     value, and may reject unrecognized values. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources

   kind	<string>
     Kind is a string value representing the REST resource this object
     represents. Servers may infer this from the endpoint the client submits
     requests to. Cannot be updated. In CamelCase. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds

   metadata	<Object>
     Standard object's metadata. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata

   spec	<Object>
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

   status	<Object>
     Most recently observed status of the service. Populated by the system.
     Read-only. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec
KIND:     Service
VERSION:  v1

RESOURCE: spec <Object>

DESCRIPTION:
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

     ServiceSpec describes the attributes that a user creates on a service.

FIELDS:
   allocateLoadBalancerNodePorts	<boolean>
     allocateLoadBalancerNodePorts defines if NodePorts will be automatically
     allocated for services with type LoadBalancer. Default is "true". It may be
     set to "false" if the cluster load-balancer does not rely on NodePorts. If
     the caller requests specific NodePorts (by specifying a value), those
     requests will be respected, regardless of this field. This field may only
     be set for services with type LoadBalancer and will be cleared if the type
     is changed to any other type.

   clusterIP	<string>
     clusterIP is the IP address of the service and is usually assigned
     randomly. If an address is specified manually, is in-range (as per system
     configuration), and is not in use, it will be allocated to the service;
     otherwise creation of the service will fail. This field may not be changed
     through updates unless the type field is also being changed to ExternalName
     (which requires this field to be blank) or the type field is being changed
     from ExternalName (in which case this field may optionally be specified, as
     describe above). Valid values are "None", empty string (""), or a valid IP
     address. Setting this to "None" makes a "headless service" (no virtual IP),
     which is useful when direct endpoint connections are preferred and proxying
     is not required. Only applies to types ClusterIP, NodePort, and
     LoadBalancer. If this field is specified when creating a Service of type
     ExternalName, creation will fail. This field will be wiped when updating a
     Service to type ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   clusterIPs	<[]string>
     ClusterIPs is a list of IP addresses assigned to this service, and are
     usually assigned randomly. If an address is specified manually, is in-range
     (as per system configuration), and is not in use, it will be allocated to
     the service; otherwise creation of the service will fail. This field may
     not be changed through updates unless the type field is also being changed
     to ExternalName (which requires this field to be empty) or the type field
     is being changed from ExternalName (in which case this field may optionally
     be specified, as describe above). Valid values are "None", empty string
     (""), or a valid IP address. Setting this to "None" makes a "headless
     service" (no virtual IP), which is useful when direct endpoint connections
     are preferred and proxying is not required. Only applies to types
     ClusterIP, NodePort, and LoadBalancer. If this field is specified when
     creating a Service of type ExternalName, creation will fail. This field
     will be wiped when updating a Service to type ExternalName. If this field
     is not specified, it will be initialized from the clusterIP field. If this
     field is specified, clients must ensure that clusterIPs[0] and clusterIP
     have the same value.

     This field may hold a maximum of two entries (dual-stack IPs, in either
     order). These IPs must correspond to the values of the ipFamilies field.
     Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   externalIPs	<[]string>
     externalIPs is a list of IP addresses for which nodes in the cluster will
     also accept traffic for this service. These IPs are not managed by
     Kubernetes. The user is responsible for ensuring that traffic arrives at a
     node with this IP. A common example is external load-balancers that are not
     part of the Kubernetes system.

   externalName	<string>
     externalName is the external reference that discovery mechanisms will
     return as an alias for this service (e.g. a DNS CNAME record). No proxying
     will be involved. Must be a lowercase RFC-1123 hostname
     (https://tools.ietf.org/html/rfc1123) and requires `type` to be
     "ExternalName".

   externalTrafficPolicy	<string>
     externalTrafficPolicy denotes if this Service desires to route external
     traffic to node-local or cluster-wide endpoints. "Local" preserves the
     client source IP and avoids a second hop for LoadBalancer and Nodeport type
     services, but risks potentially imbalanced traffic spreading. "Cluster"
     obscures the client source IP and may cause a second hop to another node,
     but should have good overall load-spreading.

     Possible enum values:
     - `"Cluster"` specifies node-global (legacy) behavior.
     - `"Local"` specifies node-local endpoints behavior.

   healthCheckNodePort	<integer>
     healthCheckNodePort specifies the healthcheck nodePort for the service.
     This only applies when type is set to LoadBalancer and
     externalTrafficPolicy is set to Local. If a value is specified, is
     in-range, and is not in use, it will be used. If not specified, a value
     will be automatically allocated. External systems (e.g. load-balancers) can
     use this port to determine if a given node holds endpoints for this service
     or not. If this field is specified when creating a Service which does not
     need it, creation will fail. This field will be wiped when updating a
     Service to no longer need it (e.g. changing type).

   internalTrafficPolicy	<string>
     InternalTrafficPolicy specifies if the cluster internal traffic should be
     routed to all endpoints or node-local endpoints only. "Cluster" routes
     internal traffic to a Service to all endpoints. "Local" routes traffic to
     node-local endpoints only, traffic is dropped if no node-local endpoints
     are ready. The default value is "Cluster".

   ipFamilies	<[]string>
     IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this
     service. This field is usually assigned automatically based on cluster
     configuration and the ipFamilyPolicy field. If this field is specified
     manually, the requested family is available in the cluster, and
     ipFamilyPolicy allows it, it will be used; otherwise creation of the
     service will fail. This field is conditionally mutable: it allows for
     adding or removing a secondary IP family, but it does not allow changing
     the primary IP family of the Service. Valid values are "IPv4" and "IPv6".
     This field only applies to Services of types ClusterIP, NodePort, and
     LoadBalancer, and does apply to "headless" services. This field will be
     wiped when updating a Service to type ExternalName.

     This field may hold a maximum of two entries (dual-stack families, in
     either order). These families must correspond to the values of the
     clusterIPs field, if specified. Both clusterIPs and ipFamilies are governed
     by the ipFamilyPolicy field.

   ipFamilyPolicy	<string>
     IPFamilyPolicy represents the dual-stack-ness requested or required by this
     Service. If there is no value provided, then this field will be set to
     SingleStack. Services can be "SingleStack" (a single IP family),
     "PreferDualStack" (two IP families on dual-stack configured clusters or a
     single IP family on single-stack clusters), or "RequireDualStack" (two IP
     families on dual-stack configured clusters, otherwise fail). The ipFamilies
     and clusterIPs fields depend on the value of this field. This field will be
     wiped when updating a service to type ExternalName.

   loadBalancerClass	<string>
     loadBalancerClass is the class of the load balancer implementation this
     Service belongs to. If specified, the value of this field must be a
     label-style identifier, with an optional prefix, e.g. "internal-vip" or
     "example.com/internal-vip". Unprefixed names are reserved for end-users.
     This field can only be set when the Service type is 'LoadBalancer'. If not
     set, the default load balancer implementation is used, today this is
     typically done through the cloud provider integration, but should apply for
     any default implementation. If set, it is assumed that a load balancer
     implementation is watching for Services with a matching class. Any default
     load balancer implementation (e.g. cloud providers) should ignore Services
     that set this field. This field can only be set when creating or updating a
     Service to type 'LoadBalancer'. Once set, it can not be changed. This field
     will be wiped when a service is updated to a non 'LoadBalancer' type.

   loadBalancerIP	<string>
     Only applies to Service Type: LoadBalancer. This feature depends on whether
     the underlying cloud-provider supports specifying the loadBalancerIP when a
     load balancer is created. This field will be ignored if the cloud-provider
     does not support the feature. Deprecated: This field was under-specified
     and its meaning varies across implementations, and it cannot support
     dual-stack. As of Kubernetes v1.24, users are encouraged to use
     implementation-specific annotations when available. This field may be
     removed in a future API version.

   loadBalancerSourceRanges	<[]string>
     If specified and supported by the platform, this will restrict traffic
     through the cloud-provider load-balancer will be restricted to the
     specified client IPs. This field will be ignored if the cloud-provider does
     not support the feature." More info:
     https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/

   ports	<[]Object>
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   publishNotReadyAddresses	<boolean>
     publishNotReadyAddresses indicates that any agent which deals with
     endpoints for this Service should disregard any indications of
     ready/not-ready. The primary use case for setting this field is for a
     StatefulSet's Headless Service to propagate SRV DNS records for its Pods
     for the purpose of peer discovery. The Kubernetes controllers that generate
     Endpoints and EndpointSlice resources for Services interpret this to mean
     that all endpoints are considered "ready" even if the Pods themselves are
     not. Agents which consume only Kubernetes generated endpoints through the
     Endpoints or EndpointSlice resources can safely assume this behavior.

   selector	<map[string]string>
     Route service traffic to pods with label keys and values matching this
     selector. If empty or not present, the service is assumed to have an
     external process managing its endpoints, which Kubernetes will not modify.
     Only applies to types ClusterIP, NodePort, and LoadBalancer. Ignored if
     type is ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/

   sessionAffinity	<string>
     Supports "ClientIP" and "None". Used to maintain session affinity. Enable
     client IP based session affinity. Must be ClientIP or None. Defaults to
     None. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     Possible enum values:
     - `"ClientIP"` is the Client IP based.
     - `"None"` - no session affinity.

   sessionAffinityConfig	<Object>
     sessionAffinityConfig contains the configurations of session affinity.

   type	<string>
     type determines how the Service is exposed. Defaults to ClusterIP. Valid
     options are ExternalName, ClusterIP, NodePort, and LoadBalancer.
     "ClusterIP" allocates a cluster-internal IP address for load-balancing to
     endpoints. Endpoints are determined by the selector or if that is not
     specified, by manual construction of an Endpoints object or EndpointSlice
     objects. If clusterIP is "None", no virtual IP is allocated and the
     endpoints are published as a set of endpoints rather than a virtual IP.
     "NodePort" builds on ClusterIP and allocates a port on every node which
     routes to the same endpoints as the clusterIP. "LoadBalancer" builds on
     NodePort and creates an external load-balancer (if supported in the current
     cloud) which routes to the same endpoints as the clusterIP. "ExternalName"
     aliases this service to the specified externalName. Several other fields do
     not apply to ExternalName services. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types

     Possible enum values:
     - `"ClusterIP"` means a service will only be accessible inside the cluster,
     via the cluster IP.
     - `"ExternalName"` means a service consists of only a reference to an
     external name that kubedns or equivalent will return as a CNAME record,
     with no exposing or proxying of any pods involved.
     - `"LoadBalancer"` means a service will be exposed via an external load
     balancer (if the cloud provider supports it), in addition to 'NodePort'
     type.
     - `"NodePort"` means a service will be exposed on one port of every node,
     in addition to 'ClusterIP' type.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.port
error: field "port" does not exist
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.port.
error: field "port" does not exist
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.por
error: field "por" does not exist
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.ports
KIND:     Service
VERSION:  v1

RESOURCE: ports <[]Object>

DESCRIPTION:
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     ServicePort contains information on service's port.

FIELDS:
   appProtocol	<string>
     The application protocol for this port. This field follows standard
     Kubernetes label syntax. Un-prefixed names are reserved for IANA standard
     service names (as per RFC-6335 and
     https://www.iana.org/assignments/service-names). Non-standard protocols
     should use prefixed names such as mycompany.com/my-custom-protocol.

   name	<string>
     The name of this port within the service. This must be a DNS_LABEL. All
     ports within a ServiceSpec must have unique names. When considering the
     endpoints for a Service, this must match the 'name' field in the
     EndpointPort. Optional if only one ServicePort is defined on this service.

   nodePort	<integer>
     The port on each node on which this service is exposed when type is
     NodePort or LoadBalancer. Usually assigned by the system. If a value is
     specified, in-range, and not in use it will be used, otherwise the
     operation will fail. If not specified, a port will be allocated if this
     Service requires one. If this field is specified when creating a Service
     which does not need it, creation will fail. This field will be wiped when
     updating a Service to no longer need it (e.g. changing type from NodePort
     to ClusterIP). More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport

   port	<integer> -required-
     The port that will be exposed by this service.

   protocol	<string>
     The IP protocol for this port. Supports "TCP", "UDP", and "SCTP". Default
     is TCP.

     Possible enum values:
     - `"SCTP"` is the SCTP protocol.
     - `"TCP"` is the TCP protocol.
     - `"UDP"` is the UDP protocol.

   targetPort	<string>
     Number or name of the port to access on the pods targeted by the service.
     Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME. If
     this is a string, it will be looked up as a named port in the target Pod's
     container ports. If this is not specified, the value of the 'port' field is
     used (an identity map). This field is ignored for services with
     clusterIP=None, and should be omitted or set equal to the 'port' field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml 
service/multitool configured
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -o wide
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    145m   <none>
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   29m    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   145m
endpoints/multitool    10.128.0.8:5432    27m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -o wide
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP    149m   <none>
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP   33m    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   149m
endpoints/multitool    10.128.0.8:5432    31m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get ep -o wide
NAME         ENDPOINTS          AGE
kubernetes   10.128.0.20:6443   150m
multitool    10.128.0.8:5432    31m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl describe ep multitool 
Name:         multitool
Namespace:    default
Labels:       <none>
Annotations:  <none>
Subsets:
  Addresses:          10.128.0.8
  NotReadyAddresses:  <none>
  Ports:
    Name     Port  Protocol
    ----     ----  --------
    <unset>  5432  TCP

Events:  <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml endpoint-db.yml 
error: Unexpected args: [endpoint-db.yml]
See 'kubectl apply -h' for help and examples
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml
service/multitool configured
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f endpoint-db.yml 
The Endpoints "multitool" is invalid: 
* subsets[0].ports[0].name: Required value
* subsets[0].ports[1].name: Required value
* subsets[0].ports[2].name: Required value
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get ep -o wide
NAME         ENDPOINTS          AGE
kubernetes   10.128.0.20:6443   151m
multitool    10.128.0.8:5432    32m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl describe ep multitool 
Name:         multitool
Namespace:    default
Labels:       <none>
Annotations:  <none>
Subsets:
  Addresses:          10.128.0.8
  NotReadyAddresses:  <none>
  Ports:
    Name     Port  Protocol
    ----     ----  --------
    <unset>  5432  TCP

Events:  <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc,ep -o wide
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)                      AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP                      151m   <none>
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP,8000/TCP,9000/TCP   35m    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   151m
endpoints/multitool    10.128.0.8:5432    33m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)                      AGE
service/kubernetes   ClusterIP   10.233.0.1    <none>        443/TCP                      154m
service/multitool    ClusterIP   10.233.63.9   <none>        5432/TCP,8000/TCP,9000/TCP   37m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   154m
endpoints/multitool    10.128.0.8:5432    35m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get ep multitool -o yaml
apiVersion: v1
kind: Endpoints
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Endpoints","metadata":{"annotations":{},"name":"multitool","namespace":"default"},"subsets":[{"addresses":[{"ip":"10.128.0.8"}],"ports":[{"port":5432}]}]}
  creationTimestamp: "2022-07-10T10:49:01Z"
  name: multitool
  namespace: default
  resourceVersion: "12901"
  uid: fc4c772b-aca3-45f0-aef0-04cf7a12a1fa
subsets:
- addresses:
  - ip: 10.128.0.8
  ports:
  - port: 5432
    protocol: TCP
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f endpoint-db.yml 
error: error validating "endpoint-db.yml": error validating data: [ValidationError(Endpoints.subsets[1]): unknown field "port" in io.k8s.api.core.v1.EndpointSubset, ValidationError(Endpoints.subsets[2]): unknown field "port" in io.k8s.api.core.v1.EndpointSubset]; if you choose to ignore these errors, turn validation off with --validate=false
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f endpoint-db.yml 
endpoints/multitool configured
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod
NAME                         READY   STATUS    RESTARTS   AGE
multitool-86dd874c4c-9snbd   2/2     Running   0          137m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get pod -o wide
NAME                         READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
multitool-86dd874c4c-9snbd   2/2     Running   0          138m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml 
service/multitool configured
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim deployment-multitool.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete ep multitool 
endpoints "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc multitool 
service "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   170m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   170m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/db created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
service/db           NodePort    10.233.17.84   <none>        5432:32094/TCP   6s
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP          170m

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   6s
endpoints/kubernetes   10.128.0.20:6443   170m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc -o yaml
apiVersion: v1
items:
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"multitool"},"name":"db","namespace":"default"},"spec":{"ports":[{"name":"5432","port":5432,"targetPort":5432}],"selector":{"app":"multitool"},"type":"NodePort"}}
    creationTimestamp: "2022-07-10T11:41:05Z"
    labels:
      app: multitool
    name: db
    namespace: default
    resourceVersion: "18181"
    uid: d437eba3-78d7-43f4-a6c6-0ac84d9d8699
  spec:
    clusterIP: 10.233.17.84
    clusterIPs:
    - 10.233.17.84
    externalTrafficPolicy: Cluster
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: "5432"
      nodePort: 32094
      port: 5432
      protocol: TCP
      targetPort: 5432
    selector:
      app: multitool
    sessionAffinity: None
    type: NodePort
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: "2022-07-10T08:50:26Z"
    labels:
      component: apiserver
      provider: kubernetes
    name: kubernetes
    namespace: default
    resourceVersion: "199"
    uid: 36cfcfce-b8c9-4599-b5bc-638b35d76d15
  spec:
    clusterIP: 10.233.0.1
    clusterIPs:
    - 10.233.0.1
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: https
      port: 443
      protocol: TCP
      targetPort: 6443
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
kind: List
metadata:
  resourceVersion: ""
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc db
service "db" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete ep db
Error from server (NotFound): endpoints "db" not found
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   173m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   173m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/db created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.28.239   <none>        5432/TCP   24s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    173m

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   24s
endpoints/kubernetes   10.128.0.20:6443   173m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.28.239   <none>        5432/TCP   3m4s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    176m

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   3m4s
endpoints/kubernetes   10.128.0.20:6443   176m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.28.239   <none>        5432/TCP   3m13s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    176m

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   3m13s
endpoints/kubernetes   10.128.0.20:6443   176m

NAME                             READY   STATUS    RESTARTS   AGE
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          153m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.28.239   <none>        5432/TCP   3m56s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    177m
service/multitool    ClusterIP   10.233.21.200   <none>        5432/TCP   6s

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   3m56s
endpoints/kubernetes   10.128.0.20:6443   177m
endpoints/multitool    10.233.96.1:5432   6s

NAME                             READY   STATUS    RESTARTS   AGE
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          154m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.28.239   <none>        5432/TCP   4m3s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    177m
service/multitool    ClusterIP   10.233.21.200   <none>        5432/TCP   13s

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.96.1:5432   4m3s
endpoints/kubernetes   10.128.0.20:6443   177m
endpoints/multitool    10.233.96.1:5432   13s

NAME                             READY   STATUS    RESTARTS   AGE
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          154m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc,ep
error: resource(s) were provided, but no name was specified
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc
error: resource(s) were provided, but no name was specified
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc db
service "db" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc dbmu
Error from server (NotFound): services "dbmu" not found
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc multitool 
service "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete ep db
Error from server (NotFound): endpoints "db" not found
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   179m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   179m

NAME                             READY   STATUS    RESTARTS   AGE
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          156m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    179m
service/multitool    ClusterIP   10.233.48.114   <none>        5432/TCP   4s

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   179m
endpoints/multitool    10.233.96.1:5432   4s

NAME                             READY   STATUS    RESTARTS   AGE
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          156m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc multitool 
NAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
multitool   ClusterIP   10.233.48.114   <none>        5432/TCP   82s
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl get svc multitool -o wide
NAME        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   SELECTOR
multitool   ClusterIP   10.233.48.114   <none>        5432/TCP   91s   app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE   SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    3h    <none>
service/multitool    ClusterIP   10.233.48.114   <none>        5432/TCP   99s   app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h
endpoints/multitool    10.233.96.1:5432   99s

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          158m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc multitool 
service "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   3h4m   <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h4m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          161m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    3h4m   <none>
service/multitool    ClusterIP   10.233.53.214   <none>        5432/TCP   6s     <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h4m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          161m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    3h4m   <none>
service/multitool    ClusterIP   10.233.53.214   <none>        5432/TCP   15s    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h4m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          161m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    3h5m   <none>
service/multitool    ClusterIP   10.233.53.214   <none>        5432/TCP   74s    <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h5m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          162m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc multitool 
service "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   3h6m   <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h6m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          163m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    3h6m   <none>
service/multitool    ClusterIP   10.233.39.212   <none>        5432/TCP   3s     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   3h6m
endpoints/multitool    10.233.96.1:5432   3s

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          164m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 28K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:09 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  216 –∏—é–ª 10 15:35 clasterip-db.yaml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 deployment-multitool.yaml
-rw-r--r-- 1 maestro maestro  162 –∏—é–ª 10 15:30 endpoint-db.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
-rw-rw-r-- 1 maestro maestro  224 –∏—é–ª 10 18:09 nodeport-db.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim nodeport-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim clasterip-db.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP    5h21m   <none>
service/multitool    ClusterIP   10.233.39.212   <none>        5432/TCP   134m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h21m
endpoints/multitool    10.233.96.1:5432   134m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          4h58m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete ep multitool 
endpoints "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl delete svc multitool 
service "multitool" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   5h22m   <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h22m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          4h59m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f clasterip-db.yaml 
service/multitool created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    5h23m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   12s     <none>

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h23m

NAME                             READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h    10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl apply -f nodeport-db.yaml 
service/multitool configured
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    5h23m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   45s     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h23m
endpoints/multitool    10.233.96.1:5432   3s

NAME                             READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h    10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl -n default get ep -o wide
NAME         ENDPOINTS          AGE
kubernetes   10.128.0.20:6443   5h24m
multitool    10.233.96.1:5432   21s
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl describe ep multitool 
Name:         multitool
Namespace:    default
Labels:       app=multitool
Annotations:  endpoints.kubernetes.io/last-change-trigger-time: 2022-07-10T14:13:23Z
Subsets:
  Addresses:          10.233.96.1
  NotReadyAddresses:  <none>
  Ports:
    Name  Port  Protocol
    ----  ----  --------
    5432  5432  TCP

Events:  <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ vim endpoint-db.yml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd main/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  7 17:49 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  776 –∏—é–ª  7 17:49 db-app.yaml
-rw-rw-r-- 1 maestro maestro  821 –∏—é–ª  7 08:45 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl appply -f db-app.yaml 
error: unknown command "appply" for "kubectl"

Did you mean this?
	apply
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl apply -f db-app.yaml 
statefulset.apps/db created
service/db created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE     SELECTOR
service/db           NodePort    10.233.43.249   <none>        5432:31818/TCP   23s     app=db
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP          5h35m   <none>
service/multitool    ClusterIP   10.233.58.43    <none>        5432/TCP         12m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.90.2:5432   23s
endpoints/kubernetes   10.128.0.20:6443   5h35m
endpoints/multitool    10.233.96.1:5432   12m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          23s     10.233.90.2   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h13m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl edit ep db
Edit cancelled, no changes made.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl delete ep db
Unable to connect to the server: dial tcp 51.250.65.215:6443: i/o timeout
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl -n default get svc,ep,po -o wide


NAME                   ENDPOINTS          AGE
endpoints/db           10.233.90.2:5432   4m29s
endpoints/kubernetes   10.128.0.20:6443   5h40m
endpoints/multitool    10.233.96.1:5432   16m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          4m29s   10.233.90.2   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h17m   10.233.96.1   node2   <none>           <none>
Unable to connect to the server: dial tcp 51.250.65.215:6443: i/o timeout
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE     SELECTOR
service/db           NodePort    10.233.43.249   <none>        5432:31818/TCP   4m53s   app=db
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP          5h40m   <none>
service/multitool    ClusterIP   10.233.58.43    <none>        5432/TCP         17m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.90.2:5432   4m53s
endpoints/kubernetes   10.128.0.20:6443   5h40m
endpoints/multitool    10.233.96.1:5432   16m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          4m53s   10.233.90.2   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h17m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl delete pod db-0 
pod "db-0" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE     SELECTOR
service/db           NodePort    10.233.43.249   <none>        5432:31818/TCP   5m31s   app=db
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP          5h41m   <none>
service/multitool    ClusterIP   10.233.58.43    <none>        5432/TCP         18m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/db           10.233.90.3:5432   5m31s
endpoints/kubernetes   10.128.0.20:6443   5h41m
endpoints/multitool    10.233.96.1:5432   17m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          4s      10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h18m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl delete svc db 
service "db" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl delete ep db
Error from server (NotFound): endpoints "db" not found
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    5h41m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   18m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h41m
endpoints/multitool    10.233.96.1:5432   17m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          28s     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h18m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd training/v-01/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:36 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  776 –∏—é–ª  7 17:49 db-app.yaml
-rw-rw-r-- 1 maestro maestro  821 –∏—é–ª  7 08:45 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim db-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim db-endpoint.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:40 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-endpoint.yaml
-rw-rw-r-- 1 maestro maestro  821 –∏—é–ª  7 08:45 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ mv db-endpoint.yaml db-ep.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:40 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-ep.yaml
-rw-rw-r-- 1 maestro maestro  821 –∏—é–ª  7 08:45 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim web-fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:43 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-ep.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    5h54m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   31m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   5h54m
endpoints/multitool    10.233.96.1:5432   30m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          13m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h31m   10.233.96.1   node2   <none>           <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl get deployments.apps 
NAME        READY   UP-TO-DATE   AVAILABLE   AGE
multitool   1/1     1            1           5h35m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:43 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-ep.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ mv db-ep.yaml db-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:52 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h3m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   40m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h3m
endpoints/multitool    10.233.96.1:5432   40m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          22m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h41m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h41m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h5m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   42m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h5m
endpoints/multitool    10.233.96.1:5432   41m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          24m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h42m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h42m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool

NAME                  READY   AGE   CONTAINERS   IMAGES
statefulset.apps/db   1/1     30m   db           zakharovnpa/k8s-database:05.07.22
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl apply -f db-svc.yaml 
service/db created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   4s     <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h7m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   44m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h7m
endpoints/multitool    10.233.96.1:5432   43m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          26m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h44m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h44m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool

NAME                  READY   AGE   CONTAINERS   IMAGES
statefulset.apps/db   1/1     31m   db           zakharovnpa/k8s-database:05.07.22
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE    SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   21s    <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h7m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   44m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h7m
endpoints/multitool    10.233.96.1:5432   44m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          26m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h44m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h44m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool

NAME                  READY   AGE   CONTAINERS   IMAGES
statefulset.apps/db   1/1     32m   db           zakharovnpa/k8s-database:05.07.22
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec db-0 -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
bash-5.1# 
bash-5.1# uptime
 14:58:47 up  8:50,  0 users,  load average: 0.09, 0.04, 0.04
bash-5.1# 
bash-5.1# who
bash-5.1# 
bash-5.1# whoami
root
bash-5.1# 
bash-5.1# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
3: eth0@if10: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1430 qdisc noqueue state UP 
    link/ether b6:5e:42:59:5b:85 brd ff:ff:ff:ff:ff:ff
    inet 10.233.90.3/32 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::b45e:42ff:fe59:5b85/64 scope link 
       valid_lft forever preferred_lft forever
bash-5.1# 
bash-5.1# curl 10.128.0.10:5432
bash: curl: command not found
bash-5.1# 
bash-5.1# exit
exit
command terminated with exit code 127
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   3m17s   <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h10m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   47m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h10m
endpoints/multitool    10.233.96.1:5432   46m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/db-0                         1/1     Running   0          29m     10.233.90.3   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h47m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h47m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool

NAME                  READY   AGE   CONTAINERS   IMAGES
statefulset.apps/db   1/1     35m   db           zakharovnpa/k8s-database:05.07.22
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl delete statefulsets.apps db 
statefulset.apps "db" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   3m41s   <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h11m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   48m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h11m
endpoints/multitool    10.233.96.1:5432   47m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h48m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS        IMAGES                                             SELECTOR
deployment.apps/multitool   1/1     1            1           5h48m   nginx,multitool   nginx:1.20,praqma/network-multitool:alpine-extra   app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:52 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl apply -f web-fb-app.yaml 
deployment.apps/fb-pod created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   4m33s   <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h11m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   48m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h11m
endpoints/multitool    10.233.96.1:5432   48m

NAME                             READY   STATUS              RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-65b9777746-p8frj      0/2     ContainerCreating   0          6s      <none>        node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running             0          5h49m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod      0/1     1            0           6s      frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app
deployment.apps/multitool   1/1     1            1           5h49m   nginx,multitool    nginx:1.20,praqma/network-multitool:alpine-extra                     app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   4m44s   <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h12m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   49m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h12m
endpoints/multitool    10.233.96.1:5432   48m

NAME                             READY   STATUS              RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-65b9777746-p8frj      0/2     ContainerCreating   0          17s     <none>        node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running             0          5h49m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod      0/1     1            0           17s     frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app
deployment.apps/multitool   1/1     1            1           5h49m   nginx,multitool    nginx:1.20,praqma/network-multitool:alpine-extra                     app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   6m8s    <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h13m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   50m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h13m
endpoints/multitool    10.233.96.1:5432   49m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-65b9777746-p8frj      2/2     Running   0          102s    10.233.90.4   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h50m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod      1/1     1            1           102s    frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app
deployment.apps/multitool   1/1     1            1           5h50m   nginx,multitool    nginx:1.20,praqma/network-multitool:alpine-extra                     app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec pods/fb-pod-65b9777746-p8frj -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
Defaulted container "frontend" out of: frontend, backend
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# ls -lha
total 420K
drwxr-xr-x 1 root root 4.0K Jul  4 12:30 .
drwxr-xr-x 1 root root 4.0K Jul 10 15:02 ..
-rw-r--r-- 1 root root   30 Jul  4 09:09 .env
-rw-r--r-- 1 root root   30 Jul  4 09:09 .env.example
-rw-r--r-- 1 root root  387 Jul  4 09:09 Dockerfile
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 build
-rw-r--r-- 1 root root  344 Jul  4 09:09 demo.conf
-rw-r--r-- 1 root root  448 Jul  4 09:09 index.html
-rw-r--r-- 1 root root  344 Jul  4 09:09 item.html
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 js
-rw-r--r-- 1 root root   80 Jul  4 09:09 list.json
-rw-r--r-- 1 root root 357K Jul  4 09:09 package-lock.json
-rw-r--r-- 1 root root 1.1K Jul  4 09:09 package.json
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 static
drwxr-xr-x 3 root root 4.0K Jul  4 09:09 styles
-rw-r--r-- 1 root root 2.8K Jul  4 09:09 webpack.config.js
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# cd build/
root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# ls -lha
total 16K
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 .
drwxr-xr-x 1 root root 4.0K Jul  4 12:30 ..
-rw-r--r-- 1 root root 2.5K Jul  4 12:30 main.css
-rw-r--r-- 1 root root 3.2K Jul  4 12:30 main.js
root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# cat main.css 
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}body{font:normal 400 13px/1.25 Arial,sans-serif;color:#000;background:#fff}.b-page{min-width:320px;max-width:1200px;margin:0 auto;min-height:100vh;width:100%;padding:20px;box-sizing:border-box}.b-page__title{margin:0 0 40px;font-size:3em;line-height:1em;text-align:center}.b-page__image{float:left;margin:0 20px 15px 0}.b-page__text p{margin:10px 0 0}.b-page__text p:first-child{margin-top:0}.b-items__item{margin-top:30px}.b-items__item:first-child{margin-top:0}.b-preview{overflow:hidden}.b-preview__title{margin:0 0 20px;font-size:2em;line-height:1em;text-align:center}.b-preview__image{float:left;margin:0 20px 10px 0;width:250px}.b-preview__text p{margin:10px 0 0}.b-preview__text p:first-child{margin-top:0}root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# cat main.js  
!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);e="http://localhost:9000";function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var n=1<arguments.length&&void 0!==e&&e;fetch(t).then(function(t){return t.json()}).then(function(t){var e;n?(e=t)&&(document.querySelector(".js-item").innerHTML='\n        <a><h1 class="b-page__title">'.concat(e.title,'</h1>\n        <img src="').concat(e.preview,'" class="b-page__image" alt="').concat(e.title,'"/>\n        <div class="b-page__text">').concat(e.description,"</div>\n    ")):function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var e,n=document.querySelector(".js-list"),r=a(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=document.createElement("article");i.className="b-items__item b-preview",i.id=o.id,i.innerHTML='\n            <a href="/detail/'.concat(o.id,'/"><h2 class="b-preview__title">').concat(o.title,'</h2></a>\n            <img src="').concat(o.preview,'" class="b-preview__image" alt="').concat(o.title,'"/>\n            <div class="b-preview__text">').concat(o.short_description,"</div>\n        "),n.append(i)}}catch(t){r.e(t)}finally{r.f()}}}(t)}).catch(function(t){console.log(t)})}n=window.location.pathname;console.log(e),/\/detail\/\d*\/$/.test(n)?r(e+"/api/news/1/",!0):/^\/$/.test(n)&&r(e+"/api/news/")}]);root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# 
root@fb-pod-65b9777746-p8frj:/app/build# cd
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# ping 10.128.0.10
bash: ping: command not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# curl
curl: try 'curl --help' or 'curl --manual' for more information
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# curl 10.128.0.10:5432
curl: (52) Empty reply from server
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# curl 10.128.0.10:5432
curl: (52) Empty reply from server
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# curl 10.128.0.10:5433
curl: (7) Failed to connect to 10.128.0.10 port 5433: Connection refused
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# curl 10.128.0.10:5432
curl: (52) Empty reply from server
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# exit
exit
command terminated with exit code 52
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   11m     <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    6h18m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   55m     app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   6h18m
endpoints/multitool    10.233.96.1:5432   54m

NAME                             READY   STATUS    RESTARTS   AGE     IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-65b9777746-p8frj      2/2     Running   0          6m40s   10.233.90.4   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          5h55m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod      1/1     1            1           6m40s   frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app
deployment.apps/multitool   1/1     1            1           5h55m   nginx,multitool    nginx:1.20,praqma/network-multitool:alpine-extra                     app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ curl 51.250.84.59:8000
curl: (7) Failed to connect to 51.250.84.59 port 8000: –í —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –æ—Ç–∫–∞–∑–∞–Ω–æ
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:52 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl logs pods/fb-pod-65b9777746-p8frj 
Defaulted container "frontend" out of: frontend, backend
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2022/07/10 15:02:20 [notice] 1#1: using the "epoll" event method
2022/07/10 15:02:20 [notice] 1#1: nginx/1.23.0
2022/07/10 15:02:20 [notice] 1#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6) 
2022/07/10 15:02:20 [notice] 1#1: OS: Linux 5.4.0-121-generic
2022/07/10 15:02:20 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
2022/07/10 15:02:20 [notice] 1#1: start worker processes
2022/07/10 15:02:20 [notice] 1#1: start worker process 29
2022/07/10 15:02:20 [notice] 1#1: start worker process 30
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec pods/fb-pod-65b9777746-p8frj -c backend -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# ls -lha
total 28K
drwxr-xr-x 1 root root 4.0K Jul  4 12:31 .
drwxr-xr-x 1 root root 4.0K Jul 10 15:02 ..
-rw-r--r-- 1 root root  280 Jul  4 09:09 Pipfile
-rw-r--r-- 1 root root  12K Jul  4 09:09 Pipfile.lock
-rw-r--r-- 1 root root 2.3K Jul  4 09:09 main.py
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# curl 10.128.0.10:5432
curl: (52) Empty reply from server
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# cd
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo $DATABASE_URL

root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# sh env
sh: 0: Can't open env
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# env
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_SERVICE_PORT=443
HOSTNAME=fb-pod-65b9777746-p8frj
PYTHON_VERSION=3.9.13
DB_PORT_5432_TCP_ADDR=10.233.9.186
PWD=/root
MULTITOOL_SERVICE_HOST=10.233.58.43
PYTHON_SETUPTOOLS_VERSION=58.1.0
DB_PORT=tcp://10.233.9.186:5432
HOME=/root
LANG=C.UTF-8
KUBERNETES_PORT_443_TCP=tcp://10.233.0.1:443
MULTITOOL_PORT_5432_TCP_PROTO=tcp
GPG_KEY=E3FF2839C048B25C084DEBE9B26995E310250568
DB_SERVICE_PORT=5432
DB_SERVICE_HOST=10.233.9.186
DB_PORT_5432_TCP=tcp://10.233.9.186:5432
TERM=xterm
MULTITOOL_PORT_5432_TCP=tcp://10.233.58.43:5432
SHLVL=1
MULTITOOL_SERVICE_PORT_5432=5432
KUBERNETES_PORT_443_TCP_PROTO=tcp
PYTHON_PIP_VERSION=22.0.4
KUBERNETES_PORT_443_TCP_ADDR=10.233.0.1
DB_PORT_5432_TCP_PROTO=tcp
PYTHON_GET_PIP_SHA256=ba3ab8267d91fd41c58dbce08f76db99f747f716d85ce1865813842bb035524d
KUBERNETES_SERVICE_HOST=10.233.0.1
DB_PORT_5432_TCP_PORT=5432
KUBERNETES_PORT=tcp://10.233.0.1:443
KUBERNETES_PORT_443_TCP_PORT=443
PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/6ce3639da143c5d79b44f94b04080abf2531fd6e/public/get-pip.py
PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
MULTITOOL_PORT=tcp://10.233.58.43:5432
MULTITOOL_PORT_5432_TCP_PORT=5432
MULTITOOL_PORT_5432_TCP_ADDR=10.233.58.43
MULTITOOL_SERVICE_PORT=5432
_=/usr/bin/env
OLDPWD=/app
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo $DB_PORT_5432_TCP_PROTO
tcp
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# exit
exit
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl logs fb-pod-65b9777746-p8frj -c back
error: container back is not valid for pod fb-pod-65b9777746-p8frj
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl logs -c 
error: flag needs an argument: 'c' in -c
See 'kubectl logs --help' for usage.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl -n default get svc,ep,po,deploy,statefulsets.apps -o wide
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE     SELECTOR
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   84m     <none>
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    7h32m   <none>
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   129m    app=multitool

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   7h32m
endpoints/multitool    10.233.96.1:5432   128m

NAME                             READY   STATUS    RESTARTS   AGE    IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-65b9777746-p8frj      2/2     Running   0          80m    10.233.90.4   node1   <none>           <none>
pod/multitool-86dd874c4c-9snbd   2/2     Running   0          7h9m   10.233.96.1   node2   <none>           <none>

NAME                        READY   UP-TO-DATE   AVAILABLE   AGE    CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod      1/1     1            1           80m    frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app
deployment.apps/multitool   1/1     1            1           7h9m   nginx,multitool    nginx:1.20,praqma/network-multitool:alpine-extra                     app=multitool
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec pods/fb-pod-65b9777746-p8frj -c backend -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# cd
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~#  echo 'export DATABASE_URL="postgres://postgres:postgres@db:5432/news"' >> ~/.bashrc
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# ls -lha
total 36K
drwx------ 1 root root 4.0K Jul 10 15:20 .
drwxr-xr-x 1 root root 4.0K Jul 10 15:02 ..
-rw------- 1 root root   97 Jul 10 15:20 .bash_history
-rw-r--r-- 1 root root  634 Jul 10 16:25 .bashrc
drwxr-xr-x 1 root root 4.0K Jul  4 12:31 .cache
drwxr-xr-x 3 root root 4.0K Jul  4 12:31 .local
-rw-r--r-- 1 root root  148 Aug 17  2015 .profile
-rw------- 1 root root    0 Jun 23 11:23 .python_history
-rw-r--r-- 1 root root  254 Jun 23 11:27 .wget-hsts
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# source .bashrc
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo $DATABASE_URL
postgres://postgres:postgres@db:5432/news
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# exit
exit
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl logs fb-pod-65b9777746-p8frj
Defaulted container "frontend" out of: frontend, backend
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2022/07/10 15:02:20 [notice] 1#1: using the "epoll" event method
2022/07/10 15:02:20 [notice] 1#1: nginx/1.23.0
2022/07/10 15:02:20 [notice] 1#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6) 
2022/07/10 15:02:20 [notice] 1#1: OS: Linux 5.4.0-121-generic
2022/07/10 15:02:20 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
2022/07/10 15:02:20 [notice] 1#1: start worker processes
2022/07/10 15:02:20 [notice] 1#1: start worker process 29
2022/07/10 15:02:20 [notice] 1#1: start worker process 30
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec pods/fb-pod-65b9777746-p8frj -c backend -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# cd
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# psql -h db -U postgres
bash: psql: command not found
root@fb-pod-65b9777746-p8frj:~# psql -h db -U postgres -d news
bash: psql: command not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apropos
bash: apropos: command not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt install postgresql-client-common
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package postgresql-client-common
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt-get install postgresql-client-common
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package postgresql-client-common
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt install update
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package update
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt install upgrade
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package upgrade
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# sudo apt-get install -y postgresql-client
bash: sudo: command not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt-get install -y postgresql-client
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package postgresql-client
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# apt-get install wget ca-certificates
Reading package lists... Done
Building dependency tree       
Reading state information... Done
ca-certificates is already the newest version (20200601~deb10u2).
wget is already the newest version (1.20.1-1.1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
bash: sudo: command not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
sh: 1: lsb_release: not found
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# exit
exit
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl exec pods/fb-pod-65b9777746-p8frj -c frontend -it bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# ls -lha
total 420K
drwxr-xr-x 1 root root 4.0K Jul  4 12:30 .
drwxr-xr-x 1 root root 4.0K Jul 10 15:02 ..
-rw-r--r-- 1 root root   30 Jul  4 09:09 .env
-rw-r--r-- 1 root root   30 Jul  4 09:09 .env.example
-rw-r--r-- 1 root root  387 Jul  4 09:09 Dockerfile
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 build
-rw-r--r-- 1 root root  344 Jul  4 09:09 demo.conf
-rw-r--r-- 1 root root  448 Jul  4 09:09 index.html
-rw-r--r-- 1 root root  344 Jul  4 09:09 item.html
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 js
-rw-r--r-- 1 root root   80 Jul  4 09:09 list.json
-rw-r--r-- 1 root root 357K Jul  4 09:09 package-lock.json
-rw-r--r-- 1 root root 1.1K Jul  4 09:09 package.json
drwxr-xr-x 2 root root 4.0K Jul  4 09:09 static
drwxr-xr-x 3 root root 4.0K Jul  4 09:09 styles
-rw-r--r-- 1 root root 2.8K Jul  4 09:09 webpack.config.js
root@fb-pod-65b9777746-p8frj:/app# 
root@fb-pod-65b9777746-p8frj:/app# cd 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo $BASE_UR                                                                      

root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo 'export BASE_URL="http://localhost:9000"' >> ~/.bashrc
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# source .bashrc
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# echo $BASE_UR

root@fb-pod-65b9777746-p8frj:~# echo $BASE_URL
http://localhost:9000
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# 
root@fb-pod-65b9777746-p8frj:~# exit
exit
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:52 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim front-ingress.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ vim front-ingress-template.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl port-forward fb-pod-65b9777746-p8frj 8080:8080
Forwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
^Cmaestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl port-forward fb-pod-65b9777746-p8frj 8000:8000
Forwarding from 127.0.0.1:8000 -> 8000
Forwarding from [::1]:8000 -> 8000
^Cmaestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl port-forward fb-pod-65b9777746-p8frj 80:80
Unable to listen on port 80: Listeners failed to create with the following errors: [unable to create listener: Error listen tcp4 127.0.0.1:80: bind: permission denied unable to create listener: Error listen tcp6 [::1]:80: bind: permission denied]
error: unable to listen on any of the requested ports: [{80 80}]
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl port-forward fb-pod-65b9777746-p8frj 8000:80
Forwarding from 127.0.0.1:8000 -> 80
Forwarding from [::1]:8000 -> 80
^Cmaestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl port-forward fb-pod-65b9777746-p8frj 8000:8000
Forwarding from 127.0.0.1:8000 -> 8000
Forwarding from [::1]:8000 -> 8000
^Cmaestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$  
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ ls -lha
–∏—Ç–æ–≥–æ 28K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 21:03 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:36 ..
-rw-rw-r-- 1 maestro maestro  570 –∏—é–ª 10 18:38 db-app.yaml
-rw-rw-r-- 1 maestro maestro  149 –∏—é–ª 10 18:40 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  394 –∏—é–ª 10 21:03 front-ingress-template.yaml
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª 10 18:42 web-fb-app.yaml
-rw-rw-r-- 1 maestro maestro  221 –∏—é–ª 10 18:43 web-fb-svc.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl get svc,ep
NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE
service/db           ClusterIP   10.233.9.186   <none>        5432/TCP   175m
service/kubernetes   ClusterIP   10.233.0.1     <none>        443/TCP    9h
service/multitool    ClusterIP   10.233.58.43   <none>        5432/TCP   3h39m

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.20:6443   9h
endpoints/multitool    10.233.96.1:5432   3h39m
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl get svc multitool -o yaml
apiVersion: v1
kind: Service
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"multitool"},"name":"multitool","namespace":"default"},"spec":{"ports":[{"name":"5432","port":5432,"targetPort":5432}],"selector":{"app":"multitool"}}}
  creationTimestamp: "2022-07-10T14:13:23Z"
  labels:
    app: multitool
  name: multitool
  namespace: default
  resourceVersion: "33684"
  uid: 7f2ee0f3-a8ad-4bfe-b986-743123c84c1f
spec:
  clusterIP: 10.233.58.43
  clusterIPs:
  - 10.233.58.43
  internalTrafficPolicy: Cluster
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - name: "5432"
    port: 5432
    protocol: TCP
    targetPort: 5432
  selector:
    app: multitool
  sessionAffinity: None
  type: ClusterIP
status:
  loadBalancer: {}
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ kubectl get ep multitool -o yaml
apiVersion: v1
kind: Endpoints
metadata:
  annotations:
    endpoints.kubernetes.io/last-change-trigger-time: "2022-07-10T14:13:23Z"
  creationTimestamp: "2022-07-10T14:14:05Z"
  labels:
    app: multitool
  name: multitool
  namespace: default
  resourceVersion: "33685"
  uid: 58dac7ca-d6e0-4355-bd1c-ea461dfc7fde
subsets:
- addresses:
  - ip: 10.233.96.1
    nodeName: node2
    targetRef:
      kind: Pod
      name: multitool-86dd874c4c-9snbd
      namespace: default
      uid: faf97b11-7e1f-4851-8ed7-b3f5187657ad
  ports:
  - name: "5432"
    port: 5432
    protocol: TCP
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-01$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd main/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  7 17:49 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  776 –∏—é–ª  7 17:49 db-app.yaml
-rw-rw-r-- 1 maestro maestro  821 –∏—é–ª  7 08:45 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd multitool/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 32K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:22 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  198 –∏—é–ª 10 18:11 clasterip-db.yaml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 deployment-multitool.yaml
-rw-r--r-- 1 maestro maestro  163 –∏—é–ª 10 18:12 endpoint-db.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
-rw-rw-r-- 1 maestro maestro  224 –∏—é–ª 10 18:09 nodeport-db.yaml
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:22 v-01
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ cat clasterip-db.yaml 
---
# Config PostgreSQL StatefulSet Service
apiVersion: v1
kind: Service
metadata:
  name: multitool
  namespace: default
spec:
  ports:
    - name: db      
      port: 5432
      targetPort: 5432
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ cat endpoint-db.yml 
---
apiVersion: v1
kind: Endpoints
metadata:
  name: multitool 
  namespace: default
subsets:
  - addresses:
      - ip: 10.128.0.10
    ports:
      - port: 5432
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.
KIND:     Service
VERSION:  v1

DESCRIPTION:
     Service is a named abstraction of software service (for example, mysql)
     consisting of local port (for example 3306) that the proxy listens on, and
     the selector that determines which pods will answer requests sent through
     the proxy.

FIELDS:
   apiVersion	<string>
     APIVersion defines the versioned schema of this representation of an
     object. Servers should convert recognized schemas to the latest internal
     value, and may reject unrecognized values. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources

   kind	<string>
     Kind is a string value representing the REST resource this object
     represents. Servers may infer this from the endpoint the client submits
     requests to. Cannot be updated. In CamelCase. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds

   metadata	<Object>
     Standard object's metadata. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata

   spec	<Object>
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

   status	<Object>
     Most recently observed status of the service. Populated by the system.
     Read-only. More info:
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.
KIND:     Service
VERSION:  v1

RESOURCE: spec <Object>

DESCRIPTION:
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

     ServiceSpec describes the attributes that a user creates on a service.

FIELDS:
   allocateLoadBalancerNodePorts	<boolean>
     allocateLoadBalancerNodePorts defines if NodePorts will be automatically
     allocated for services with type LoadBalancer. Default is "true". It may be
     set to "false" if the cluster load-balancer does not rely on NodePorts. If
     the caller requests specific NodePorts (by specifying a value), those
     requests will be respected, regardless of this field. This field may only
     be set for services with type LoadBalancer and will be cleared if the type
     is changed to any other type.

   clusterIP	<string>
     clusterIP is the IP address of the service and is usually assigned
     randomly. If an address is specified manually, is in-range (as per system
     configuration), and is not in use, it will be allocated to the service;
     otherwise creation of the service will fail. This field may not be changed
     through updates unless the type field is also being changed to ExternalName
     (which requires this field to be blank) or the type field is being changed
     from ExternalName (in which case this field may optionally be specified, as
     describe above). Valid values are "None", empty string (""), or a valid IP
     address. Setting this to "None" makes a "headless service" (no virtual IP),
     which is useful when direct endpoint connections are preferred and proxying
     is not required. Only applies to types ClusterIP, NodePort, and
     LoadBalancer. If this field is specified when creating a Service of type
     ExternalName, creation will fail. This field will be wiped when updating a
     Service to type ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   clusterIPs	<[]string>
     ClusterIPs is a list of IP addresses assigned to this service, and are
     usually assigned randomly. If an address is specified manually, is in-range
     (as per system configuration), and is not in use, it will be allocated to
     the service; otherwise creation of the service will fail. This field may
     not be changed through updates unless the type field is also being changed
     to ExternalName (which requires this field to be empty) or the type field
     is being changed from ExternalName (in which case this field may optionally
     be specified, as describe above). Valid values are "None", empty string
     (""), or a valid IP address. Setting this to "None" makes a "headless
     service" (no virtual IP), which is useful when direct endpoint connections
     are preferred and proxying is not required. Only applies to types
     ClusterIP, NodePort, and LoadBalancer. If this field is specified when
     creating a Service of type ExternalName, creation will fail. This field
     will be wiped when updating a Service to type ExternalName. If this field
     is not specified, it will be initialized from the clusterIP field. If this
     field is specified, clients must ensure that clusterIPs[0] and clusterIP
     have the same value.

     This field may hold a maximum of two entries (dual-stack IPs, in either
     order). These IPs must correspond to the values of the ipFamilies field.
     Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   externalIPs	<[]string>
     externalIPs is a list of IP addresses for which nodes in the cluster will
     also accept traffic for this service. These IPs are not managed by
     Kubernetes. The user is responsible for ensuring that traffic arrives at a
     node with this IP. A common example is external load-balancers that are not
     part of the Kubernetes system.

   externalName	<string>
     externalName is the external reference that discovery mechanisms will
     return as an alias for this service (e.g. a DNS CNAME record). No proxying
     will be involved. Must be a lowercase RFC-1123 hostname
     (https://tools.ietf.org/html/rfc1123) and requires `type` to be
     "ExternalName".

   externalTrafficPolicy	<string>
     externalTrafficPolicy denotes if this Service desires to route external
     traffic to node-local or cluster-wide endpoints. "Local" preserves the
     client source IP and avoids a second hop for LoadBalancer and Nodeport type
     services, but risks potentially imbalanced traffic spreading. "Cluster"
     obscures the client source IP and may cause a second hop to another node,
     but should have good overall load-spreading.

     Possible enum values:
     - `"Cluster"` specifies node-global (legacy) behavior.
     - `"Local"` specifies node-local endpoints behavior.

   healthCheckNodePort	<integer>
     healthCheckNodePort specifies the healthcheck nodePort for the service.
     This only applies when type is set to LoadBalancer and
     externalTrafficPolicy is set to Local. If a value is specified, is
     in-range, and is not in use, it will be used. If not specified, a value
     will be automatically allocated. External systems (e.g. load-balancers) can
     use this port to determine if a given node holds endpoints for this service
     or not. If this field is specified when creating a Service which does not
     need it, creation will fail. This field will be wiped when updating a
     Service to no longer need it (e.g. changing type).

   internalTrafficPolicy	<string>
     InternalTrafficPolicy specifies if the cluster internal traffic should be
     routed to all endpoints or node-local endpoints only. "Cluster" routes
     internal traffic to a Service to all endpoints. "Local" routes traffic to
     node-local endpoints only, traffic is dropped if no node-local endpoints
     are ready. The default value is "Cluster".

   ipFamilies	<[]string>
     IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this
     service. This field is usually assigned automatically based on cluster
     configuration and the ipFamilyPolicy field. If this field is specified
     manually, the requested family is available in the cluster, and
     ipFamilyPolicy allows it, it will be used; otherwise creation of the
     service will fail. This field is conditionally mutable: it allows for
     adding or removing a secondary IP family, but it does not allow changing
     the primary IP family of the Service. Valid values are "IPv4" and "IPv6".
     This field only applies to Services of types ClusterIP, NodePort, and
     LoadBalancer, and does apply to "headless" services. This field will be
     wiped when updating a Service to type ExternalName.

     This field may hold a maximum of two entries (dual-stack families, in
     either order). These families must correspond to the values of the
     clusterIPs field, if specified. Both clusterIPs and ipFamilies are governed
     by the ipFamilyPolicy field.

   ipFamilyPolicy	<string>
     IPFamilyPolicy represents the dual-stack-ness requested or required by this
     Service. If there is no value provided, then this field will be set to
     SingleStack. Services can be "SingleStack" (a single IP family),
     "PreferDualStack" (two IP families on dual-stack configured clusters or a
     single IP family on single-stack clusters), or "RequireDualStack" (two IP
     families on dual-stack configured clusters, otherwise fail). The ipFamilies
     and clusterIPs fields depend on the value of this field. This field will be
     wiped when updating a service to type ExternalName.

   loadBalancerClass	<string>
     loadBalancerClass is the class of the load balancer implementation this
     Service belongs to. If specified, the value of this field must be a
     label-style identifier, with an optional prefix, e.g. "internal-vip" or
     "example.com/internal-vip". Unprefixed names are reserved for end-users.
     This field can only be set when the Service type is 'LoadBalancer'. If not
     set, the default load balancer implementation is used, today this is
     typically done through the cloud provider integration, but should apply for
     any default implementation. If set, it is assumed that a load balancer
     implementation is watching for Services with a matching class. Any default
     load balancer implementation (e.g. cloud providers) should ignore Services
     that set this field. This field can only be set when creating or updating a
     Service to type 'LoadBalancer'. Once set, it can not be changed. This field
     will be wiped when a service is updated to a non 'LoadBalancer' type.

   loadBalancerIP	<string>
     Only applies to Service Type: LoadBalancer. This feature depends on whether
     the underlying cloud-provider supports specifying the loadBalancerIP when a
     load balancer is created. This field will be ignored if the cloud-provider
     does not support the feature. Deprecated: This field was under-specified
     and its meaning varies across implementations, and it cannot support
     dual-stack. As of Kubernetes v1.24, users are encouraged to use
     implementation-specific annotations when available. This field may be
     removed in a future API version.

   loadBalancerSourceRanges	<[]string>
     If specified and supported by the platform, this will restrict traffic
     through the cloud-provider load-balancer will be restricted to the
     specified client IPs. This field will be ignored if the cloud-provider does
     not support the feature." More info:
     https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/

   ports	<[]Object>
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   publishNotReadyAddresses	<boolean>
     publishNotReadyAddresses indicates that any agent which deals with
     endpoints for this Service should disregard any indications of
     ready/not-ready. The primary use case for setting this field is for a
     StatefulSet's Headless Service to propagate SRV DNS records for its Pods
     for the purpose of peer discovery. The Kubernetes controllers that generate
     Endpoints and EndpointSlice resources for Services interpret this to mean
     that all endpoints are considered "ready" even if the Pods themselves are
     not. Agents which consume only Kubernetes generated endpoints through the
     Endpoints or EndpointSlice resources can safely assume this behavior.

   selector	<map[string]string>
     Route service traffic to pods with label keys and values matching this
     selector. If empty or not present, the service is assumed to have an
     external process managing its endpoints, which Kubernetes will not modify.
     Only applies to types ClusterIP, NodePort, and LoadBalancer. Ignored if
     type is ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/

   sessionAffinity	<string>
     Supports "ClientIP" and "None". Used to maintain session affinity. Enable
     client IP based session affinity. Must be ClientIP or None. Defaults to
     None. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     Possible enum values:
     - `"ClientIP"` is the Client IP based.
     - `"None"` - no session affinity.

   sessionAffinityConfig	<Object>
     sessionAffinityConfig contains the configurations of session affinity.

   type	<string>
     type determines how the Service is exposed. Defaults to ClusterIP. Valid
     options are ExternalName, ClusterIP, NodePort, and LoadBalancer.
     "ClusterIP" allocates a cluster-internal IP address for load-balancing to
     endpoints. Endpoints are determined by the selector or if that is not
     specified, by manual construction of an Endpoints object or EndpointSlice
     objects. If clusterIP is "None", no virtual IP is allocated and the
     endpoints are published as a set of endpoints rather than a virtual IP.
     "NodePort" builds on ClusterIP and allocates a port on every node which
     routes to the same endpoints as the clusterIP. "LoadBalancer" builds on
     NodePort and creates an external load-balancer (if supported in the current
     cloud) which routes to the same endpoints as the clusterIP. "ExternalName"
     aliases this service to the specified externalName. Several other fields do
     not apply to ExternalName services. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types

     Possible enum values:
     - `"ClusterIP"` means a service will only be accessible inside the cluster,
     via the cluster IP.
     - `"ExternalName"` means a service consists of only a reference to an
     external name that kubedns or equivalent will return as a CNAME record,
     with no exposing or proxying of any pods involved.
     - `"LoadBalancer"` means a service will be exposed via an external load
     balancer (if the cloud provider supports it), in addition to 'NodePort'
     type.
     - `"NodePort"` means a service will be exposed on one port of every node,
     in addition to 'ClusterIP' type.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.type.
KIND:     Service
VERSION:  v1

FIELD:    type <string>

DESCRIPTION:
     type determines how the Service is exposed. Defaults to ClusterIP. Valid
     options are ExternalName, ClusterIP, NodePort, and LoadBalancer.
     "ClusterIP" allocates a cluster-internal IP address for load-balancing to
     endpoints. Endpoints are determined by the selector or if that is not
     specified, by manual construction of an Endpoints object or EndpointSlice
     objects. If clusterIP is "None", no virtual IP is allocated and the
     endpoints are published as a set of endpoints rather than a virtual IP.
     "NodePort" builds on ClusterIP and allocates a port on every node which
     routes to the same endpoints as the clusterIP. "LoadBalancer" builds on
     NodePort and creates an external load-balancer (if supported in the current
     cloud) which routes to the same endpoints as the clusterIP. "ExternalName"
     aliases this service to the specified externalName. Several other fields do
     not apply to ExternalName services. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types

     Possible enum values:
     - `"ClusterIP"` means a service will only be accessible inside the cluster,
     via the cluster IP.
     - `"ExternalName"` means a service consists of only a reference to an
     external name that kubedns or equivalent will return as a CNAME record,
     with no exposing or proxying of any pods involved.
     - `"LoadBalancer"` means a service will be exposed via an external load
     balancer (if the cloud provider supports it), in addition to 'NodePort'
     type.
     - `"NodePort"` means a service will be exposed on one port of every node,
     in addition to 'ClusterIP' type.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ kubectl explain svc.spec.
KIND:     Service
VERSION:  v1

RESOURCE: spec <Object>

DESCRIPTION:
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

     ServiceSpec describes the attributes that a user creates on a service.

FIELDS:
   allocateLoadBalancerNodePorts	<boolean>
     allocateLoadBalancerNodePorts defines if NodePorts will be automatically
     allocated for services with type LoadBalancer. Default is "true". It may be
     set to "false" if the cluster load-balancer does not rely on NodePorts. If
     the caller requests specific NodePorts (by specifying a value), those
     requests will be respected, regardless of this field. This field may only
     be set for services with type LoadBalancer and will be cleared if the type
     is changed to any other type.

   clusterIP	<string>
     clusterIP is the IP address of the service and is usually assigned
     randomly. If an address is specified manually, is in-range (as per system
     configuration), and is not in use, it will be allocated to the service;
     otherwise creation of the service will fail. This field may not be changed
     through updates unless the type field is also being changed to ExternalName
     (which requires this field to be blank) or the type field is being changed
     from ExternalName (in which case this field may optionally be specified, as
     describe above). Valid values are "None", empty string (""), or a valid IP
     address. Setting this to "None" makes a "headless service" (no virtual IP),
     which is useful when direct endpoint connections are preferred and proxying
     is not required. Only applies to types ClusterIP, NodePort, and
     LoadBalancer. If this field is specified when creating a Service of type
     ExternalName, creation will fail. This field will be wiped when updating a
     Service to type ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   clusterIPs	<[]string>
     ClusterIPs is a list of IP addresses assigned to this service, and are
     usually assigned randomly. If an address is specified manually, is in-range
     (as per system configuration), and is not in use, it will be allocated to
     the service; otherwise creation of the service will fail. This field may
     not be changed through updates unless the type field is also being changed
     to ExternalName (which requires this field to be empty) or the type field
     is being changed from ExternalName (in which case this field may optionally
     be specified, as describe above). Valid values are "None", empty string
     (""), or a valid IP address. Setting this to "None" makes a "headless
     service" (no virtual IP), which is useful when direct endpoint connections
     are preferred and proxying is not required. Only applies to types
     ClusterIP, NodePort, and LoadBalancer. If this field is specified when
     creating a Service of type ExternalName, creation will fail. This field
     will be wiped when updating a Service to type ExternalName. If this field
     is not specified, it will be initialized from the clusterIP field. If this
     field is specified, clients must ensure that clusterIPs[0] and clusterIP
     have the same value.

     This field may hold a maximum of two entries (dual-stack IPs, in either
     order). These IPs must correspond to the values of the ipFamilies field.
     Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   externalIPs	<[]string>
     externalIPs is a list of IP addresses for which nodes in the cluster will
     also accept traffic for this service. These IPs are not managed by
     Kubernetes. The user is responsible for ensuring that traffic arrives at a
     node with this IP. A common example is external load-balancers that are not
     part of the Kubernetes system.

   externalName	<string>
     externalName is the external reference that discovery mechanisms will
     return as an alias for this service (e.g. a DNS CNAME record). No proxying
     will be involved. Must be a lowercase RFC-1123 hostname
     (https://tools.ietf.org/html/rfc1123) and requires `type` to be
     "ExternalName".

   externalTrafficPolicy	<string>
     externalTrafficPolicy denotes if this Service desires to route external
     traffic to node-local or cluster-wide endpoints. "Local" preserves the
     client source IP and avoids a second hop for LoadBalancer and Nodeport type
     services, but risks potentially imbalanced traffic spreading. "Cluster"
     obscures the client source IP and may cause a second hop to another node,
     but should have good overall load-spreading.

     Possible enum values:
     - `"Cluster"` specifies node-global (legacy) behavior.
     - `"Local"` specifies node-local endpoints behavior.

   healthCheckNodePort	<integer>
     healthCheckNodePort specifies the healthcheck nodePort for the service.
     This only applies when type is set to LoadBalancer and
     externalTrafficPolicy is set to Local. If a value is specified, is
     in-range, and is not in use, it will be used. If not specified, a value
     will be automatically allocated. External systems (e.g. load-balancers) can
     use this port to determine if a given node holds endpoints for this service
     or not. If this field is specified when creating a Service which does not
     need it, creation will fail. This field will be wiped when updating a
     Service to no longer need it (e.g. changing type).

   internalTrafficPolicy	<string>
     InternalTrafficPolicy specifies if the cluster internal traffic should be
     routed to all endpoints or node-local endpoints only. "Cluster" routes
     internal traffic to a Service to all endpoints. "Local" routes traffic to
     node-local endpoints only, traffic is dropped if no node-local endpoints
     are ready. The default value is "Cluster".

   ipFamilies	<[]string>
     IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this
     service. This field is usually assigned automatically based on cluster
     configuration and the ipFamilyPolicy field. If this field is specified
     manually, the requested family is available in the cluster, and
     ipFamilyPolicy allows it, it will be used; otherwise creation of the
     service will fail. This field is conditionally mutable: it allows for
     adding or removing a secondary IP family, but it does not allow changing
     the primary IP family of the Service. Valid values are "IPv4" and "IPv6".
     This field only applies to Services of types ClusterIP, NodePort, and
     LoadBalancer, and does apply to "headless" services. This field will be
     wiped when updating a Service to type ExternalName.

     This field may hold a maximum of two entries (dual-stack families, in
     either order). These families must correspond to the values of the
     clusterIPs field, if specified. Both clusterIPs and ipFamilies are governed
     by the ipFamilyPolicy field.

   ipFamilyPolicy	<string>
     IPFamilyPolicy represents the dual-stack-ness requested or required by this
     Service. If there is no value provided, then this field will be set to
     SingleStack. Services can be "SingleStack" (a single IP family),
     "PreferDualStack" (two IP families on dual-stack configured clusters or a
     single IP family on single-stack clusters), or "RequireDualStack" (two IP
     families on dual-stack configured clusters, otherwise fail). The ipFamilies
     and clusterIPs fields depend on the value of this field. This field will be
     wiped when updating a service to type ExternalName.

   loadBalancerClass	<string>
     loadBalancerClass is the class of the load balancer implementation this
     Service belongs to. If specified, the value of this field must be a
     label-style identifier, with an optional prefix, e.g. "internal-vip" or
     "example.com/internal-vip". Unprefixed names are reserved for end-users.
     This field can only be set when the Service type is 'LoadBalancer'. If not
     set, the default load balancer implementation is used, today this is
     typically done through the cloud provider integration, but should apply for
     any default implementation. If set, it is assumed that a load balancer
     implementation is watching for Services with a matching class. Any default
     load balancer implementation (e.g. cloud providers) should ignore Services
     that set this field. This field can only be set when creating or updating a
     Service to type 'LoadBalancer'. Once set, it can not be changed. This field
     will be wiped when a service is updated to a non 'LoadBalancer' type.

   loadBalancerIP	<string>
     Only applies to Service Type: LoadBalancer. This feature depends on whether
     the underlying cloud-provider supports specifying the loadBalancerIP when a
     load balancer is created. This field will be ignored if the cloud-provider
     does not support the feature. Deprecated: This field was under-specified
     and its meaning varies across implementations, and it cannot support
     dual-stack. As of Kubernetes v1.24, users are encouraged to use
     implementation-specific annotations when available. This field may be
     removed in a future API version.

   loadBalancerSourceRanges	<[]string>
     If specified and supported by the platform, this will restrict traffic
     through the cloud-provider load-balancer will be restricted to the
     specified client IPs. This field will be ignored if the cloud-provider does
     not support the feature." More info:
     https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/

   ports	<[]Object>
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   publishNotReadyAddresses	<boolean>
     publishNotReadyAddresses indicates that any agent which deals with
     endpoints for this Service should disregard any indications of
     ready/not-ready. The primary use case for setting this field is for a
     StatefulSet's Headless Service to propagate SRV DNS records for its Pods
     for the purpose of peer discovery. The Kubernetes controllers that generate
     Endpoints and EndpointSlice resources for Services interpret this to mean
     that all endpoints are considered "ready" even if the Pods themselves are
     not. Agents which consume only Kubernetes generated endpoints through the
     Endpoints or EndpointSlice resources can safely assume this behavior.

   selector	<map[string]string>
     Route service traffic to pods with label keys and values matching this
     selector. If empty or not present, the service is assumed to have an
     external process managing its endpoints, which Kubernetes will not modify.
     Only applies to types ClusterIP, NodePort, and LoadBalancer. Ignored if
     type is ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/

   sessionAffinity	<string>
     Supports "ClientIP" and "None". Used to maintain session affinity. Enable
     client IP based session affinity. Must be ClientIP or None. Defaults to
     None. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     Possible enum values:
     - `"ClientIP"` is the Client IP based.
     - `"None"` - no session affinity.

   sessionAffinityConfig	<Object>
     sessionAffinityConfig contains the configurations of session affinity.

   type	<string>
     type determines how the Service is exposed. Defaults to ClusterIP. Valid
     options are ExternalName, ClusterIP, NodePort, and LoadBalancer.
     "ClusterIP" allocates a cluster-internal IP address for load-balancing to
     endpoints. Endpoints are determined by the selector or if that is not
     specified, by manual construction of an Endpoints object or EndpointSlice
     objects. If clusterIP is "None", no virtual IP is allocated and the
     endpoints are published as a set of endpoints rather than a virtual IP.
     "NodePort" builds on ClusterIP and allocates a port on every node which
     routes to the same endpoints as the clusterIP. "LoadBalancer" builds on
     NodePort and creates an external load-balancer (if supported in the current
     cloud) which routes to the same endpoints as the clusterIP. "ExternalName"
     aliases this service to the specified externalName. Several other fields do
     not apply to ExternalName services. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types

     Possible enum values:
     - `"ClusterIP"` means a service will only be accessible inside the cluster,
     via the cluster IP.
     - `"ExternalName"` means a service consists of only a reference to an
     external name that kubedns or equivalent will return as a CNAME record,
     with no exposing or proxying of any pods involved.
     - `"LoadBalancer"` means a service will be exposed via an external load
     balancer (if the cloud provider supports it), in addition to 'NodePort'
     type.
     - `"NodePort"` means a service will be exposed on one port of every node,
     in addition to 'ClusterIP' type.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ ls -lha
–∏—Ç–æ–≥–æ 32K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:22 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  198 –∏—é–ª 10 18:11 clasterip-db.yaml
-rw-rw-r-- 1 maestro maestro  550 –∏—é–ª 10 08:08 deployment-multitool.yaml
-rw-r--r-- 1 maestro maestro  163 –∏—é–ª 10 18:12 endpoint-db.yml
-rw-r--r-- 1 maestro maestro  397 –∏—é–ª  7 20:17 ingress-template.yml
-rw-rw-r-- 1 maestro maestro  224 –∏—é–ª 10 18:09 nodeport-db.yaml
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:22 v-01
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ cd v-01/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool/v-01$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 18:22 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:22 ..
-rw-rw-r-- 1 maestro maestro  198 –∏—é–ª 10 18:11 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  163 –∏—é–ª 10 18:12 endpoint-db.yml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool/v-01$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool/v-01$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool/v-01$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/multitool$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª  7 19:54 .
drwxrwxr-x 6 maestro maestro 4,0K –∏—é–ª  7 17:51 ..
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  5 15:24 main
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:15 postgres
drwxr-xr-x 2 root    root    4,0K –∏—é–ª  9 12:28 template
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta$ ls -lha
–∏—Ç–æ–≥–æ 28K
drwxrwxr-x 6 maestro maestro 4,0K –∏—é–ª  7 17:51 .
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  4 13:05 ..
drwxr-xr-x 3 root    root    4,0K –∏—é–ª  8 15:40 .idea
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª  7 19:54 manifest
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  3 10:22 network-policy
-rw-rw-r-- 1 maestro maestro 3,1K –∏—é–ª  7 17:43 README.md
drwxr-xr-x 4 root    root    4,0K –∏—é–ª  7 17:47 venv
maestro@PC-Ubuntu:~/learning-kubernetes/Betta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta$ vim README.md 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta$ cd manifest/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ vim README.md 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 11 13:50 .
drwxrwxr-x 6 maestro maestro 4,0K –∏—é–ª 11 13:50 ..
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  5 15:24 main
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:15 postgres
drwxr-xr-x 2 root    root    4,0K –∏—é–ª  9 12:28 template
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest$ cd postgres/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ ls -lha
–∏—Ç–æ–≥–æ 16K
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:15 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 11 13:50 ..
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:16 prod
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 stage
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres$ cd stage/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ ls -lha
–∏—Ç–æ–≥–æ 20K
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 .
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª  7 17:15 ..
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª  7 17:49 main
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 10 18:22 multitool
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª 11 08:23 training
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd training/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ ls -lha
–∏—Ç–æ–≥–æ 44K
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª 11 08:23 .
drwxrwxr-x 5 maestro maestro 4,0K –∏—é–ª 10 08:02 ..
-rw-rw-r-- 1 maestro maestro  597 –∏—é–Ω 28 10:19 backend.yml
-rw-rw-r-- 1 maestro maestro  206 –∏—é–ª  7 07:47 db-svc.yaml
-rw-rw-r-- 1 maestro maestro  566 –∏—é–ª  6 12:35 db.yaml
-rw-rw-r-- 1 maestro maestro    2 –∏—é–ª  6 15:02 ep-db-svc.yaml
-rw-rw-r-- 1 maestro maestro  236 –∏—é–ª  7 09:06 fb-svc.yaml
-rw-rw-r-- 1 maestro maestro  805 –∏—é–ª  5 16:23 frontend.yml
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 10 21:03 v-01
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 12:48 v-220711
-rw-rw-r-- 1 maestro maestro  601 –∏—é–ª  7 07:31 web-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ vim README.md
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ cd v-220711/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ ls -lha
–∏—Ç–æ–≥–æ 44K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 12:48 .
drwxrwxr-x 4 maestro maestro 4,0K –∏—é–ª 11 13:53 ..
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 13:44 12-48
-rw-r--r-- 1 maestro maestro  209 –∏—é–Ω  4 09:11 20-node-port.yaml
-rw-r--r-- 1 maestro maestro  205 –∏—é–Ω  4 09:11 30-load-balancer.yaml
-rw-rw-r-- 1 maestro maestro  261 –∏—é–ª 11 11:41 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  232 –∏—é–ª 11 11:42 endpoint-db.yml
-rw-r--r-- 1 maestro maestro  172 –∏—é–ª 11 10:22 fb-clip-svc.yaml
-rw-rw-r-- 1 maestro maestro  243 –∏—é–ª 11 10:29 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro  499 –∏—é–ª 11 08:35 README.md
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ cat nodeport-svc-front.yaml 
---
# Config Service
apiVersion: v1
kind: Service
metadata:
  name: fb-svc
  labels:
    app: fb-app
spec:
  type: NodePort
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30080
  selector:
    app: fb-app
#    app: fb
#    app: fb-pod
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ vim nodeport-svc-front.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ cat nodeport-svc-front.yaml 
---
# Config Service
apiVersion: v1
kind: Service
metadata:
  name: fb-svc
#  labels:
#    app: fb-app
spec:
  type: NodePort
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30080
#  selector:
#    app: fb-app
#    app: fb
#    app: fb-pod
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ curl 51.250.92.215:30080
<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–°–ø–∏—Å–æ–∫</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/build/main.css" rel="stylesheet">
</head>
<body>
    <main class="b-page">
        <h1 class="b-page__title">–°–ø–∏—Å–æ–∫</h1>
        <div class="b-page__content b-items js-list"></div>
    </main>
    <script src="/build/main.js"></script>
</body>
</html>maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ curl 51.250.92.215:30080
<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–°–ø–∏—Å–æ–∫</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/build/main.css" rel="stylesheet">
</head>
<body>
    <main class="b-page">
        <h1 class="b-page__title">–°–ø–∏—Å–æ–∫</h1>
        <div class="b-page__content b-items js-list"></div>
    </main>
    <script src="/build/main.js"></script>
</body>
</html>maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training/v-220711$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/training$ cd ..
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage$ cd main/v-220707/
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ ls -lha
–∏—Ç–æ–≥–æ 24K
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 16:51 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 16:51 ..
-rw-rw-r-- 1 maestro maestro  265 –∏—é–ª 11 12:52 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  253 –∏—é–ª 11 12:54 endpoint-db.yml
-rw-rw-r-- 1 maestro maestro  247 –∏—é–ª 11 14:43 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim README.md
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim web-fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 0
0: –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ ls -lha
–∏—Ç–æ–≥–æ 32K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 17:10 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 16:51 ..
-rw-rw-r-- 1 maestro maestro  265 –∏—é–ª 11 12:52 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  253 –∏—é–ª 11 12:54 endpoint-db.yml
-rw-rw-r-- 1 maestro maestro  247 –∏—é–ª 11 14:43 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro 1,8K –∏—é–ª 11 17:07 README.md
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 17:10 sources
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ cat web-fb-app.yaml clasterip-db.yaml nodeport-svc-front.yaml endpoint-db.yml > fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ ls -lha
–∏—Ç–æ–≥–æ 36K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 17:25 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 16:51 ..
-rw-rw-r-- 1 maestro maestro  265 –∏—é–ª 11 12:52 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  253 –∏—é–ª 11 12:54 endpoint-db.yml
-rw-rw-r-- 1 maestro maestro 1,5K –∏—é–ª 11 17:25 fb-app.yaml
-rw-rw-r-- 1 maestro maestro  247 –∏—é–ª 11 14:43 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro 1,8K –∏—é–ª 11 17:07 README.md
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 17:10 sources
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim README.md
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim README.md
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl -n default -A
error: unknown shorthand flag: 'A' in -A
See 'kubectl --help' for usage.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl -n default --all
error: unknown flag: --all
See 'kubectl --help' for usage.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl -n default --help
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/overview/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources.
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL.

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh or fish)

Other Commands:
  alpha           Commands for features in alpha
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of "group/version"
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]

Use "kubectl <command> --help" for more information about a given command.
Use "kubectl options" for a list of global command-line options (applies to all commands).
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get -n default -A
You must specify the type of resource to get. Use "kubectl api-resources" for a complete list of supported resources.

error: Required resource not specified.
Use "kubectl explain <resource>" for a detailed description of that resource (e.g. kubectl explain pods).
See 'kubectl get -h' for help and examples
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get --help
Display one or many resources.

 Prints a table of the most important information about the specified resources. You can filter the list using a label
selector and the --selector flag. If the desired resource type is namespaced you will only see results in your current
namespace unless you pass --all-namespaces.

 By specifying the output as 'template' and providing a Go template as the value of the --template flag, you can filter
the attributes of the fetched resources.

Use "kubectl api-resources" for a complete list of supported resources.

Examples:
  # List all pods in ps output format
  kubectl get pods
  
  # List all pods in ps output format with more information (such as node name)
  kubectl get pods -o wide
  
  # List a single replication controller with specified NAME in ps output format
  kubectl get replicationcontroller web
  
  # List deployments in JSON output format, in the "v1" version of the "apps" API group
  kubectl get deployments.v1.apps -o json
  
  # List a single pod in JSON output format
  kubectl get -o json pod web-pod-13je7
  
  # List a pod identified by type and name specified in "pod.yaml" in JSON output format
  kubectl get -f pod.yaml -o json
  
  # List resources from a directory with kustomization.yaml - e.g. dir/kustomization.yaml
  kubectl get -k dir/
  
  # Return only the phase value of the specified pod
  kubectl get -o template pod/web-pod-13je7 --template={{.status.phase}}
  
  # List resource information in custom columns
  kubectl get pod test-pod -o custom-columns=CONTAINER:.spec.containers[0].name,IMAGE:.spec.containers[0].image
  
  # List all replication controllers and services together in ps output format
  kubectl get rc,services
  
  # List one or more resources by their type and names
  kubectl get rc/web service/frontend pods/web-pod-13je7
  
  # List status subresource for a single pod.
  kubectl get pod web-pod-13je7 --subresource status

Options:
    -A, --all-namespaces=false:
	If present, list the requested object(s) across all namespaces. Namespace in current context is ignored even
	if specified with --namespace.

    --allow-missing-template-keys=true:
	If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to
	golang and jsonpath output formats.

    --chunk-size=500:
	Return large lists in chunks rather than all at once. Pass 0 to disable. This flag is beta and may change in
	the future.

    --field-selector='':
	Selector (field query) to filter on, supports '=', '==', and '!='.(e.g. --field-selector
	key1=value1,key2=value2). The server only supports a limited number of field queries per type.

    -f, --filename=[]:
	Filename, directory, or URL to files identifying the resource to get from a server.

    --ignore-not-found=false:
	If the requested object does not exist the command will return exit code 0.

    -k, --kustomize='':
	Process the kustomization directory. This flag can't be used together with -f or -R.

    -L, --label-columns=[]:
	Accepts a comma separated list of labels that are going to be presented as columns. Names are case-sensitive.
	You can also use multiple flag options like -L label1 -L label2...

    --no-headers=false:
	When using the default or custom-column output format, don't print headers (default print headers).

    -o, --output='':
	Output format. One of: (json, yaml, name, go-template, go-template-file, template, templatefile, jsonpath,
	jsonpath-as-json, jsonpath-file, custom-columns, custom-columns-file, wide). See custom columns
	[https://kubernetes.io/docs/reference/kubectl/overview/#custom-columns], golang template
	[http://golang.org/pkg/text/template/#pkg-overview] and jsonpath template
	[https://kubernetes.io/docs/reference/kubectl/jsonpath/].

    --output-watch-events=false:
	Output watch event objects when --watch or --watch-only is used. Existing objects are output as initial ADDED
	events.

    --raw='':
	Raw URI to request from the server.  Uses the transport specified by the kubeconfig file.

    -R, --recursive=false:
	Process the directory used in -f, --filename recursively. Useful when you want to manage related manifests
	organized within the same directory.

    -l, --selector='':
	Selector (label query) to filter on, supports '=', '==', and '!='.(e.g. -l key1=value1,key2=value2). Matching
	objects must satisfy all of the specified label constraints.

    --server-print=true:
	If true, have the server return the appropriate table output. Supports extension APIs and CRDs.

    --show-kind=false:
	If present, list the resource type for the requested object(s).

    --show-labels=false:
	When printing, show all labels as the last column (default hide labels column)

    --show-managed-fields=false:
	If true, keep the managedFields when printing objects in JSON or YAML format.

    --sort-by='':
	If non-empty, sort list types using this field specification.  The field specification is expressed as a
	JSONPath expression (e.g. '{.metadata.name}'). The field in the API resource specified by this JSONPath
	expression must be an integer or a string.

    --subresource='':
	If specified, gets the subresource of the requested object. Must be one of [status scale]. This flag is alpha
	and may change in the future.

    --template='':
	Template string or path to template file to use when -o=go-template, -o=go-template-file. The template format
	is golang templates [http://golang.org/pkg/text/template/#pkg-overview].

    -w, --watch=false:
	After listing/getting the requested object, watch for changes.

    --watch-only=false:
	Watch for changes to the requested object(s), without listing/getting first.

Usage:
  kubectl get
[(-o|--output=)json|yaml|name|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file|custom-columns|custom-columns-file|wide]
(TYPE[.VERSION][.GROUP] [NAME | -l label] | TYPE[.VERSION][.GROUP]/NAME ...) [flags] [options]

Use "kubectl options" for a list of global command-line options (applies to all commands).
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deployments.apps 
NAME     READY   UP-TO-DATE   AVAILABLE   AGE
fb-pod   1/1     1            1           8h
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deplo
error: the server doesn't have a resource type "deplo"
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy
NAME     READY   UP-TO-DATE   AVAILABLE   AGE
fb-pod   1/1     1            1           8h
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           8h

NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h37m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h1m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h2m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h36m
endpoints/fb-clip-svc   10.233.90.3:80     7h1m
endpoints/fb-svc        10.233.90.3:80     7h2m
endpoints/kubernetes    10.128.0.28:6443   10h
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           8h

NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h37m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h1m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h2m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h37m
endpoints/fb-clip-svc   10.233.90.3:80     7h1m
endpoints/fb-svc        10.233.90.3:80     7h2m
endpoints/kubernetes    10.128.0.28:6443   10h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-7ls58   2/2     Running   0          3h26m

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl delete deployments.apps fb-pod 
deployment.apps "fb-pod" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h39m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h3m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h4m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h39m
endpoints/fb-clip-svc   <none>             7h3m
endpoints/fb-svc        10.233.90.3:80     7h4m
endpoints/kubernetes    10.128.0.28:6443   10h

NAME                          READY   STATUS        RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-7ls58   2/2     Terminating   0          3h28m

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h39m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h4m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h4m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h39m
endpoints/fb-clip-svc   <none>             7h4m
endpoints/fb-svc        10.233.90.3:80     7h4m
endpoints/kubernetes    10.128.0.28:6443   10h

NAME                          READY   STATUS        RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-7ls58   2/2     Terminating   0          3h28m

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h39m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h4m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h5m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h39m
endpoints/fb-clip-svc   <none>             7h4m
endpoints/fb-svc        10.233.90.3:80     7h5m
endpoints/kubernetes    10.128.0.28:6443   10h

NAME                          READY   STATUS        RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-7ls58   0/2     Terminating   0          3h29m

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db            ClusterIP   10.233.24.244   <none>        5432/TCP       4h41m
service/fb-clip-svc   ClusterIP   10.233.48.91    <none>        80/TCP         7h5m
service/fb-svc        NodePort    10.233.16.252   <none>        80:30080/TCP   7h6m
service/kubernetes    ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                    ENDPOINTS          AGE
endpoints/db            10.128.0.14:5432   4h40m
endpoints/fb-clip-svc   <none>             7h5m
endpoints/fb-svc        10.233.90.3:80     7h6m
endpoints/kubernetes    10.128.0.28:6443   10h

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl delete svc fb-svc fb-clip-svc db
service "fb-svc" deleted
service "fb-clip-svc" deleted
service "db" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.233.0.1   <none>        443/TCP   10h

NAME                   ENDPOINTS          AGE
endpoints/kubernetes   10.128.0.28:6443   10h

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ ls -lha
–∏—Ç–æ–≥–æ 36K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 17:28 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 16:51 ..
-rw-rw-r-- 1 maestro maestro  265 –∏—é–ª 11 12:52 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  253 –∏—é–ª 11 12:54 endpoint-db.yml
-rw-rw-r-- 1 maestro maestro 1,5K –∏—é–ª 11 17:25 fb-app.yaml
-rw-rw-r-- 1 maestro maestro  247 –∏—é–ª 11 14:43 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro 1,9K –∏—é–ª 11 17:28 README.md
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 17:10 sources
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f fb-app.yaml 
error: error parsing fb-app.yaml: error converting YAML to JSON: yaml: line 27: did not find expected key
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl explain svc.spec.
KIND:     Service
VERSION:  v1

RESOURCE: spec <Object>

DESCRIPTION:
     Spec defines the behavior of a service.
     https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status

     ServiceSpec describes the attributes that a user creates on a service.

FIELDS:
   allocateLoadBalancerNodePorts	<boolean>
     allocateLoadBalancerNodePorts defines if NodePorts will be automatically
     allocated for services with type LoadBalancer. Default is "true". It may be
     set to "false" if the cluster load-balancer does not rely on NodePorts. If
     the caller requests specific NodePorts (by specifying a value), those
     requests will be respected, regardless of this field. This field may only
     be set for services with type LoadBalancer and will be cleared if the type
     is changed to any other type.

   clusterIP	<string>
     clusterIP is the IP address of the service and is usually assigned
     randomly. If an address is specified manually, is in-range (as per system
     configuration), and is not in use, it will be allocated to the service;
     otherwise creation of the service will fail. This field may not be changed
     through updates unless the type field is also being changed to ExternalName
     (which requires this field to be blank) or the type field is being changed
     from ExternalName (in which case this field may optionally be specified, as
     describe above). Valid values are "None", empty string (""), or a valid IP
     address. Setting this to "None" makes a "headless service" (no virtual IP),
     which is useful when direct endpoint connections are preferred and proxying
     is not required. Only applies to types ClusterIP, NodePort, and
     LoadBalancer. If this field is specified when creating a Service of type
     ExternalName, creation will fail. This field will be wiped when updating a
     Service to type ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   clusterIPs	<[]string>
     ClusterIPs is a list of IP addresses assigned to this service, and are
     usually assigned randomly. If an address is specified manually, is in-range
     (as per system configuration), and is not in use, it will be allocated to
     the service; otherwise creation of the service will fail. This field may
     not be changed through updates unless the type field is also being changed
     to ExternalName (which requires this field to be empty) or the type field
     is being changed from ExternalName (in which case this field may optionally
     be specified, as describe above). Valid values are "None", empty string
     (""), or a valid IP address. Setting this to "None" makes a "headless
     service" (no virtual IP), which is useful when direct endpoint connections
     are preferred and proxying is not required. Only applies to types
     ClusterIP, NodePort, and LoadBalancer. If this field is specified when
     creating a Service of type ExternalName, creation will fail. This field
     will be wiped when updating a Service to type ExternalName. If this field
     is not specified, it will be initialized from the clusterIP field. If this
     field is specified, clients must ensure that clusterIPs[0] and clusterIP
     have the same value.

     This field may hold a maximum of two entries (dual-stack IPs, in either
     order). These IPs must correspond to the values of the ipFamilies field.
     Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   externalIPs	<[]string>
     externalIPs is a list of IP addresses for which nodes in the cluster will
     also accept traffic for this service. These IPs are not managed by
     Kubernetes. The user is responsible for ensuring that traffic arrives at a
     node with this IP. A common example is external load-balancers that are not
     part of the Kubernetes system.

   externalName	<string>
     externalName is the external reference that discovery mechanisms will
     return as an alias for this service (e.g. a DNS CNAME record). No proxying
     will be involved. Must be a lowercase RFC-1123 hostname
     (https://tools.ietf.org/html/rfc1123) and requires `type` to be
     "ExternalName".

   externalTrafficPolicy	<string>
     externalTrafficPolicy denotes if this Service desires to route external
     traffic to node-local or cluster-wide endpoints. "Local" preserves the
     client source IP and avoids a second hop for LoadBalancer and Nodeport type
     services, but risks potentially imbalanced traffic spreading. "Cluster"
     obscures the client source IP and may cause a second hop to another node,
     but should have good overall load-spreading.

     Possible enum values:
     - `"Cluster"` specifies node-global (legacy) behavior.
     - `"Local"` specifies node-local endpoints behavior.

   healthCheckNodePort	<integer>
     healthCheckNodePort specifies the healthcheck nodePort for the service.
     This only applies when type is set to LoadBalancer and
     externalTrafficPolicy is set to Local. If a value is specified, is
     in-range, and is not in use, it will be used. If not specified, a value
     will be automatically allocated. External systems (e.g. load-balancers) can
     use this port to determine if a given node holds endpoints for this service
     or not. If this field is specified when creating a Service which does not
     need it, creation will fail. This field will be wiped when updating a
     Service to no longer need it (e.g. changing type).

   internalTrafficPolicy	<string>
     InternalTrafficPolicy specifies if the cluster internal traffic should be
     routed to all endpoints or node-local endpoints only. "Cluster" routes
     internal traffic to a Service to all endpoints. "Local" routes traffic to
     node-local endpoints only, traffic is dropped if no node-local endpoints
     are ready. The default value is "Cluster".

   ipFamilies	<[]string>
     IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this
     service. This field is usually assigned automatically based on cluster
     configuration and the ipFamilyPolicy field. If this field is specified
     manually, the requested family is available in the cluster, and
     ipFamilyPolicy allows it, it will be used; otherwise creation of the
     service will fail. This field is conditionally mutable: it allows for
     adding or removing a secondary IP family, but it does not allow changing
     the primary IP family of the Service. Valid values are "IPv4" and "IPv6".
     This field only applies to Services of types ClusterIP, NodePort, and
     LoadBalancer, and does apply to "headless" services. This field will be
     wiped when updating a Service to type ExternalName.

     This field may hold a maximum of two entries (dual-stack families, in
     either order). These families must correspond to the values of the
     clusterIPs field, if specified. Both clusterIPs and ipFamilies are governed
     by the ipFamilyPolicy field.

   ipFamilyPolicy	<string>
     IPFamilyPolicy represents the dual-stack-ness requested or required by this
     Service. If there is no value provided, then this field will be set to
     SingleStack. Services can be "SingleStack" (a single IP family),
     "PreferDualStack" (two IP families on dual-stack configured clusters or a
     single IP family on single-stack clusters), or "RequireDualStack" (two IP
     families on dual-stack configured clusters, otherwise fail). The ipFamilies
     and clusterIPs fields depend on the value of this field. This field will be
     wiped when updating a service to type ExternalName.

   loadBalancerClass	<string>
     loadBalancerClass is the class of the load balancer implementation this
     Service belongs to. If specified, the value of this field must be a
     label-style identifier, with an optional prefix, e.g. "internal-vip" or
     "example.com/internal-vip". Unprefixed names are reserved for end-users.
     This field can only be set when the Service type is 'LoadBalancer'. If not
     set, the default load balancer implementation is used, today this is
     typically done through the cloud provider integration, but should apply for
     any default implementation. If set, it is assumed that a load balancer
     implementation is watching for Services with a matching class. Any default
     load balancer implementation (e.g. cloud providers) should ignore Services
     that set this field. This field can only be set when creating or updating a
     Service to type 'LoadBalancer'. Once set, it can not be changed. This field
     will be wiped when a service is updated to a non 'LoadBalancer' type.

   loadBalancerIP	<string>
     Only applies to Service Type: LoadBalancer. This feature depends on whether
     the underlying cloud-provider supports specifying the loadBalancerIP when a
     load balancer is created. This field will be ignored if the cloud-provider
     does not support the feature. Deprecated: This field was under-specified
     and its meaning varies across implementations, and it cannot support
     dual-stack. As of Kubernetes v1.24, users are encouraged to use
     implementation-specific annotations when available. This field may be
     removed in a future API version.

   loadBalancerSourceRanges	<[]string>
     If specified and supported by the platform, this will restrict traffic
     through the cloud-provider load-balancer will be restricted to the
     specified client IPs. This field will be ignored if the cloud-provider does
     not support the feature." More info:
     https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/

   ports	<[]Object>
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

   publishNotReadyAddresses	<boolean>
     publishNotReadyAddresses indicates that any agent which deals with
     endpoints for this Service should disregard any indications of
     ready/not-ready. The primary use case for setting this field is for a
     StatefulSet's Headless Service to propagate SRV DNS records for its Pods
     for the purpose of peer discovery. The Kubernetes controllers that generate
     Endpoints and EndpointSlice resources for Services interpret this to mean
     that all endpoints are considered "ready" even if the Pods themselves are
     not. Agents which consume only Kubernetes generated endpoints through the
     Endpoints or EndpointSlice resources can safely assume this behavior.

   selector	<map[string]string>
     Route service traffic to pods with label keys and values matching this
     selector. If empty or not present, the service is assumed to have an
     external process managing its endpoints, which Kubernetes will not modify.
     Only applies to types ClusterIP, NodePort, and LoadBalancer. Ignored if
     type is ExternalName. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/

   sessionAffinity	<string>
     Supports "ClientIP" and "None". Used to maintain session affinity. Enable
     client IP based session affinity. Must be ClientIP or None. Defaults to
     None. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     Possible enum values:
     - `"ClientIP"` is the Client IP based.
     - `"None"` - no session affinity.

   sessionAffinityConfig	<Object>
     sessionAffinityConfig contains the configurations of session affinity.

   type	<string>
     type determines how the Service is exposed. Defaults to ClusterIP. Valid
     options are ExternalName, ClusterIP, NodePort, and LoadBalancer.
     "ClusterIP" allocates a cluster-internal IP address for load-balancing to
     endpoints. Endpoints are determined by the selector or if that is not
     specified, by manual construction of an Endpoints object or EndpointSlice
     objects. If clusterIP is "None", no virtual IP is allocated and the
     endpoints are published as a set of endpoints rather than a virtual IP.
     "NodePort" builds on ClusterIP and allocates a port on every node which
     routes to the same endpoints as the clusterIP. "LoadBalancer" builds on
     NodePort and creates an external load-balancer (if supported in the current
     cloud) which routes to the same endpoints as the clusterIP. "ExternalName"
     aliases this service to the specified externalName. Several other fields do
     not apply to ExternalName services. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types

     Possible enum values:
     - `"ClusterIP"` means a service will only be accessible inside the cluster,
     via the cluster IP.
     - `"ExternalName"` means a service consists of only a reference to an
     external name that kubedns or equivalent will return as a CNAME record,
     with no exposing or proxying of any pods involved.
     - `"LoadBalancer"` means a service will be exposed via an external load
     balancer (if the cloud provider supports it), in addition to 'NodePort'
     type.
     - `"NodePort"` means a service will be exposed on one port of every node,
     in addition to 'ClusterIP' type.

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl explain svc.spec.ports.
KIND:     Service
VERSION:  v1

RESOURCE: ports <[]Object>

DESCRIPTION:
     The list of ports that are exposed by this service. More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies

     ServicePort contains information on service's port.

FIELDS:
   appProtocol	<string>
     The application protocol for this port. This field follows standard
     Kubernetes label syntax. Un-prefixed names are reserved for IANA standard
     service names (as per RFC-6335 and
     https://www.iana.org/assignments/service-names). Non-standard protocols
     should use prefixed names such as mycompany.com/my-custom-protocol.

   name	<string>
     The name of this port within the service. This must be a DNS_LABEL. All
     ports within a ServiceSpec must have unique names. When considering the
     endpoints for a Service, this must match the 'name' field in the
     EndpointPort. Optional if only one ServicePort is defined on this service.

   nodePort	<integer>
     The port on each node on which this service is exposed when type is
     NodePort or LoadBalancer. Usually assigned by the system. If a value is
     specified, in-range, and not in use it will be used, otherwise the
     operation will fail. If not specified, a port will be allocated if this
     Service requires one. If this field is specified when creating a Service
     which does not need it, creation will fail. This field will be wiped when
     updating a Service to no longer need it (e.g. changing type from NodePort
     to ClusterIP). More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport

   port	<integer> -required-
     The port that will be exposed by this service.

   protocol	<string>
     The IP protocol for this port. Supports "TCP", "UDP", and "SCTP". Default
     is TCP.

     Possible enum values:
     - `"SCTP"` is the SCTP protocol.
     - `"TCP"` is the TCP protocol.
     - `"UDP"` is the UDP protocol.

   targetPort	<string>
     Number or name of the port to access on the pods targeted by the service.
     Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME. If
     this is a string, it will be looked up as a named port in the target Pod's
     container ports. If this is not specified, the value of the 'port' field is
     used (an identity map). This field is ignored for services with
     clusterIP=None, and should be omitted or set equal to the 'port' field.
     More info:
     https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f fb-app.yaml 
error: error parsing fb-app.yaml: error converting YAML to JSON: yaml: line 27: did not find expected key
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f fb-app.yaml 
error: error parsing fb-app.yaml: error converting YAML to JSON: yaml: line 23: did not find expected key
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f fb-app.yaml 
error: error parsing fb-app.yaml: error converting YAML to JSON: yaml: line 23: did not find expected key
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ vim fb-app.yaml 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f fb-app.yaml 
deployment.apps/fb-pod created
service/db created
service/fb-svc created
endpoints/db created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           61s

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       61s
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   61s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   61s
endpoints/kubernetes   10.128.0.28:6443   10h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-m48qt   2/2     Running   0          61s

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           2m46s

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       2m46s
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   2m46s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   2m46s
endpoints/kubernetes   10.128.0.28:6443   10h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-m48qt   2/2     Running   0          2m46s

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl describe svc fb-svc 
Name:                     fb-svc
Namespace:                default
Labels:                   <none>
Annotations:              <none>
Selector:                 <none>
Type:                     NodePort
IP Family Policy:         SingleStack
IP Families:              IPv4
IP:                       10.233.61.95
IPs:                      10.233.61.95
Port:                     <unset>  80/TCP
TargetPort:               80/TCP
NodePort:                 <unset>  30080/TCP
Endpoints:                <none>
Session Affinity:         None
External Traffic Policy:  Cluster
Events:                   <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl delete po fb-pod-6fdbd9c5f6-m48qt 
pod "fb-pod-6fdbd9c5f6-m48qt" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           9m27s

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       9m27s
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   9m27s
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   9m27s
endpoints/kubernetes   10.128.0.28:6443   10h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-vtv26   2/2     Running   0          36s

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl logs fb-pod-6fdbd9c5f6-vtv26
Defaulted container "frontend" out of: frontend, backend
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2022/07/11 14:14:01 [notice] 1#1: using the "epoll" event method
2022/07/11 14:14:01 [notice] 1#1: nginx/1.23.0
2022/07/11 14:14:01 [notice] 1#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6) 
2022/07/11 14:14:01 [notice] 1#1: OS: Linux 5.4.0-121-generic
2022/07/11 14:14:01 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
2022/07/11 14:14:01 [notice] 1#1: start worker processes
2022/07/11 14:14:01 [notice] 1#1: start worker process 31
2022/07/11 14:14:01 [notice] 1#1: start worker process 32
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl logs fb-pod-6fdbd9c5f6-vtv26 -c backend
INFO:     Uvicorn running on http://0.0.0.0:9000 (Press CTRL+C to quit)
INFO:     Started reloader process [7] using statreload
INFO:     Started server process [9]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl exec fb-pod-6fdbd9c5f6-vtv26 -c frontend -it -- bash
root@fb-pod-6fdbd9c5f6-vtv26:/app# 
root@fb-pod-6fdbd9c5f6-vtv26:/app# cd
root@fb-pod-6fdbd9c5f6-vtv26:~# 
root@fb-pod-6fdbd9c5f6-vtv26:~# curl
curl: try 'curl --help' or 'curl --manual' for more information
root@fb-pod-6fdbd9c5f6-vtv26:~# 
root@fb-pod-6fdbd9c5f6-vtv26:~# curl 127.1:80
<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–°–ø–∏—Å–æ–∫</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/build/main.css" rel="stylesheet">
</head>
<body>
    <main class="b-page">
        <h1 class="b-page__title">–°–ø–∏—Å–æ–∫</h1>
        <div class="b-page__content b-items js-list"></div>
    </main>
    <script src="/build/main.js"></script>
</body>
</html>root@fb-pod-6fdbd9c5f6-vtv26:~# 
root@fb-pod-6fdbd9c5f6-vtv26:~# 
root@fb-pod-6fdbd9c5f6-vtv26:~# 
root@fb-pod-6fdbd9c5f6-vtv26:~# exit
exit
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           13m

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       13m
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   13m
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        10h

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   13m
endpoints/kubernetes   10.128.0.28:6443   10h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-vtv26   2/2     Running   0          4m32s

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   10h   v1.24.2
node/node1   Ready    <none>          10h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl describe po fb-pod-6fdbd9c5f6-vtv26 
Name:         fb-pod-6fdbd9c5f6-vtv26
Namespace:    default
Priority:     0
Node:         node1/10.128.0.16
Start Time:   Mon, 11 Jul 2022 18:14:00 +0400
Labels:       app=fb-app
              pod-template-hash=6fdbd9c5f6
Annotations:  cni.projectcalico.org/containerID: 3b284989cf4065445c3b12106ad5046491f332f7eaa67d3041e2f9d2b86947f4
              cni.projectcalico.org/podIP: 10.233.90.5/32
              cni.projectcalico.org/podIPs: 10.233.90.5/32
Status:       Running
IP:           10.233.90.5
IPs:
  IP:           10.233.90.5
Controlled By:  ReplicaSet/fb-pod-6fdbd9c5f6
Containers:
  frontend:
    Container ID:   containerd://2af1c03b3592c00dd75c5055533a7cd5b6e2d9bb68ed72af90760b3fad020448
    Image:          zakharovnpa/k8s-frontend:05.07.22
    Image ID:       docker.io/zakharovnpa/k8s-frontend@sha256:e33314ba8661fcee936716a673d5a7e10837d9349971a6b91b5483ec9677a45a
    Port:           80/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Mon, 11 Jul 2022 18:14:01 +0400
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-z47rm (ro)
  backend:
    Container ID:   containerd://0cc46ab4875d913a30c679b7fd1b56a42cafc5304f3c0d5e5bdbae151c22ee8f
    Image:          zakharovnpa/k8s-backend:05.07.22
    Image ID:       docker.io/zakharovnpa/k8s-backend@sha256:68669891074cd1b4bf4f6a4492b9ef1b9b94460ad094d01f70522a345107a78f
    Port:           9000/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Mon, 11 Jul 2022 18:14:01 +0400
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-z47rm (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  kube-api-access-z47rm:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age    From               Message
  ----    ------     ----   ----               -------
  Normal  Scheduled  4m42s  default-scheduler  Successfully assigned default/fb-pod-6fdbd9c5f6-vtv26 to node1
  Normal  Pulled     4m42s  kubelet            Container image "zakharovnpa/k8s-frontend:05.07.22" already present on machine
  Normal  Created    4m42s  kubelet            Created container frontend
  Normal  Started    4m42s  kubelet            Started container frontend
  Normal  Pulled     4m42s  kubelet            Container image "zakharovnpa/k8s-backend:05.07.22" already present on machine
  Normal  Created    4m42s  kubelet            Created container backend
  Normal  Started    4m41s  kubelet            Started container backend
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ curl 51.250.92.215:80
curl: (7) Failed to connect to 51.250.92.215 port 80: –í —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –æ—Ç–∫–∞–∑–∞–Ω–æ
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/fb-pod   1/1     1            1           68m

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       68m
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   68m
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        11h

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   68m
endpoints/kubernetes   10.128.0.28:6443   11h

NAME                          READY   STATUS    RESTARTS   AGE
pod/fb-pod-6fdbd9c5f6-vtv26   2/2     Running   0          59m

NAME         STATUS   ROLES           AGE   VERSION
node/cp1     Ready    control-plane   11h   v1.24.2
node/node1   Ready    <none>          11h   v1.24.2
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl describe svc fb-svc 
Name:                     fb-svc
Namespace:                default
Labels:                   <none>
Annotations:              <none>
Selector:                 <none>
Type:                     NodePort
IP Family Policy:         SingleStack
IP Families:              IPv4
IP:                       10.233.61.95
IPs:                      10.233.61.95
Port:                     <unset>  80/TCP
TargetPort:               80/TCP
NodePort:                 <unset>  30080/TCP
Endpoints:                <none>
Session Affinity:         None
External Traffic Policy:  Cluster
Events:                   <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes -o wide
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod   1/1     1            1           71m   frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE   SELECTOR
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       71m   <none>
service/fb-svc       NodePort    10.233.61.95    <none>        80:30080/TCP   71m   <none>
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        11h   <none>

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   71m
endpoints/kubernetes   10.128.0.28:6443   11h

NAME                          READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-6fdbd9c5f6-vtv26   2/2     Running   0          62m   10.233.90.5   node1   <none>           <none>

NAME         STATUS   ROLES           AGE   VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
node/cp1     Ready    control-plane   11h   v1.24.2   10.128.0.28   <none>        Ubuntu 20.04.4 LTS   5.4.0-121-generic   containerd://1.6.6
node/node1   Ready    <none>          11h   v1.24.2   10.128.0.16   <none>        Ubuntu 20.04.4 LTS   5.4.0-121-generic   containerd://1.6.6
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ ls -lha
–∏—Ç–æ–≥–æ 36K
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 18:05 .
drwxrwxr-x 3 maestro maestro 4,0K –∏—é–ª 11 16:51 ..
-rw-rw-r-- 1 maestro maestro  265 –∏—é–ª 11 12:52 clasterip-db.yaml
-rw-r--r-- 1 maestro maestro  253 –∏—é–ª 11 12:54 endpoint-db.yml
-rw-rw-r-- 1 maestro maestro 1,3K –∏—é–ª 11 18:05 fb-app.yaml
-rw-rw-r-- 1 maestro maestro  247 –∏—é–ª 11 14:43 nodeport-svc-front.yaml
-rw-rw-r-- 1 maestro maestro 1,9K –∏—é–ª 11 17:28 README.md
drwxrwxr-x 2 maestro maestro 4,0K –∏—é–ª 11 17:10 sources
-rw-rw-r-- 1 maestro maestro  650 –∏—é–ª 11 08:38 web-fb-app.yaml
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl delete svc fb-svc
service "fb-svc" deleted
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl apply -f nodeport-svc-front.yaml 
service/fb-svc created
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl get deploy,svc,ep,po,nodes -o wide
NAME                     READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS         IMAGES                                                               SELECTOR
deployment.apps/fb-pod   1/1     1            1           76m   frontend,backend   zakharovnpa/k8s-frontend:05.07.22,zakharovnpa/k8s-backend:05.07.22   app=fb-app

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE   SELECTOR
service/db           ClusterIP   10.233.30.149   <none>        5432/TCP       76m   <none>
service/fb-svc       NodePort    10.233.50.251   <none>        80:30080/TCP   64s   <none>
service/kubernetes   ClusterIP   10.233.0.1      <none>        443/TCP        11h   <none>

NAME                   ENDPOINTS          AGE
endpoints/db           10.128.0.14:5432   76m
endpoints/kubernetes   10.128.0.28:6443   11h

NAME                          READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED NODE   READINESS GATES
pod/fb-pod-6fdbd9c5f6-vtv26   2/2     Running   0          67m   10.233.90.5   node1   <none>           <none>

NAME         STATUS   ROLES           AGE   VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
node/cp1     Ready    control-plane   11h   v1.24.2   10.128.0.28   <none>        Ubuntu 20.04.4 LTS   5.4.0-121-generic   containerd://1.6.6
node/node1   Ready    <none>          11h   v1.24.2   10.128.0.16   <none>        Ubuntu 20.04.4 LTS   5.4.0-121-generic   containerd://1.6.6
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ mc


maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ kubectl describe po fb-pod-6fdbd9c5f6-vtv26 
Name:         fb-pod-6fdbd9c5f6-vtv26
Namespace:    default
Priority:     0
Node:         node1/10.128.0.16
Start Time:   Mon, 11 Jul 2022 18:14:00 +0400
Labels:       app=fb-app
              pod-template-hash=6fdbd9c5f6
Annotations:  cni.projectcalico.org/containerID: 3b284989cf4065445c3b12106ad5046491f332f7eaa67d3041e2f9d2b86947f4
              cni.projectcalico.org/podIP: 10.233.90.5/32
              cni.projectcalico.org/podIPs: 10.233.90.5/32
Status:       Running
IP:           10.233.90.5
IPs:
  IP:           10.233.90.5
Controlled By:  ReplicaSet/fb-pod-6fdbd9c5f6
Containers:
  frontend:
    Container ID:   containerd://2af1c03b3592c00dd75c5055533a7cd5b6e2d9bb68ed72af90760b3fad020448
    Image:          zakharovnpa/k8s-frontend:05.07.22
    Image ID:       docker.io/zakharovnpa/k8s-frontend@sha256:e33314ba8661fcee936716a673d5a7e10837d9349971a6b91b5483ec9677a45a
    Port:           80/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Mon, 11 Jul 2022 18:14:01 +0400
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-z47rm (ro)
  backend:
    Container ID:   containerd://0cc46ab4875d913a30c679b7fd1b56a42cafc5304f3c0d5e5bdbae151c22ee8f
    Image:          zakharovnpa/k8s-backend:05.07.22
    Image ID:       docker.io/zakharovnpa/k8s-backend@sha256:68669891074cd1b4bf4f6a4492b9ef1b9b94460ad094d01f70522a345107a78f
    Port:           9000/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Mon, 11 Jul 2022 18:14:01 +0400
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-z47rm (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  kube-api-access-z47rm:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:                      <none>
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 
maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ mc

maestro@PC-Ubuntu:~/learning-kubernetes/Betta/manifest/postgres/stage/main/v-220707$ 

```
