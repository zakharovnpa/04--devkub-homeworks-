## Ход выполнения ДЗ по теме "13.1 контейнеры, поды, deployment, statefulset, services, endpoints"

Настроив кластер, подготовьте приложение к запуску в нём. Приложение стандартное: бекенд, фронтенд, база данных. Его можно найти в папке 13-kubernetes-config.


### В лекции по ДЗ      - 02:09:10

## Задание 1: подготовить тестовый конфиг для запуска приложения
Для начала следует подготовить запуск приложения в stage окружении с простыми настройками. Требования:
* под содержит в себе 2 контейнера — фронтенд, бекенд;
* регулируется с помощью deployment фронтенд и бекенд;
* база данных — через statefulset.

#### Пояснение: 
  * приложения можно ставить и свои, но аналогичные
  * манифесты можно брать от рпеподавателя и создать что намнужно

* Важно: 
  * конфиг для теста (задача 1) и для продакшена (задача 2) - разные 

* В тестовом конфиге в описании одного пода находятся два контейнера — фронтенд, бекенд;
* Надо сделать БД через statefulset.
* Пример направления трафика на внешнюю БД:
![pod-to-db](/13-kubernetes-config-01-objects/Files/pod-to-db.png)

* Что еще на описано но надо иметь ввиду:
  * фронтенд может обращаться к бэеэнду напрясую. Они в одном поде
  * для обращения кБД нам нужен сервис. Без него не сможем обратиться к БД.
  * мы сделали БД через statefulset
  * в описании пода указать метки (селекторы и т.д.)
  * селекторы мы должны указать в сервисе, который будет обращаться к подам (или к БД?)

## Задание 2: подготовить конфиг для production окружения
Следующим шагом будет запуск приложения в production окружении. Требования сложнее:
* каждый компонент (база, бекенд, фронтенд) запускаются в своем поде, регулируются отдельными deployment’ами;
* для связи используются service (у каждого компонента свой);
* в окружении фронта прописан адрес сервиса бекенда;
* в окружении бекенда прописан адрес сервиса базы данных.

#### Пояснение     -01:12:35
  * Сервисы для каждого компонента свой отдельный
  * в окружении фронта (Environment) нужно  прописан адрес сервиса бекенда 
  * в окружении бекенда прописан адрес сервиса базы данных.
  * БД запускать не в Кубере, а отдельно.

## Задание 3 (*): добавить endpoint на внешний ресурс api
Приложению потребовалось внешнее api, и для его использования лучше добавить endpoint в кластер, направленный на это api. Требования:
* добавлен endpoint до внешнего api (например, геокодер).

#### Пояснение:
* 

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

В качестве решения прикрепите к ДЗ конфиг файлы для деплоя. Прикрепите скриншоты вывода команды kubectl со списком запущенных объектов каждого типа (pods, deployments, statefulset, service) или скриншот из самого Kubernetes, что сервисы подняты и работают.

---
