## –õ–µ–∫—Ü–∏—è –ø–æ —Ç–µ–º–µ "–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã: –ø–æ–¥—Ö–æ–¥—ã"


–ú–∏—Ö–∞–∏–ª
–¢—Ä–∏–ø–æ–ª–∏—Ç–æ–≤–ú–∏—Ö–∞–∏–ª –¢—Ä–∏–ø–æ–ª–∏—Ç–æ–≤
Technical Lead
–ú–∏—Ö–∞–∏–ª –¢—Ä–∏–ø–æ–ª–∏—Ç–æ–≤

### 2–ü–ª–∞–Ω –∑–∞–Ω—è—Ç–∏—è
1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
5. –ò—Ç–æ–≥–∏
6. –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

### 3–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
#### 4–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è      - 00:01:25
> –¶–µ–ª—å –Ω–µ–ø—Ä–µ—Ä–≤—ã–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
> –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–±–æ—Ä–æ–∫–π –∏ –ø—Ä–æ–≥–æ–Ω–æ–º —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
> –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ç–∞–∫–æ–π —Å–±–æ—Ä–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–æ–±—Ä–∞–∑—ã), –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —à–∞–≥–∞—Ö (—Ç–µ—Å—Ç–∞—Ö –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è—Ö)
> –≠—Ç–æ –≤—Å–µ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ –Ω–∞ –ø—Ä–æ–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

* –ó–¥–µ—Å—å –≤–∞–∂–Ω–æ:
  * –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É, –µ—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–∏
  * –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —á–µ–ª–µ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, —Ç.–∫. —Ç–µ—Å—Ç—ã –∏ —Å–±–æ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ–≥–¥–∞ –Ω–∞ –æ–¥–Ω–æ–π —Ç–æ–π –∂–µ —Å—Ä–µ–¥–µ, –∏—Å–∫–ª—é—á–∞—è –æ—à–∏–±–∫–∏ —Å—Ä–µ–¥—ã.
  * –ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å. –í—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. –ö–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, —à–∞–≥–∏ —Å–±–æ—Ä–∫–∏ CI/CD - —Ç–æ–∂–µ —Ç–∞–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö)
  * –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

–°–±–æ—Ä–∫–∞
–°–µ—Ä–≤–µ—Ä
–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π
–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
–°–∏—Å—Ç–µ–º–∞
–∫–æ–Ω—Ç—Ä–æ–ª—è
–≤–µ—Ä—Å–∏–π
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–†–µ–∑—É–ª—å—Ç–∞—Ç
Commit
–†–µ–∑—É–ª—å—Ç–∞—Ç
–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

![approaches-01](/11-microservices-03-approaches/Files/approaches-01.png)

#### 5–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã      - 00:05:10

> –í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π.
> –ö–æ–≥–¥–∞ –º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–µ –æ–±–æ–π—Ç–∏—Å—å –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –≤–ª–∏—è–Ω–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å—Ç–∞–≤–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ —Å–±–æ—Ä–∫–∏ –∏ –¥–∞–ª—å—à–µ –Ω–∞ –ø–æ—Å—Ç–∞–≤–∫–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –ø—Ä–æ–¥.

* –ö–æ–≥–¥–∞ –º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–æ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:
  * –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–Ω–æ–º –±–æ–ª—å—à–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–∏—Ç –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–±–∏—Ä–∞—Ç—å –≤—Å–µ —á—Ç–æ –µ—Å—Ç—å –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
  * –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (-00:06:10 –Ω–µ—Ä–∞–∑–±–æ—Ä—á–∏–≤–æ) –∏ –≤ –ø–∞–ø–∫–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –¥–∞—Å—Ç —Å–±–æ—Ä–∫—É —Ç–æ–ª—å–∫–æ —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
  * –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞—Å—Ç—Ä–∏–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏. –≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã–π.
  > –°–µ—Ä–≤–∏—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–º —Å–±–æ—Ä–∫–∏. –£ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å–≤–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. –ò –æ–Ω–∏ –º–æ–≥—É—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –æ–±—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ API. 
* –ö–æ–≥–¥–∞ —É –Ω–∞—Å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–æ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–∫–æ–π —Å—Ö–µ–º–æ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Ö–æ–¥—ã, —É–ø—Ä–æ—â–∞—é—â–∏–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤.
  *  –≠—Ç–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏ –Ω–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –≠—Ç–æ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ, —á—Ç–æ —Ç–æ–ª–∫–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É.
  *  –≠—Ç–æ –º–æ–∂–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –∞—Å–ø–µ–∫—Ç—ã - –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Å–±–æ—Ä –ª–æ–≥–æ–≤, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É, –∫–æ–Ω—Ñ–∏–Ω—É—Ä–∞—Ü–∏—é.
  *  –£ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É. –ò–Ω–∞—á–µ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏  –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º–µ
  * –°–ª–µ–¥—É—é—â–∏–π –∞—Å–ø–µ–∫—Ç –∫–æ–≥–¥–∞ —É –Ω–∞—Å –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏ - –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å —ç—Ç–æ –Ω–∞–ª–∏—á–∏–µ —É –∫–æ–º–∞–Ω–¥—ã —à–∞–±–ª–æ–Ω–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–µ–∫–æ–≤. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤ –∫–æ–¥–µ –≤—ã–≥–ª—è–¥–µ–ª –ø–æ—Ö–æ–∂–µ. –ß—Ç–æ–±—ã –±—ã–ª –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä –ø–∞–ø–æ–∫, —á—Ç–æ–±—ã —Ñ–∞–π–ª—ã –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å –ø–æ—Ö–æ–∂–µ, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ –±—ã–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –∏ —Ç.–¥.
  * –¢—Ä–µ—Ç–∏–π –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç - —à–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–æ–∫ —Å —Å–∏—Ç—Å–µ–º–µ —Å–±–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä,–≤ TeanCity–µ—Å—Ç—å —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é). –¢.–µ. —É –Ω–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ –±–∏–ª–¥-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –Ω–∞–±–æ—Ä —à–∞–≥–æ–≤ —Å–±–æ—Ä–∫–∏ —É –Ω–∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏ –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –∫ –∫–∞–∫–æ–º—É —à–∞–±–ª–æ–Ω—É —Å–±–æ—Ä–∫–∏ –æ–Ω–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

- 00:09:04 - 
- –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–¥—Ö–æ–¥ "–æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å - –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π" –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç–∏—á—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ø—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—ã –ø–æ —É–ø—Ä–æ—â–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª-–≤–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —É –Ω–∞—Å –Ω–µ —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω–∏—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.


–°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π
–°–µ—Ä–≤–µ—Ä –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π
–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
Service 1 Code Service 1 Build
Service 2 Code Service 2 Build
Service 3 Code Service 3 Build
–ö–æ–¥ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
–°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
Service 1
Version 1.2.3
Service 2
Version 2.0.7
Service 3
Version 1.0.1
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
–æ—Ç–¥–µ–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç

![approaches-02](/11-microservices-03-approaches/Files/approaches-02.png)

### 6–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞       - 00:09:30
> Continues Delivery - —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ü–û, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∫–æ—Ç–æ—Ç–∫–∏–º–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ü–û —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–∞–º–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –æ–±—ã—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Ä—É—á–Ω—É—é.
> –¢.–µ. —É –Ω–∞—Å –µ—Å—Ç—å —Ç–∞–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∞–≤–∫–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ —Ñ–∞–∫—Ç—É –∫–æ–º–∏—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞, –ø—Ä–æ–≥–æ–Ω—è—é—Ç—Å—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–µ–º–∫—É,
> –≤ –∫–æ—Ç–æ—Ä–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –ø—Ä–∏–µ–º–∫—É (—Ç–æ–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏), –ø—Ä–æ–≥–æ–Ω—è—é—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∏ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–µ–Ω–∏—è, —á—Ç–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≥–æ—Ç–æ–≤ –∫ –≤—ã—Ö–æ–¥—É –≤ –ø—Ä–æ–¥ —É–∂–µ –≤—Ä—É—á–Ω—É—é –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
> –û–±—ã—á–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ (–†–µ–ª–∏–∑ –∏–ª–∏ —á—Ç–æ-—Ç–∞–∫–æ–µ). –ò –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–µ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ —É—á–µ—Ç–∞ –∑–∞–¥–∞—á

–ö–æ–¥
–ê–≤—Ç–æ
–°–±–æ—Ä–∫–∞
–ê–≤—Ç–æ
–¢–µ—Å—Ç—ã
‚óè
‚óè
‚óè
‚óè
–ê–≤—Ç–æ
–í—Ä—É—á
–Ω—É—é
–ü—Ä–∏—ë–º–∫–∞
–í—ã–∫–ª–∞–¥–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç—É—Ä
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
–†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã

![approaches-03](/11-microservices-03-approaches/Files/approaches-03.png)

### 7–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞      -00:11:10
> Continues Deployment - —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∞, –Ω–∞ –æ–æ—Å—Ç—É—Ç—Å—Ç–≤–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ—à–∏–±–æ–∫ –∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ.
> –ò –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª–µ–¥—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –∫–æ–Ω—Ç—É—Ä
* Continues Deployment - —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø, –∫ –æ—Ç–æ—Ä–æ–º—É —Å–ª–µ–¥—É–µ—Ç —Å—Ç—Ä–µ–º–∏—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö
–ö–æ–¥
–ê–≤—Ç–æ
–°–±–æ—Ä–∫–∞
–ê–≤—Ç–æ
–¢–µ—Å—Ç—ã
‚óè
‚óè
‚óè
–ê–≤—Ç–æ
–ê–≤—Ç–æ
–ü—Ä–∏—ë–º–∫–∞
–í—ã–∫–ª–∞–¥–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç—É—Ä
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã

![approaches-04](/11-microservices-03-approaches/Files/approaches-04.png)


### 8–°—Ç–µ–Ω–¥—ã / –ö–æ–Ω—Ç—É—Ä–∞       - 00:13:10
* –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å—Ä–µ–¥—ã, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π
  * –°—Ç–µ–Ω–¥ –¥–ª—è –ø—Ä–∏–µ–º–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  * –°—Ç–µ–Ω–¥ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  * –°—Ç–µ–Ω–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏
  * –°—Ç–µ–Ω–¥ –¥–ª—è —Ä—É—á–Ω—ã—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤
  * –ë–æ–µ–≤–æ–π —Å—Ç–µ–Ω–¥
* –ú–µ–∂–¥—É —Å—Ç–µ–Ω–¥–∞–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ –æ—Ç–ª–∏—á–∏–π –ø–æ –º–µ—Ä–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –∫ –±–æ–µ–≤–æ–º—É.
* –≠—Ç–æ –≤–∞–∂–Ω–æ –æ–ø—Ç–æ–º—É, —á—Ç–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ–º—Ç–∏ –æ—Ç —Å—Ä–µ–¥—ã –ü–û –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø–æ —Ä–∞–∑–Ω–æ–º—É
* –°—Ç–∞—Ä–∞—é—Ç—Å—è –¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è–±—ã –æ–¥–Ω—É —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–Ω—É—é –±–æ–µ–≤–æ–π —Å—Ä–µ–¥–µ –∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∏ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω–¥–∞–º–∏ = —ç—Ç–æ —Å–ª–æ–∂–Ω—ã–π –∏ –∫—Ä–æ–ø–æ—Ç–ª–∏–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å –≤–Ω–∏–º–∞–Ω–∏–µ–º –∫ –¥–µ—Ç–∞–ª—è–º

CI
Dev
–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Å–±–æ—Ä–∫–∞
‚óè –°–±–æ—Ä–∫–∞ –∫–æ–¥–∞
‚óè Unit-—Ç–µ—Å—Ç—ã
‚óè –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
Integration
UAT


Production


![approaches-05](/11-microservices-03-approaches/Files/approaches-05.png)

#### 9–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ      -00:16:55
–í–∞—Ä–∏–∞–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –ø—Ä–æ–¥–µ:
- Recreate
- Rolling deployment
- Blue-Green deployment
- Canary releases
- A/B testing
- Shadow

–°—Ç–∞—Ä–∞—é—Ç—Å—è –¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞ –æ–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å

### 10Recreate      -00:18:18
–û–¥–∏–Ω –∏–∑ —Å–≤–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤.
–î–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –ó–Ω–∞—á–∏—Ç –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –≤ —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–≤–∏—Å–æ–≤.
–¢–∞–∫–∂–µ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –Ω–∞–¥–æ –æ—Ç–∫–∞—Ç—ã–≤—Ç—å—Å—è –∏–ª–∏ —á–∏–Ω–∏—Ç—å –æ—à–∏–±–∫—É.
–≠—Ç–æ –≤—ã—Å–æ–∫–æ—Ä–∏—Å–∫–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–∫–ª–∞–¥–∫–∏.
–ù–æ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π, –¥–µ—à–µ–≤—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ, –ª–∏–±–æ –∫–æ–≥–¥–∞ —É —Å–∏—Å—Ç–µ–º—ã –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–æ–π –Ω–µ –ø–æ–ª—å–∑—É—é—Ç—Å—è.


–î–æ –ü–æ—Å–ª–µ
v1.0 v2.0
![approaches-06](/11-microservices-03-approaches/Files/approaches-06.png)

#### 11–ú—É–ª—å—Ç–∏—Å–µ—Ä–≤–∏—Å Recreate      - 00:20:00
–ü—Ä–∏ —ç—Ç–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –≠—Ç–æ –±–æ–ª–µ–µ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.
–í–∞—Ä–∏–∞–Ω—Ç –ø—Ä–æ—Å—Ç–æ–π –¥–µ—à–µ–≤—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π. –ù–µ—É—Å—Ç–æ–π—á–∏–≤ –∫ –æ—à–∏–±–∫–∞–º. –° —Ç—Ä—É–¥–Ω–æ—Å—Ç—å –≤ –æ—Ç–∫–∞—Ç–∞—Ö.
–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —á—Ç–æ–±—ã –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º, —Ç.–∫. –º—ã –º–µ–Ω—è–µ–º –º–Ω–æ–≥–æ —á–∞—Å—Ç–µ–π —Å—Ä–∞–∑—É.
–ù–∞–¥–æ —Å—Ç–∞—Ä–∞—Ç—å—Å—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è. –î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–∞ —Å–∏–ª—å–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –≤—Å—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∏ –æ—à–∏–±–∫–µ.

–î–æ
v1.0
v2.7
–ü–æ—Å–ª–µ
v1.3
v3.8
v1.1
v2.8
v1.5
v4.0

![approaches-07](/11-microservices-03-approaches/Files/approaches-07.png)

#### 12Rolling deployment      -00:21:12
–≠—Ç–æ –¥–µ—Ñ–æ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –ø–æ–¥–æ–≤ –≤ Kubernetes.
–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (–∏–∑ –∫–æ—Ä–æ–±–∫–∏) –≤–æ –º–Ω–æ–≥–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.
–û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç
–ú–µ–Ω—å—à–µ —Ä–∏—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ. –û–Ω–∞ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å—Ä–∞–∑—É.

* –ú–∏–Ω—É—Å—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
  * –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–±–æ—Ç—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Å–µ—Ä–≤–∏—Å–æ–≤
  * –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  * 

–ü–æ—Å–ª–µ
–î–æ
1 Node
2 Nodes
OK?
v1.0
4 Nodes
3 Nodes
OK?
5 Nodes
OK?
6 Nodes
OK?
v2.0

![approaches-08](/11-microservices-03-approaches/Files/approaches-08.png)

#### 13Blue Green deployment     - 00:23:00

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç—É—Ä–∞ (Blue. Green). –û–¥–∏–Ω –∏–∑ –∫–æ–Ω—Ç—É—Ä–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã. –î—Ä—É–≥–æ–π –∫–æ–Ω—Ç—É—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã (Standby). –ù–∞ –∫–æ–Ω—Ç—É—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Standby —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —Ç—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ. –ï—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ—Ç, —Ç–æ —Ç–∞–∫ –æ–Ω –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ. –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª–Ω—ã–π –∫–æ–Ω—Ç—É—Ä, –ü–æ—Ç–æ–º –≤–Ω–æ—Å–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –æ–ø—è—Ç—å –ø—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å—Å—è.

* –ü–ª—é—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
  * –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö, —Ç.–∫. —É –Ω–∞—Å –Ω–∞ —Å—Ç–µ–Ω–¥–µ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–±–µ –≤–µ—Ä—Å–∏–∏
* –ú–∏–Ω—É—Å—ã:
  * –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç—É—Ä–∞ (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–≥–æ)
  * –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –î–≤–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –¢–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤.
  * –ï—Å—Ç—å —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å—Ç–µ–Ω–¥–∞, DNS –∏–ª–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞
Blue Green deployment  –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.

–î–æ
–ü–æ—Å–ª–µ
Stand by Live Live Stand by
v1.2 v1.1 v1.2 v1.1

![approaches-09](/11-microservices-03-approaches/Files/approaches-09.png)

#### 14Canary deployment     - 00:24:50
–≠—Ç–æ –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –≤—ã–∫–ª–∞–¥–∫–µ, –∞ –Ω–µ –ø—Ä–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏–∫–æ–º. –°–∫–æ—Ä–µ–µ —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
–ö–∞–Ω–∞—Ä–µ–µ—á–Ω–∞—è –≤—ã–∫–ª–∞–¥–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ –¥—Ä—É–≥—É—é. –¢.–µ. –æ–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.
–ó–¥–µ—Å—å –º–æ–≥—É—Ç –≤—ã–¥–µ–ª—è—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –≥—Ä—É–ø–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ë–µ—Ç—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ). –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ –∫–∞–∫–æ–π-—Ç–æ % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
–ù–∞ —Ç—Ä–∞—Ñ–∏–∫–µ —ç—Ç–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç—å –≤—Å–µ –ª –∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–µ—Ç. –í—ã—è–≤–ª—è—é—Ç –æ—à–∏–±–∫–∏, –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç –∏ —Ç.–¥. –æ–ø—è—Ç—å –æ–±–Ω–æ–≤–ª—è—é—Ç –ø–æ–∫–∞ –≤—Å–µ –æ—à–∏–±–∫–∏ –Ω–µ –∏—Å–ø—Ä–∞–≤—è—Ç.
–î–∞–ª–µ–µ –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ª–∏–±–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏, –Ω–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º–∏: Rolling Deployment, Recreate, Blue Green.

* –ü–ª—é—Å—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
  * –ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–∫–∞—Ç–∞
  * –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, —Å–µ—Ä–≤–∏—Å—ã, –≥–∏–ø–æ—Ç–µ–∑—ã –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–º % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  * –≠—Ç–æ –¥–µ—à–µ–≤–ª–µ Blue Green. –ù–µ –Ω—É–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ —Å—Ç–µ–Ω–¥–∞.
  * –ù–∞–∏–º–µ–Ω–µ–µ —Ä–∏—Å–∫–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å —É—á–µ—Ç–æ–º —Ü–µ–Ω—ã.

* –ú–∏–Ω—É—Å—ã:
  * –î–æ–ª–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–º—è –ø—Ä–µ–∂–¥–µ —á–µ–º –º—ã –ø–æ–π–º–µ–º —á—Ç–æ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫
  * –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
  * –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑–Ω—ã–π –≤–µ—Ä—Å–∏–π
  * –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–î–æ
–ü–æ—Å–ª–µ
10% –∑–∞–ø—Ä–æ—Å–æ–≤
70% –∑–∞–ø—Ä–æ—Å–æ–≤
OK?
v1.0
v1.1
v1.0
100% –∑–∞–ø—Ä–æ—Å–æ–≤
OK?
v1.1
v1.0
v1.1
![approaches-10](/11-microservices-03-approaches/Files/approaches-10.png)

#### 15A/B Testing   -0:28:45
–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–µ—Ä–≤–∏—Å–∞ –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–Ω–∞ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –∫–æ–Ω—Ç—É—Ä–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏.
–ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —ç—Ç–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω—ã –∫–∞–∫–∏–µ-—Ç–æ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–æ–≥–æ —á—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —É–¥–∞—á–Ω—ã–π –∏–ª–∏ –Ω–µ—Ç. –ò –∫–∞–∫–æ–π –∏ –∑–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç.
–≠—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ Deployment. –ú—ã –≥–æ–∞–æ—Ä–∏–º –ø—Ä–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
–ú–æ–∂–Ω–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–Ω–µ—Ç–æ–≤.

* –ú–∏–Ω—É—Å—ã: 
  * –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—Å–µ–π —ç—Ç–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  * –ò—Ç–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–¥–æ —Å–æ–±–∏—Ä–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –ê –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
  * –ë–µ–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∑–¥–µ—Å—å –Ω–µ –æ–±–æ–π—Ç–∏—Å—å. –ò–Ω–∞—á–µ–Ω –µ –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ —Å–µ—Ä–≤–∏—Å —Å –∫–∞–∫–æ–π –≤–µ—Ä–≤–∏–µ–π –∫–∞–∫ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª

–ü–æ—Å–ª–µ
–î–æ
v1.2(B)
71%
v1.3 (D)
73%
v1.2 (C)
63%
v1.0
v1.0 (A) = 71%
v1.3

![approaches-11](/11-microservices-03-approaches/Files/approaches-11.png)

#### 16Shadow     -00:32:43

–¢–µ–Ω–µ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –±–æ–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã.
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ –æ–±–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–≤–µ—Ç –æ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –∞ –æ—Ç–≤–µ—Ç –æ—Ç –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –æ—Ç–≤–µ—Ç—Ç–æ–º –æ—Ç —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏. –¢–∞–∫ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ä–µ–≥—Ä–µ—Å—Å, –∏–∑–º–µ—Ä–∏—Ç—å –ø—Ä–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
* –í –æ—Å–Ω–æ–≤–Ω–æ–º —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—è –±–æ–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫, –ø—Ä–∏ —ç—Ç–æ–º –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—è –Ω–ø –æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
* –í—ã–∫–∞—Ç–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

* –ú–∏–Ω—É—Å—ã:
  * –î–æ—Ä–æ–≥–æ
  * –°–ª–æ–∂–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
  * –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ

–ï—Å–ª–∏ –º—ã –∑–∞–Ω–∏–º–∞–µ–º—Å—è –∑–∞–º–µ–Ω–æ–π –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–µ—Ä–≤–∏—Å–∞, —Ç–æ —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –≤ –ø–ª–∞–Ω–µ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –º–æ–∂–µ–º –Ω–∞ –±–æ–µ–≤–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–∞—à —Å–µ—Ä–≤–∏—Å, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –ø–æ-–Ω–æ–≤–æ–º—É (–Ω–∞ –Ω–æ–≤–æ–º —è–∑—ã–∫–µ, —Å –Ω–æ–≤—ã–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏) —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è.
–î–æ
v1.0
–ü–æ—Å–ª–µ
v1.0
v2.0
![approaches-12](/11-microservices-03-approaches/Files/approaches-12.png)

#### 17–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ      - 00:34:40

* –í—ã–≤–æ–¥—ã –ø—Ä–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
  * Rolling Deployment, Blue Green - —ç—Ç–æ –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±–æ—é.
  * Blue Green –∏ Shadow —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤. Blue Green - –¥–≤–æ–π–Ω–æ–≥–æ, —á—Ç–æ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è—Ç—è–µ—Ç –Ω–∞ –±—é–¥–∂–µ—Ç


|–°—Ç—Ä–∞—Ç–µ–≥–∏—è|–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏|–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö|–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π|–°—Ç–æ–∏–º–æ—Å—Ç—å|–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞|–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π|–°–ª–æ–∂–Ω–æ—Å—Ç—å|
|-|-|-|-|-|-|-|-|
Recreate| ‚ùå|‚ùå|‚ùå| üí≤ |üïîüïîüïî| Û∞£ªÛ∞£ªÛ∞£ª |
Rolling| ‚úî| ‚ùå| ‚ùå| üí≤ |üïîüïîüïî| Û∞£ª |üî¨
Blue Green| ‚úî |‚ùå| ‚ùå| üí≤üí≤üí≤ ||Û∞£ªÛ∞£ª |üî¨üî¨
Canary| ‚úî |‚úî| ‚ùå| üí≤ |üïî |Û∞£ª |üî¨
A/B Testing| ‚úî |‚úî| ‚úî| üí≤ |üïî| Û∞£ª |üî¨üî¨üî¨
Shadow| ‚úî| ‚úî| ‚ùå| üí≤üí≤üí≤|||üî¨üî¨üî¨

![approaches-13](/11-microservices-03-approaches/Files/approaches-13.png)

### 18–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ      - 00:36:05

#### 19–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
* –ì–ª–∞–≤–Ω–æ–µ:
  * –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –±–∞–∑–∏—Ä—É—é—Ç—Å—è –Ω–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞—Ö, –∏–Ω–∞—á–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–æ–±–∏—Ç—å—Å—è –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –ü—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–≥–æ –∏ –Ω–µ –Ω–∞–¥–µ–∂–Ω–æ.

* –ö–≤–∞–¥—Ä–∞–Ω—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  * –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—á–∏–∫–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É
  * –ë–∏–∑–Ω–µ—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–µ–∏—Å–∫—É—à–µ–Ω–Ω—ã–º –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º

–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –Ω–∞–¥–æ –æ—Ç–¥–∞–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–º –ª–µ–≥–∫–æ–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ—Å—Ç–∞–º
–ò–Ω–æ–≥–¥–∞ –Ω–∞ –æ–±–æ–π—Ç–∏—Å—å –∏ –±–µ–∑ —Ä—É—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ.

–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –µ—Å–ª–∏ –æ—Ç –Ω–µ–µ –∑–∞–≤–∏—Å–∏—Ç –∂–∏–∑–Ω—å –∏ –∑–¥–æ—Ä–æ–≤—å–µ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

![approaches-14](/11-microservices-03-approaches/Files/approaches-14.png)

### 20–ü–∏—Ä–∞–º–∏–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è    - 00:39:05
* –ü–∏—Ä–∞–º–∏–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç —Ç–µ—Å—Ç—ã
  * End to End —Ç–µ—Å—Ç—ã –¥–∞—é—Ç –±–æ–ª—å—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏ —Å–∏—Å—Ç–µ–º, –∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏. –ù–æ —Ç–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–æ—Ä–æ–≥–∏–µ –∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–Ω–æ–≥–æ.
  * Unit Test –±—ã—Å—Ç—Ä—ã–µ –∏ –¥–µ—à–µ–≤—ã–µ, –Ω–æ –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–¥ –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞. –¢–∞–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–Ω–æ–≥–æ —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á—Ç–æ —É –Ω–∞—Å –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∫–∞–∫ –Ω—É–∂–Ω–æ
  * Service


![approaches-15](/11-microservices-03-approaches/Files/approaches-15.png)

### 21–¢–µ—Å—Ç—ã - —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è   -00:41:25

–¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—å—é —Å–±–æ—Ä–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (–ø–∞–π–ø–ª–∞–π–Ω). –ß–µ–º —Ä–∞–Ω—å—à–µ —Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–¥–µ—Ç, –µ—Å–ª–∏ –≤ –Ω–µ–π –µ—Å—Ç—å –æ—à–∏–±–∫–∞, —Ç–µ–º —ç—Ç–æ –ª—É—á—à–µ.
–ù–µ –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ—à–ª–∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã. –ü–æ–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –ø–æ—á–∏–Ω–∏–ª —é–Ω–∏—Ç-—Ç–µ—Å—Ç, –¥–∞–ª—å—à–µ –ø–∞–π–ø–ª–∞–π –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏.
–ó–∞–¥–∞—á–∞ DevOps- –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞–π–ø–ª–∞–π–Ω. –ê —Ç–µ—Å—Ç—ã –ø–∏—à—É—Ç –∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—â–∏–∫–∏.

Unit Tests
Service Tests
End to End Tests
–¶–µ–ø–æ—á–∫–∞-—Å–±–æ—Ä–∫–∞
–ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫
–º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ, —á—Ç–æ–±—ã
—Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è
–æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.

![approaches-16](/11-microservices-03-approaches/Files/approaches-16.png)

### 22–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å    - 00:42:50

### 23–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è   -00:44:40
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ã—è–≤–ª–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å—É–±—ä–µ–∫—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –µ–≥–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

### 24Single Sign On  (SSO)  -00:49:35

–≠—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –µ–¥–∏–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –ø–∞—Ä–æ–ª—å
Login 1 Service 1 Service 1
Login 2 Service 2 Service 2
SSO
Login 3 Service 3 Service 3
Login 4 Service 4 Service 4

![approaches-17](/11-microservices-03-approaches/Files/approaches-17.png)

### 25–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è    - 00:51:00

–°–µ—Ä–≤–∏—Å—ã —Ç–æ–∂–µ –¥–æ–ª–∂–Ω—ã –æ–±—â–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π –≤ —Ä–∞–º–∫–∞—Ö —Å–∏—Å—Ç–µ–º—ã. –ò—Ö –≤—ã–∑–æ–≤—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω—ã, —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã.
–ù–∞–º –Ω–∞–¥–æ —Ä–µ—à–∏—Ç—å –∫–∞–∫—É—é –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ

1. –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–æ–∫–µ–Ω - —Ç–∞—Å–∫–∞—Ç—å —Å —Å–æ–±–æ–π —Ç–æ–∫–µ–Ω –æ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ü—Ä–æ—Å—Ç–∞—è HTTP –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Basic - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è). –ü–æ–∑–≤–æ–ª—è–µ—Ç 
4. OAuth
5. Client CertiÔ¨Åcates
6. HMAC - —Ö—ç—à-–∫–æ–¥ –æ—Ç –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
7. API Keys

![approaches-18](/11-microservices-03-approaches/Files/approaches-18.png)

### 26–ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏   - 00:53:19
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ–º. –°–µ—Ç—å –∑–∞–∫—Ä—ã—Ç–∞—è. –ù–æ –ø–æ–ø–∞–≤ –≤ –Ω—É—Ç—Ä—å —Å–µ—Ç–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ.
–≠—Ç–æ –æ—á–µ–Ω—å —Ä–∏—Å–∫–æ–≤–∞–Ω–æ. –ù—É–∂–Ω –æ—Ö–æ—Ä–æ—à–æ –≤–∑–≤–µ—à–∏–≤–∞—Ç—å —Ä–∏—Å–∫–∏.

schema://host:port
Service 1
Service 2

![approaches-19](/11-microservices-03-approaches/Files/approaches-19.png)

### 27Propagate User Identity    - 00:54:35

–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ SSO —Ä–µ—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω, –≤—ã–¥–∞–Ω–Ω—ã–π –ø—Ä–∏ SSO –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏. –≠—Ç–æ –¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.  –í—Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –∑–∞—à–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

* –ú–∏–Ω—É—Å—ã:
  * –°–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤–µ–ª–µ–≥–∏–π. –ß–µ–º –±–æ–ª—å—à–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ä–æ–ª–µ–π, —Ç–µ–º —Å–ª–æ–∂–Ω–µ–µ –±—É–¥—É—Ç —Å–∏—Å—Ç–µ–º–∞
  * –ú–æ–≥—É—Ç –±—ã—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π –±–µ–∑ —É—á–∞—Å—Ç–∏—è –ø–æ–ª–∑–æ–≤–∞—Ç–µ–ª—è
login + password
schema://host:port
SSO
Client Token
Service 1
Service 2

![approaches-20](/11-microservices-03-approaches/Files/approaches-20.png)

### 8HTTP Basic Auth   -00:58:25
–ü—Ä–æ—Å—Ç–∞—è HTTP –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ HTTP
–ù–∏–∫–∞–∫–æ–π –∑–∞—â–∏—Ç—ã –Ω–µ—Ç. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Base64. –≠—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç.
–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS.
–õ–æ–≥–∏–Ω—ã –∏ –ø—Ä–∞–ª–∏ –¥–æ–ª–∂–Ω—ã –≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è, —á—Ç–æ–±—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –º–æ–≥–ª–∏ –∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.

```
https://host:port
Authorization: Basic base64(<username>:<password>)
Service 1
Service 2
HTTPS Server
CertiÔ¨Åcate
Private Key
–ü–æ–∏—Å–∫ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è –≤ –ë–∞–∑–µ –î–∞–Ω–Ω—ã—Ö
```
 
![approaches-21](/11-microservices-03-approaches/Files/approaches-21.png)

### 29OAuth2    -00:59:52

OAuth2 - –û—Ç–∫—Ä—ã—Ç—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.
–ù–∞ —ç—Ç–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, Google –∞—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Facebook–∏ —Ç.–¥.
Auth2 –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Client Credentials. –û–Ω —Å–æ–≤–º–µ—â–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –û–Ω –∑–∞–º–µ–Ω—è–µ—Ç Access Token, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞—à–∏—Ç–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ, –µ–≥–æ –ø—Ä–∞–≤–∞—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö.
–≠—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª. –î–ª—è –±–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º –µ—Å—Ç—å –±–∏–±–∏–ª–∏–æ—Ç–µ–∫–∏. –°–∞–º–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º –≤ –∏—Ç–æ–≥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ò —Ç–∞–∫ –∫–∞–∫ OAuth2 –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JIT –∫–∞–∫–æ–≥–æ-—Ç–æ —Ç–∞–º —Ç–æ–∫–µ–Ω–∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π—Å—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏). –í —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –º—ã –º–æ–∂–µ–º –ø–æ–º–µ—Å—Ç–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ—É. –ë–ª–∞–≥–æ–¥–∞—Ä–∞—è —ç—Ç–æ–º—É —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –ª—è–∂–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å). –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–∏—Å—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –¢–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å–∞–Ω —Å –ø–æ–º–æ—â—å—é –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –≤ –Ω–µ–º –µ—Å—Ç—å –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑—ã–≤–∞—é—â—É—é —Å—Ç–æ—Ä–æ–Ω—É, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞ —É –Ω–µ–µ –µ—Å—Ç—å –∏ —Ç.–¥. –∏ —Ç.–ø.
* –ú–∏–Ω—É—Å:
  *  –≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å
  *  –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–±–æ—Ä –∫–∞–∫–æ–≥–æ-—Ç–æ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

–•–æ—Ä–æ—à–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è SSO –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≥–æ—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π pan id connect. –ù–∞ –æ—Å–Ω–æ–≤–µ –µ–≥–æ —Å—Ç—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ OAuth2


OAuth2 Service
access_token
Service 1
Service 2
https://host:port
```
 Authorization: Bearer <access_token>`
```
![approaches-22](/11-microservices-03-approaches/Files/approaches-22.png)

### 30Client CertiÔ¨Åcates    -00:02:30
–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–º—å—é—á—É–∞–ª TLS)
–≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.
* –ü–ª—é—Å—ã:
  * –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã TLS, –í—Å–µ —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª HTTPS –∏ –ø–æ —Å—É–∏ –º—ã –æ–ø–∏—Ä–∞–µ–º—Å—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç
  * –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ—Ç –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
  * –¢.–∫. —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ç–æ–∂–µ –µ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ X502, –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π –ø—Ä–∏ –≤—ã–ø—É—Å–∫–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ - —ç—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤ –ø–ª–∞–Ω–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
* –ú–∏–Ω—É—Å—ã:
  * –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤—ã–ø—É—Å–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –∏—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —Ö—Ä–∞–Ω–µ–Ω–∏ —Ä–µ–ª–æ–∫–µ–π—à–µ–Ω –ª–∏—Å—Ç–æ–≤ –∏ —Ç.–¥.

–û–±—ã—á–Ω–æ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–µ—Ç—è—Ö –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤—ã–±–∏—Ä–∞—é—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è IoIT –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–∞–∂–Ω–∞—è –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.

CertiÔ¨Åcate Authority
Verify Server CertiÔ¨Åcate
Client
CertiÔ¨Åcate Server
CertiÔ¨Åcate
Public Key Public Key
Service 1
Service 2
Server
CertiÔ¨Åcate
Client
CertiÔ¨Åcate
Private
Key
Verify Client CertiÔ¨Åcate
https://host:port
Private
Key
![approaches-23](/11-microservices-03-approaches/Files/approaches-23.png)

### 31Hash-based Message Authentication Code (HMAC)     - 00:04:45

–°–∞–º—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–∏–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ –∫–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏–∏.
–ú–µ—Ç–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ç–æ–º, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–º–æ—â—å—é –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (—Å–µ–∫—Ä–µ—Ç). –°–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—å –ø–æ —Ç–µ–º –∂–µ –¥–∞–Ω–Ω—ã–º –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ø–æ–¥–ø–∏—Å—å —Å –≤—ã—á–µ—Å–ª–µ–Ω–Ω–æ–π. –ò —Å–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç –æ–±–ª–∞–¥–∞—é—Ç –æ–¥–Ω–∏–º —Å–µ–∫—Ä–µ—Ç–æ–º. –ö–ª–∏–µ–Ω—Ç –±–µ—Ä–µ—Ç –ø–æ—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–∞–¥—Ä–µ—Å, –∑–∞–≥–æ–ª–æ–≤–∫–∏, –±–æ–¥–∏), –≤—ã—á–∏—Å–ª—è–µ—Ç —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏—é –æ—Ç —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–µ –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º. –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –Ω–µ–≥–æ –≤—Å–µ —Ç–µ–∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –£ —Å–µ—Ä–≤–µ—Ä–∞ —Ç–æ–∂–µ –µ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç. –û–Ω –ø–æ —Ç–æ–º—É –∂–µ —Å–∞–º–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É –≤—ã—á–∏—Å–ª—è–µ—Ç —Ö—ç—à-–∫–æ–¥ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–æ—á—Ç–æ –ø—Ä–∏—Å–ª–∞–ª –∫–ª–∏–µ–Ω—Ç —Å —Ç–µ–º, —á—Ç–æ –≤—ã—á–∏—Å–ª—Å–ª —Å–µ—Ä–≤–µ—Ä. –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –∑–Ω–∞—á–∏—Ç —É –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç –∏ –º—ã –º–æ–∂–µ–º –µ–º—É –¥–æ–≤–µ—Ä—è—Ç—å. –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç —Å–µ–∫—Ä–µ—Ç–∞ –Ω–µ—Ç –∏ —ç—Ç–æ –Ω–µ –∫–ª–∏–µ–Ω—Ç, –∞ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∏ –¥–æ–≤–µ—Ä—è—Ç—å –µ–º—É –Ω–µ–ª—å–∑—è. –°–µ–∫—Ä–µ—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∞–ª–∏–≤–∞—é—Ç—Å—è –Ω–µ –≤ –æ–Ω–ª–∞–π–Ω, –∞ –∏—Å–ø–æ–ª—å–∑—É—è –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã. 
* –ú–∏–Ω—É—Å:
  * –î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Ç–∞–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–º
  * –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS, —Ç.–∫. –¥–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ –∑–∞–ø—Ä–æ—Å –ø–æ–¥–∞–ª —Ç–æ—Ç, –∫—Ç–æ –∏–º–µ–µ—Ç —Å–µ–∫—Ä–µ—Ç, –Ω–æ –æ–Ω –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–¥–∞—á–∏.

HMAC —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–ª–∞—á–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –≤ —Å–≤–æ–∏—Ö –æ–±–ª–∞—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö.
HMAC - —ç—Ç–æ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç. –ú—ã –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ—Å—Ç–æ –æ –ø–æ–¥—Ö–æ–¥–µ. –ö–∞–∂–¥—ã–π, –∫—Ç–æ –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç, —Å–∏—Å—Ç–µ–º–∞, –æ–±–ª–∞—á–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –∫–æ–º–ø–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ö–æ—á–µ—Ç —Ç–∞–∫—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Ä–∞–µ–ª–∏–∑–æ–≤–∞—Ç—å, –æ–Ω–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ —Å–≤–æ–µ–º—É. 
–ï—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ OpenSource —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –≤ —Ü–µ–ª–æ–º –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞. –ï–≥–æ –∫–∞–∂–¥—ã–π —Ä–∞–µ–ª–∏–∑—É–µ—Ç –∫–∞–∫ —Ö–æ—á–µ—Ç. –≠—Ç–æ –∏ –ø–ª—é—Å –∏ –º–∏–Ω—É—Å.
```
https://host:port
Authorization: HMAC-SHA256 <id>:<signature>
Service 1
Service 2
id
secret
id
id secret
id
id secret
secret
secret
CanonicalRequest
Timestamp
+ HTTP Verb
+ Canonical URL
+ Canonical Query String
+ Canonical Headers
+ Signed Headers
+ hash(SHA256, Payload)
Signature Calculation
StringToSign
‚ÄúHMAC‚Äù
+ Timestamp
+ hex(hash(SHA256, CanonicalRequest))
Signature
hex(hmac(SHA256, secret, StringToSign))
```
 
![approaches-24](/11-microservices-03-approaches/Files/approaches-24.png)

### 32API Keys    - 01:09:05

–≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑—ã–≤–∞—é—â—É—é —Å—Ç–æ—Ä–æ–Ω—É. –≠—Ç–æ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∞ –ø—Ä–æ—Å—Ç–æ —à–∞–±–ª–æ–Ω. –ü–æ—ç—Ç–æ–º—É —Ä–∞–∑–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ –ø–æ —Ä–∞–∑–Ω–æ–º—É. (–∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ñ–∞–π–ª—ã-–∫—É–∫–∏).
–°—á–∏—Ç–∞–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ HTTPS.

* –ú–∏–Ω—É—Å—ã:
  * –ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ( –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ API Keys –ª—É—á—à–µ –µ–≥–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è—Ç—å.)
  * –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è HTTPS, TLS



1. –ó–∞–≥–æ–ª–æ–≤–æ–∫
https://host:port
X-API-Key: 2fb96c97-d401-475a-8f12-ed7b9346fedb
2. –°—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
https://host:port?api_key=2fb96c97-d401-475a-8f12-ed7b9346fedb
Service 1
Service 2
–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è API Key –ø–æ –ë–∞–∑–µ –î–∞–Ω–Ω—ã—Ö

![approaches-25](/11-microservices-03-approaches/Files/approaches-25.png)
  
### 33–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è    -01:10:15
–í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ—à–∞–µ–º–æ–π –∑–∞–¥–∞—á–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Ç —Ü–µ–ª–∏, —Ä–µ—à–∞–µ–º–æ–π —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º.

1. –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–æ–∫–µ–Ω
3. –ü—Ä–æ—Å—Ç–∞—è HTTP –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
4. OAuth
5. Client CertiÔ¨Åcates
6. HMAC
7. API Keys

### 34–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥     -01:11:40

### 35–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
Host 1
Host 2
–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å
–ø—É–±–ª–∏–∫—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
Host N
–ù–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –æ—Å–Ω–æ–≤–µ
—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
–∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
http://host/metrics
Prometheus
Graphana
InÔ¨ÇuxDb

### 36–°–±–æ—Ä –ª–æ–≥–æ–≤
Host 1 Host 2 Host N
Application
log Application
log Application
log
Logstash Logstash Logstash
Elastic Search Kibana

### 37–°–±–æ—Ä —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
Host 1 Host 2 Host N
Jaeg–µr Agent Jaeg–µr Agent Jaeg–µr Agent
Jaeg–µr Collector
Cassandra
Jaeg–µr UI

### 38–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
1. –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
2. –°–±–æ—Ä –ª–æ–≥–æ–≤
3. –°–±–æ—Ä —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
–í–∞–∂–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É
–¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

### 39–ò—Ç–æ–≥–∏
‚óè –£–∑–Ω–∞–ª–∏ –≤–∞–∂–Ω–æ—Å—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –ø–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π
–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚óè –ü–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å–æ —Å–ø–æ—Å–æ–±–∞–º–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
‚óè –£–∑–Ω–∞–ª–∏ –ø—Ä–æ —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–∑—É—á–∏–ª–∏ –≤–ª–∏—è–Ω–∏–µ –ø–∏—Ä–∞–º–∏–¥—ã
—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚óè –†–∞–∑–æ–±—Ä–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚óè –ü–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å–æ —Å–ø–æ—Å–æ–±–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞

### 40–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤–∞—à–µ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ.
‚óè –í–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç–µ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤ —á–∞—Ç–µ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ Slack.
‚óè –ó–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ —Å–¥–∞–≤–∞—Ç—å –ø–æ —á–∞—Å—Ç—è–º.
‚óè –ó–∞—á—ë—Ç –ø–æ –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç–µ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–∏–Ω—è—Ç—ã
–≤—Å–µ –∑–∞–¥–∞—á–∏.

### 41–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –∏
–ø–∏—à–∏—Ç–µ –æ—Ç–∑—ã–≤ –æ –ª–µ–∫—Ü–∏–∏!
–ú–∏—Ö–∞–∏–ª –¢—Ä–∏–ø–æ–ª–∏—Ç–æ–≤
–ú–∏—Ö–∞–∏–ª –¢—Ä–∏–ø–æ–ª–∏—Ç–æ–≤
