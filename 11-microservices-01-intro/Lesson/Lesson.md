# Ход выполнения ДЗ к занятию "11.01 Введение в микросервисы"

## Задача 1: Интернет Магазин

Руководство крупного интернет магазина у которого постоянно растёт пользовательская база и количество заказов рассматривает возможность переделки своей внутренней ИТ системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы необходимо будет решить в первую очередь.


**Ответ:**
### Выгоды от перехода на микросервисную архитектуру

1. Основная выгода - ускорения создания, тестирования и доставки приложения до пользователей с новыми фичами, патчами и релизами. 
2. Количество релизов становится больше. Проще делать откаты до предыдущих версий.
3. Более рациональное использование вычислительных ресурсов (HDD, RAM, CPU) в случае увеличения нагрузок на сервисы. Выгоднее масштабировать (как увеличивать, так и уменьшать их кол-во) микросервисы, чем монолитное приложение. 
4. Более высокая надежность и производительность системы, т.к. отсутствует единая точка отказа.
5. Повышенный  KPI системы, т.к. для реализации компонентов на основе микросервисной архитектуры можно использовать различные (наиболее оптимальные технологии) для каждого сервиса.
6. Возможность постепенно добавлять новый функционал в сервисы.




Выгоды:
1. В распределенной системе снижается зависимость между компонентами

```
3. Возможность оперативно наращивать мощьности за счет горизонтального масштабирования, 
   и обратно сокращать объем системы при снижении нагрузки
```
   
```   
3. Снижать риски деграджации системы и полного отказа, за счет отсутсвия единой точки отказа, повышается работоспособность.
```
```
4. Возможность использования разных технологий в разных сервисах, а так же применение оптимального стека технологий, для новых сервисов. 
```
```
5. Возможность гибко добавлять сложный функионал за счет разработки новых сервисов
```
```
6. Повышение возможности делать более чатсые релизы , т.е. быстрее выводить новые функции и фичи,
   сюда же можно отнести возможность автоматизации CI/CD 
   и ускорение тестирование - тестирование отдельных сервисов, а не монолитной системы с регресстестированием при модификации какой-либо части
```   

7. В теории за счет повторения сервисами структуры коммуникации организации, можно создать более горманичную систему, 
   при разделении команд на разных сервисах с разными задачами и бизнесцелями. Что может дать вполне оптимальный результат (Закон Конвея)
   
Проблемы:
1. Микросервисы не являются панацеей, и решать проблемы вычислительных мощьностей и инфраструктуры так же по прежнему придется.
2. Необходимо найти баланс , и не дробить систему слишком, чтбы не усложнисть систему слишком мелкими сервисами.
3. Необходимо развивать дополнительные компетенции службы технической поддержки и сопровожедния.
4. Так же необходимо повышать квалификацию разработчиков и функциональных обязанностей (документировани, версионирование ), 
   возможно придется расширить штат разработчиков в связи с распределением систем и разделением комманд для разных сервисов.
5. Введение дополнительной службы (возможно внтурикоманндного распределение обязанностей) - DevOps


```
* Разделить всю предметную область на составные части ### 11Bounded Context        - 00:27:45 из лекции 2.
  - Витрина
  - Цены
  - Корзина
  - Заказы
  - Склад
  - Доставка
```
* Имея такое измерение можно использовать границы контекста как границы сервисов
* Хороший вариант - это начать делить на сервисы, выделяя каждый ограниченный контекст
* Могут быть причины для того, чтобы делить на более мелкие сервисы для того, чтобы решить ту или иную задачу.
* Выбор способа интеграции - один из наиважнейших аспектов в успехе построения системы, основанной на микросервисной архитектуре
* Нужна система для бестрой интеграции, поставки ПО и быстрой установки ПО

1. Разделим процесс работы нашего магазиныа на конктрентые бизнес-задачи
2. Определить структуру организации
3. Будем использовать какой-нибудь один стэк технологий (Язык программирования, например)
4. Определить какой из сервисов чаще вызывается, какой больше испытывает нагрузку

### Проблемы при переходе на микросервисную архитектуру

1. Предстоит решить вопрос об ограниченом контексте разработки. Нужно чтобы каждое ограничение контекста описывал один сервис.
2. Нужно будет найти баланс между количеством созданных микросервисов и сложностью системы.
3. Определить какие необходимы протоколы для внутреннго межсервисного взаимодействия.
4. Определить какие будут использоваться протоколы для взаимодействия микросервисов с клиентами.
5. Определить каким будет тип межсервисного взаиможействия - синхронное или асинхронное.
6. Решить с каким типом управления работой микросервисов строить систему - с оркестрацией или хореографией.
7. Создать команды разработчиков, которые будут разрабатывать и поддерживать микросервисы. 
8. Создать отдельную службу (с необходимыми инструментами), решающей вопросы постоянного тестирования, доставки и выкладки приложения.
9.



1. Микросервисы не являются панацеей, и решать проблемы вычислительных мощьностей и инфраструктуры так же по прежнему придется.
2. Необходимо найти баланс , и не дробить систему слишком, чтбы не усложнисть систему слишком мелкими сервисами.
3. Необходимо развивать дополнительные компетенции службы технической поддержки и сопровожедния.
4. Так же необходимо повышать квалификацию разработчиков и функциональных обязанностей (документировани, версионирование ), 
   возможно придется расширить штат разработчиков в связи с распределением систем и разделением комманд для разных сервисов.
```
5. Введение дополнительной службы (возможно внтурикоманндного распределение обязанностей) - DevOps
```


Во избежание увеличения проблем не использовать микросервисную архитектуру, если:
5. Есть ручное тестирование
6. Есть ручная выкладка
7. Есть высокая сложность кода
8. Есть большой технический долг

9. Есть ли команда, которая будет разрабатывать и поддерживать микросервисы
10. Нужно чтобы каждое ограничение контекста описывал один сервис
11. Какой будет тип межсервисного взаиможействия - синхронное или асинхронное
12. Оркестрация или хореография
13. Какие протоколы внутренние для межсервисного взаимодействия
14. Какие протоколы для взаимодействия с клиентами
---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
